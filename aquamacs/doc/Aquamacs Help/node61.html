<!DOCTYPE HTML>

<!--Converted with LaTeX2HTML 2021 (Released January 1, 2021) -->
<HTML lang="en">
<HEAD>
<TITLE>Changes&mdash; 1.6</TITLE>
<META NAME="description" CONTENT="Changes&mdash; 1.6">
<META NAME="keywords" CONTENT="aquamacs">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<META NAME="viewport" CONTENT="width=device-width, initial-scale=1.0">
<META NAME="Generator" CONTENT="LaTeX2HTML v2021">

<LINK REL="STYLESHEET" HREF="aquamacs.css">

<LINK REL="next" HREF="node62.html">
<LINK REL="previous" HREF="node60.html">
<LINK REL="next" HREF="node62.html">
</HEAD>

<BODY >

<DIV CLASS="navigation"><!--Navigation Panel-->
<A
 HREF="node62.html">
<IMG WIDTH="37" HEIGHT="24" ALT="next" SRC="next.png"></A> 
<A
 HREF="node43.html">
<IMG WIDTH="26" HEIGHT="24" ALT="up" SRC="up.png"></A> 
<A
 HREF="node60.html">
<IMG WIDTH="63" HEIGHT="24" ALT="previous" SRC="prev.png"></A> 
<A ID="tex2html421"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALT="contents" SRC="contents.png"></A>  
<BR>
<B> Next:</B> <A
 HREF="node62.html">Changes 1.5</A>
<B> Up:</B> <A
 HREF="node43.html">Aquamacs Emacs: What's New</A>
<B> Previous:</B> <A
 HREF="node60.html">Changes  1.7</A>
 &nbsp; <B>  <A ID="tex2html422"
  HREF="node1.html">Contents</A></B> 
<BR>
<BR></DIV>
<!--End of Navigation Panel-->

<H2><A ID="SECTION0001518000000000000000">
Changes&mdash; 1.6</A>
</H2>

<P>
<SPAN  CLASS="textit">Display</SPAN>

<P>

<UL>
<LI>Tabs are now on by default in new installations. &ldquo;Show buffers in new frames&rdquo; ( one-buffer-one-frame-mode) is off by default.  Use the Options menu if you'd like to configure different settings.  (That users who had previously installed and configured Aquamacs will retain their chosen settings.)
Tab code by Nathaniel Cunningham, David&nbsp;Ponce and David Reitter.

<P>
</LI>
<LI>Aquamacs Styles have seen a major overhaul and are now called <EM>Aquamacs Autofaces</EM>.  To recap, these autofaces apply settings such as fonts, background and foreground colors to buffers and the frames as they show the buffers.  The settings are chosen according to the major mode used in the buffer.  This makes is possibly to automatically edit prose texts (such as LaTeX) in a variable-width (proportional) font, but do one's programming (e.g., Python or C) in a fixed-width font.
Refer below for a technical explanation of the change.

<P>
</LI>
<LI>The use of color themes is being phased out.  While still included in Aquamacs, they are not available any longer from the Options menu.  We recommend the new light-weight functions to set fore/background colors using the Options / Appearance menu.

<P>
</LI>
<LI>Fontsets are no longer defined on startup (with a few exceptions to ease the transition).  If your frame settings (`default-frame-alist' and `special-display-frame-alist') contain references to fontsets like <SPAN style="font-family:monospace">fontset-monaco12</SPAN>, we recommend to remove them, e.g., via M-x customize-option.

<P>
</LI>
<LI>The font used for text in the echo area (the `default' face) is now Lucida 13pt, as is customary on the Mac.  Note that the size of this font is used to express frame geometry settings, so this may need manual adjustment.  The font used for major modes that do not have a special setting (the `autoface-default' face) is Monaco, so that buffers are generally shown in a monospaced font.  The default for certain other modes such as `text-mode' (face: `text-mode-default') and `latex-mode' (face: `latex-mode-default') is Lucida 13pt.  You may change these settings using the font settings in the Options / Appearance menu, and also using M-x customize-face.

<P>
</LI>
<LI>There is a new function (in Options / Appearance) that will &ldquo;Adopt the frame parameters as default&rdquo; for all new frames.  Note that this will set `default-frame-alist' (or `special-display-frame-alist'). These settings will be saved in the customizations file with &ldquo;Save Options&rdquo;.  Emacs hackers need to be aware that such customization settings override any settings in <SPAN style="font-family:monospace">.emacs</SPAN> files (but not those in <SPAN style="font-family:monospace">Preferences.el</SPAN>).

<P>
</LI>
<LI>Zoom: press Command-+ (or Command-=) to zoom in, and Command-{}- to zoom out, changing the font size of the text shown.   You can also use your Meta key (normally Option) and the mouse wheel.  This zoom applies just to a buffer and frame.

<P>
</LI>
<LI>The line where the point (cursor) is can be highlighted with `highline-mode', available via Option / Show/Hide / Highlight Lines  (`global-highline-mode').
Code by Vinicius Jose Latorre.

<P>
</LI>
<LI>Fringes now blend with the rest of the window (background color).  Customize the `fringe' face if you'd like more pronounced fringes.

<P>
</LI>
</UL>

<P>
<SPAN  CLASS="textit">Configuring and Extending Aquamacs</SPAN>

<UL>
<LI>New (text-mode) buffers will have soft word wrap enabled (rather than hard auto-fill mode), in line with the standard way of text editing on the Mac.  Soft word wrap is also used for opened files as a default, when the wrapping mode cannot be determined automatically.  (Customize `auto-word-wrap-default-function' to nil to change this back.)

<P>
</LI>
<LI>More user-installed files (in the <SPAN style="font-family:monospace">/Library</SPAN> and <SPAN style="font-family:monospace">/Users/.../Library</SPAN> folders now take precedence over Aquamacs-supplied packages.  Specifically, user-supplied packages contained in subdirectories, including an AUCTeX distribution (must be compiled) are loaded when present.  Thus, almost all packages that come with Aquamacs can now be replaced.
Warning: supplying your own packages may cause errors.

<P>
</LI>
<LI>A new function in the Tools menu will install a small tool that allows users to open files in Aquamacs from a shell (command-line / Terminal).  The command format is <SPAN style="font-family:monospace">aquamacs filename.txt</SPAN>.

<P>
</LI>
<LI>The Options menu has been restructured. You can now find the functions &ldquo;Enter Debugger on Error&rdquo; and &ldquo;Enter Debugger on Quit&rdquo; in the &ldquo;Help / Diagnose and Report Bug&rdquo; sub-menu.

<P>
</LI>
<LI>When started from a shell (e.g. in a terminal), `default-directory' will be the inherited from the shell.
Reported by Robert Goldman.

<P>
</LI>
<LI>Aquamacs can now automatically select the frame and window over which you move your mouse cursor, as provided by Apple's Terminal.app and by many X11-based window managers under Unix and GNU/Linux.  We now include the `follow-mouse' package with a few extensions to make it work on the Mac.  You can turn it on with a simple
<BR><SPAN style="font-family:monospace">(turn-on-follow-mouse)</SPAN> in your Preferences.el file.

<P>
</LI>
<LI>The &ldquo;vl&rdquo; indicator in the mode-line has been removed. `global-visual-line-mode' is on by default in Aquamacs.
</LI>
<LI>The mode-line now shows &ldquo;Wrap&rdquo; to indicate that soft word wrapping (`word-wrap') is on in the buffer.  Word wrapping can be toggled with C-x w now.

<P>
</LI>
<LI>There is a new menu item to customize Aquamacs-specific options (as compared to GNU Emacs defaults) in the
Options / Customize Aquamacs menu.

<P>
</LI>
<LI>To see only labels (and not icons or icons and labels) in the tool-bar, use this setting in your <SPAN style="font-family:monospace">Preferences.el</SPAN> file:

<P>
<SPAN style="font-family:monospace">(setq mac-tool-bar-display-mode 'labels)</SPAN>

<P>
Note that this used to cause labels and icons to be displayed.  The variable value for labels and icons is now <SPAN style="font-family:monospace">both</SPAN>.

<P>
</LI>
<LI>Note that  the `cl' library is no longer loaded by any of the default packages that come with Aquamacs.  As a result, you may need to insert <SPAN style="font-family:monospace">(require 'cl)</SPAN> into your <SPAN style="font-family:monospace">Preferences.el</SPAN> file to load this package manually if you use any of the Lisp style functions or macros provided therein.

<P>
</LI>
</UL>

<P>
<SPAN  CLASS="textit">Major Modes</SPAN>

<P>

<UL>
<LI>SLIME, the Superior Lisp Interaction Mode is no longer included in Aquamacs but provided as a point-and-click installer plugin, which can be downloaded from the Aquamacs website.  The SLIME developers do not release validated versions; the SLIME plugins available from the Aquamacs website are development builds that are updated regularly.

<P>
</LI>
<LI>Wikipedia mode (version 1.5 plus Aquamacs modification) included.  This can be used to edit text for Wikipedia and other Mediawiki wikis.  Start with M-x wikipedia-mode.
Code by Chong Yidong, Uwe Brauer.

<P>
</LI>
<LI>Python mode has been updated to use `python-mode'  (as found on Launchpad).
Reported by Jin Choi.  Python-mode Code maintained by Barry Warsaw.  Research by Skip Montanaro.

<P>
</LI>
<LI>Emacs Speaks Statistics (ESS) has been updated to version 5.3.10 (was: 5.3.6).  Refer to the ESS website for changes (<SPAN CLASS="SPAN"> <kbd><A ID="tex2html62"
  HREF="http://ess.r-project.org/Manual/readme.html#New-Features">http://ess.r-project.org/Manual/readme.html#New-Features</A></kbd></SPAN>).

<P>
</LI>
</UL>

<P>
<SPAN  CLASS="textit">Bugfixes and Miscellany</SPAN>

<P>

<UL>
<LI>Aquamacs has a smaller footprint; The download is about 7&nbsp;MBytes smaller; the installed program about 4&nbsp;MBytes.

<P>
</LI>
<LI>Aquamacs will now start up again for use in a terminal (-nw argument).
Reported by Ian Soboroff.

<P>
</LI>
<LI>The &ldquo;Check for Updates&rdquo; menu item in the Aquamacs menu should work in all circumstances now.

<P>
</LI>
<LI>Fullscreen mode (A-S-Return, or Window menu) works again on all secondary displays.

<P>
</LI>
<LI>Dragging and dropping more than one file or opening several files from a terminal with Aquamacs with tabbar-mode will now lead to all files being shown in tabs, not just the last one.

<P>
</LI>
<LI>Command-1 (`aquamacs-delete-other-windows') no longer hides the tabbar in certain circumstances.

<P>
</LI>
<LI>Re-opening files already shown in a buffer or switching to buffers will bring up their tab, even if the tab is shown in another frame.

<P>
</LI>
<LI>An issue was addressed that could lead to the wrong tab being selected after killing or renaming a buffer.  The problem was evident with `find-alternate-file'.
Reported by Tao Peng.

<P>
</LI>
<LI>C-e (end-of-visual-line) will now work correctly in the last line of a buffer that does not end with a newline.
  Reported by Raymond Namyst.

<P>
</LI>
<LI>Command/Control-left/right will jump to the beginning or end of the visual line, respectively, rather than to the beginning or end of the buffer line.
Reported by Jean-Christophe Helary.

<P>
</LI>
<LI>When soft word wrap (`word-wrap') is off (see Options menu), then C-k (kill-visual-line) and Command-Backspace (kill-whole-visual-line) now behave like their non-visual counter-parts, i.e. they delete the whole (rest of the) buffer line, rather than the visual line.  This is in line with the extant behavior of C-a and C-e.
Reported by Tom van Vleck.

<P>
</LI>
<LI>When Aquamacs is given files from the command line or by some drag'n'drop event while no frames are shown, it now only shows a new or pre-existing frame with the new file(s) rather than two frames.
Reporter unknown (thanks for letting us know though).

<P>
</LI>
<LI>Page-wise scrolling (PgUp, M-up, aquamacs-page-up and friends) now works correctly when faces with different sizes are used in buffers, such as in LaTeX-mode.  (Note that the `pager' package is not used any longer.  While the screen position of the cursor should be preserved in most cases, this is not perfect.  `pager' can still be activated using <SPAN style="font-family:monospace">(require 'pager) </SPAN> in Preferences.el.

<P>
</LI>
<LI>C-a (beginning-of-visual-line in `visual-line-mode' which is the default) will now always skip a prompt (e.g., in shell-mode) at the beginning of the line.

<P>
</LI>
<LI>Moving the cursor up and down failed in certain situations involving side-by-side windows in a frame.
Reported by Jin Choi.

<P>
</LI>
<LI>Beginning/End-of-line movement commands don't signal an error any longer in visual line mode (so there is also no echo area message).

<P>
</LI>
<LI>Functions like `enlarge-frame' are bound to A-C-left/right/up/down (Command-Control) in all cases (and depend on osx-key-mode).

<P>
</LI>
<LI>The mouse cursor changes its shape when over buffer text.

<P>
</LI>
<LI>The Options / Show/Hide menu is now called View.
Suggested by Jean-Christophe Helary.

<P>
</LI>
<LI>Changed fringe mode is now recongized when options are saved.  The fringe menu was revised.

<P>
</LI>
<LI>Options -&gt; Save Options will always save the options now (whether considered needed or not).

<P>
</LI>
<LI>Scrolling with the mouse wheel now works without first selecting the frame &ndash; just move the mouse cursor over the window.  (N.B., `mouse-wheel-follow-mouse' only applies to windows, not to frames.)

<P>
</LI>
<LI>Maintaining full-screen frames across sessions works again; as does opening additional frames when the current frame is in full-screen mode.

<P>
</LI>
<LI>`ediff' (Tools menu, under &ldquo;Compare&rdquo;) no longer brings up additional controller frames.  This fix may also improve the function of other modes that use a complex set of frames. (By popular demand.)

<P>
</LI>
<LI>Info-mode is now compatible with the tabbar.

<P>
</LI>
<LI>Desktop-save-mode does not open additional scratch buffers any longer.
Reported by Ivan Werning.

<P>
</LI>
<LI>Auto-save files (usually named <SPAN style="font-family:monospace">#filename#</SPAN>) are now saved in a temporary directory, out of sight of the user.

<P>
</LI>
<LI>We forgot to offer to save newly created buffers when removing them (Command-W (close-buffer) or killing) after their major mode was changed.

<P>
</LI>
<LI>Showing a dired buffer with &ldquo;Show Buffers in New Frames&rdquo; (one-buffer-one-frame-mode, OBOF) enabled could lead to  the minor mode (OBOF) being turned off unexceptedly.

<P>
</LI>
</UL>

<P>
<SPAN  CLASS="textit">What's behind the change from Aquamacs Styles to Aquamacs Autofaces?</SPAN>
<SPAN CLASS="SPAN">Technical explanation: the core functionality of changing fonts and fore/background colors (in short: faces) is now provided by the new `aquamacs-autoface-mode'.
</SPAN>
<P>
<SPAN CLASS="SPAN">How does the new <SPAN  CLASS="textit">autoface</SPAN> mode differ from the <SPAN  CLASS="textit">styles</SPAN> mode?  Font and color settings now apply primarily to the default &ldquo;face&rdquo; used in the buffer.  For each major mode, a new face is defined.  For instance, the default face for LaTeX buffers is called `latex-mode-default'.  These faces can be edited directly via the Options menu (to choose a font and some new entries to choose fore- and background colors) or even with M-x customize-face.  These changes apply automatically and immediately to all buffers in the given major mode. In contrast, the <SPAN  CLASS="textit">styles</SPAN> mode used to set frame-wide parameters, including the font, fore- and background colors, and change these parameters in a frame according to the buffer shown in the first window within the frame.  Frame parameters also included the presence of a toolbar, cursor color, fringes, and the like.  These are not available in the new mode.
Previously, colors of a whole plethora of faces for various occasions could be chosen via the `color-theme' package.  These were needlessly tied to major modes using `aquamacs-styles'.
</SPAN>
<P>
<SPAN CLASS="SPAN">One advantage of the new, lightweight implementation of `autofaces' is that switching between buffers (e.g., with tabs) is smooth and does not lead to ugly frame resizing effects.  Multiple windows in the same frame can now display their buffers in the correct fonts.
</SPAN>
<P>
<SPAN CLASS="SPAN">Transition: relevant mode-specific settings from `aquamacs-styles-mode' are automatically imported.  The now deprecated functionality of `aquamacs-styles-mode' (changing frame parameters including the visibility of the toolbar) is still available to users by inserting
</SPAN><PRE>
(require 'aquamacs-styles)
(aquamacs-autoface-mode 0)
(aquamacs-styles-mode 1)
</PRE><SPAN CLASS="SPAN">
into their <SPAN style="font-family:monospace">Preferences.el</SPAN> file.  Users can also access color themes with M-x color-theme-select, but note that faces set using `aquamacs-autoface-mode' will override foreground and background colors.  </SPAN>

<P>

<DIV CLASS="navigation"><HR>
<!--Navigation Panel-->
<A
 HREF="node62.html">
<IMG WIDTH="37" HEIGHT="24" ALT="next" SRC="next.png"></A> 
<A
 HREF="node43.html">
<IMG WIDTH="26" HEIGHT="24" ALT="up" SRC="up.png"></A> 
<A
 HREF="node60.html">
<IMG WIDTH="63" HEIGHT="24" ALT="previous" SRC="prev.png"></A> 
<A ID="tex2html421"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALT="contents" SRC="contents.png"></A>  
<BR>
<B> Next:</B> <A
 HREF="node62.html">Changes 1.5</A>
<B> Up:</B> <A
 HREF="node43.html">Aquamacs Emacs: What's New</A>
<B> Previous:</B> <A
 HREF="node60.html">Changes  1.7</A>
 &nbsp; <B>  <A ID="tex2html422"
  HREF="node1.html">Contents</A></B> </DIV>
<!--End of Navigation Panel-->

</BODY>
</HTML>
