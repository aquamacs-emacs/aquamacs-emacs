<html lang="en">
<head>
<title>Patch and Diff Programs - Ediff User's Manual</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="Ediff User's Manual">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="Customization.html#Customization" title="Customization">
<link rel="prev" href="Refinement-of-Difference-Regions.html#Refinement-of-Difference-Regions" title="Refinement of Difference Regions">
<link rel="next" href="Merging-and-diff3.html#Merging-and-diff3" title="Merging and diff3">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
This file documents Ediff, a comprehensive visual interface to Unix diff
and patch utilities.

Copyright (C) 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002,
2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010 Free Software Foundation, Inc.

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.3 or any later version published by the Free Software
     Foundation; with no Invariant Sections, with the Front-Cover texts
     being ``A GNU Manual'', and with the Back-Cover Texts as in (a)
     below.  A copy of the license is included in the section entitled
     ``GNU Free Documentation License''.

     (a) The FSF's Back-Cover Text is: ``You have the freedom to copy
     and modify this GNU manual.  Buying copies from the FSF supports
     it in developing GNU and promoting software freedom.''
   -->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<a name="Patch-and-Diff-Programs"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="Merging-and-diff3.html#Merging-and-diff3">Merging and diff3</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="Refinement-of-Difference-Regions.html#Refinement-of-Difference-Regions">Refinement of Difference Regions</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Customization.html#Customization">Customization</a>
<hr>
</div>

<h3 class="section">7.8 Patch and Diff Programs</h3>

<p>This section describes variables that specify the programs to be used for
applying patches and for computing the main difference regions (not the
fine difference regions):

     <dl>
<dt><code>ediff-diff-program</code><dt><code>ediff-diff3-program</code><dd><a name="index-ediff_002dpatch_002dprogram-196"></a><a name="index-ediff_002ddiff_002dprogram-197"></a><a name="index-ediff_002ddiff3_002dprogram-198"></a>These variables specify the programs to use to produce differences
and do patching.

     <br><dt><code>ediff-diff-options</code><dt><code>ediff-diff3-options</code><dd><a name="index-ediff_002dpatch_002doptions-199"></a><a name="index-ediff_002ddiff_002doptions-200"></a><a name="index-ediff_002ddiff3_002doptions-201"></a>These variables specify the options to pass to the above utilities.

     <p>In <code>ediff-diff-options</code>, it may be useful to specify options
such as &lsquo;<samp><span class="samp">-w</span></samp>&rsquo; that ignore certain kinds of changes.  However,
Ediff does not let you use the option &lsquo;<samp><span class="samp">-c</span></samp>&rsquo;, as it doesn't recognize this
format yet.

     <br><dt><code>ediff-coding-system-for-read</code><dd><a name="index-ediff_002dcoding_002dsystem_002dfor_002dread-202"></a>This variable specifies the coding system to use when reading the output
that the programs <code>diff3</code> and <code>diff</code> send to Emacs. The default
is <code>raw-text</code>, and this should work fine in Unix and in most
cases under Windows NT/95/98/2000. There are <code>diff</code> programs
for which the default option doesn't work under Windows. In such cases,
<code>raw-text-dos</code> might work. If not, you will have to experiment with
other coding systems or use GNU diff.

     <br><dt><code>ediff-patch-program</code><dd>The program to use to apply patches.  Since there are certain
incompatibilities between the different versions of the patch program, the
best way to stay out of trouble is to use a GNU-compatible version. 
Otherwise, you may have to tune the values of the variables
<code>ediff-patch-options</code>, <code>ediff-backup-specs</code>, and
<code>ediff-backup-extension</code> as described below. 
<br><dt><code>ediff-patch-options</code><dd>Options to pass to <code>ediff-patch-program</code>.

     <p>Note: the `-b' and `-z' options should be specified in
`ediff-backup-specs', not in <code>ediff-patch-options</code>.

     <p>It is recommended to pass the `-f' option to the patch program, so it won't
ask questions.  However, some implementations don't accept this option, in
which case the default value of this variable should be changed.

     <br><dt><code>ediff-backup-extension</code><dd>Backup extension used by the patch program.  Must be specified, even if
<code>ediff-backup-specs</code> is given. 
<br><dt><code>ediff-backup-specs</code><dd>Backup directives to pass to the patch program. 
Ediff requires that the old version of the file (before applying the patch)
is saved in a file named <samp><span class="file">the-patch-file.extension</span></samp>.  Usually
`extension' is `.orig', but this can be changed by the user, and may also be
system-dependent.  Therefore, Ediff needs to know the backup extension used
by the patch program.

     <p>Some versions of the patch program let the user specify `-b backup-extension'. 
Other versions only permit `-b', which (usually) assumes the extension `.orig'. 
Yet others force you to use `-z&lt;backup-extension&gt;'.

     <p>Note that both `ediff-backup-extension' and `ediff-backup-specs' must be
properly set.  If your patch program takes the option `-b', but not
`-b extension', the variable `ediff-backup-extension' must still
be set so Ediff will know which extension to use.

     <br><dt><code>ediff-custom-diff-program</code><dt><code>ediff-custom-diff-options</code><dd><a name="index-ediff_002dcustom_002ddiff_002dprogram-203"></a><a name="index-ediff_002dcustom_002ddiff_002doptions-204"></a><a name="index-ediff_002dsave_002dbuffer-205"></a>Because Ediff limits the options you may want to pass to the <code>diff</code>
program, it partially makes up for this drawback by letting you save the
output from <code>diff</code> in your preferred format, which is specified via
the above two variables.

     <p>The output generated by <code>ediff-custom-diff-program</code> (which doesn't
even have to be a standard-style <code>diff</code>!) is not used by Ediff.  It is
provided exclusively so that you can
refer to
it later, send it over email, etc.  For instance, after reviewing the
differences, you may want to send context differences to a colleague. 
Since Ediff ignores the &lsquo;<samp><span class="samp">-c</span></samp>&rsquo; option in
<code>ediff-diff-program</code>, you would have to run <code>diff -c</code> separately
just to produce the list of differences.  Fortunately,
<code>ediff-custom-diff-program</code> and <code>ediff-custom-diff-options</code>
eliminate this nuisance by keeping a copy of a difference list in the
desired format in a buffer that can be displayed via the command <kbd>D</kbd>.

     <br><dt><code>ediff-patch-default-directory</code><dd><a name="index-ediff_002dpatch_002ddefault_002ddirectory-206"></a>Specifies the default directory to look for patches.

   </dl>

<p class="noindent"><strong>Warning:</strong> Ediff does not support the output format of VMS
<code>diff</code>.  Instead, make sure you are using some implementation of POSIX
<code>diff</code>, such as <code>gnudiff</code>.

   </body></html>

