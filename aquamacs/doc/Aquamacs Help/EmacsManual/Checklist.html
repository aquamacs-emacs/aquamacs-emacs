<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<!-- This is the GNU Emacs Manual,
updated for Emacs version 25.1.

Copyright Â© 1985-1987, 1993-2016 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "The GNU Manifesto," "Distribution" and
"GNU GENERAL PUBLIC LICENSE," with the Front-Cover Texts being "A GNU
Manual," and with the Back-Cover Texts as in (a) below.  A copy of the
license is included in the section entitled "GNU Free Documentation
License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom." -->
<!-- Created by GNU Texinfo 5.2, http://www.gnu.org/software/texinfo/ -->

<head>
  <meta name="generator" content=
  "HTML Tidy for Mac OS X (vers 31 October 2006 - Apple Inc. build 16.1), see www.w3.org" />

  <title>GNU Emacs Manual: Checklist</title>
  <meta name="description" content="GNU Emacs Manual: Checklist" />
  <meta name="keywords" content="GNU Emacs Manual: Checklist" />
  <meta name="resource-type" content="document" />
  <meta name="distribution" content="global" />
  <meta name="Generator" content="makeinfo" />
  <meta http-equiv="Content-Type" content=
  "text/html; charset=us-ascii" />
  <link href="index.html#Top" rel="start" title="Top" />
  <link href="Key-Index.html#Key-Index" rel="index" title=
  "Key Index" />
  <link href="index.html#SEC_Contents" rel="contents" title=
  "Table of Contents" />
  <link href="Bugs.html#Bugs" rel="up" title="Bugs" />
  <link href="Sending-Patches.html#Sending-Patches" rel="next"
  title="Sending Patches" />
  <link href=
  "Understanding-Bug-Reporting.html#Understanding-Bug-Reporting"
  rel="prev" title="Understanding Bug Reporting" />
  <style type="text/css">
/*<![CDATA[*/
  <!--
  a.summary-letter {text-decoration: none}
  blockquote.smallquotation {font-size: smaller}
  div.display {margin-left: 3.2em}
  div.example {margin-left: 3.2em}
  div.indentedblock {margin-left: 3.2em}
  div.lisp {margin-left: 3.2em}
  div.smalldisplay {margin-left: 3.2em}
  div.smallexample {margin-left: 3.2em}
  div.smallindentedblock {margin-left: 3.2em; font-size: smaller}
  div.smalllisp {margin-left: 3.2em}
  kbd {font-style:oblique}
  pre.display {font-family: inherit}
  pre.format {font-family: inherit}
  pre.menu-comment {font-family: serif}
  pre.menu-preformatted {font-family: serif}
  pre.smalldisplay {font-family: inherit; font-size: smaller}
  pre.smallexample {font-size: smaller}
  pre.smallformat {font-family: inherit; font-size: smaller}
  pre.smalllisp {font-size: smaller}
  span.nocodebreak {white-space:nowrap}
  span.nolinebreak {white-space:nowrap}
  span.roman {font-family:serif; font-weight:normal}
  span.sansserif {font-family:sans-serif; font-weight:normal}
  ul.no-bullet {list-style: none}
  -->
  /*]]>*/
  </style>
  <link rel="stylesheet" href="aquamacs.css" type="text/css" />
  <style type="text/css">
/*<![CDATA[*/
  body {
  background-color: #FFFFFF;
  color: #000000;
  }
  :link { color: #0000FF }
  :visited { color: #800080 }
  :active { color: #FF0000 }
  /*]]>*/
  </style>
</head>

<body lang="en" xml:lang="en">
  <a name="Checklist" id="Checklist"></a>

  <div class="header">
    <p>Next: <a href="Sending-Patches.html#Sending-Patches"
    accesskey="n" rel="next">Sending Patches</a>, Previous:
    <a href="Understanding-Bug-Reporting.html#Understanding-Bug-Reporting"
    accesskey="p" rel="prev">Understanding Bug Reporting</a>, Up:
    <a href="Bugs.html#Bugs" accesskey="u" rel="up">Bugs</a> &nbsp;
    [<a href="index.html#SEC_Contents" title="Table of contents"
    rel="contents">Contents</a>][<a href="Key-Index.html#Key-Index"
    title="Index" rel="index">Index</a>]</p>
  </div>
  <hr />
  <a name="Checklist-for-Bug-Reports" id=
  "Checklist-for-Bug-Reports"></a>

  <h3 class="section">54.4 Checklist for Bug Reports</h3><a name=
  "index-checklist-before-reporting-a-bug" id=
  "index-checklist-before-reporting-a-bug"></a> <a name=
  "index-bug-reporting_002c-checklist" id=
  "index-bug-reporting_002c-checklist"></a>

  <p>Before reporting a bug, first try to see if the problem has
  already been reported (see <a href=
  "Known-Problems.html#Known-Problems">Known Problems</a>).</p>

  <p>If you are able to, try the latest release of Emacs to see if
  the problem has already been fixed. Even better is to try the
  latest development version. We recognize that this is not easy
  for some people, so do not feel that you absolutely must do this
  before making a report.</p><a name=
  "index-report_002demacs_002dbug" id=
  "index-report_002demacs_002dbug"></a>

  <p>The best way to write a bug report for Emacs is to use the
  command <kbd>M-x report-emacs-bug</kbd>. This sets up a mail
  buffer (see <a href="Sending-Mail.html#Sending-Mail">Sending
  Mail</a>) and automatically inserts <em>some</em> of the
  essential information. However, it cannot supply all the
  necessary information; you should still read and follow the
  guidelines below, so you can enter the other crucial information
  by hand before you send the message. You may feel that some of
  the information inserted by <kbd>M-x report-emacs-bug</kbd> is
  not relevant, but unless you are absolutely sure it is best to
  leave it, so that the developers can decide for themselves.</p>

  <p>When you have finished writing your report, type <kbd>C-c
  C-c</kbd> and it will be sent to the Emacs maintainers at
  <a href="http://lists.gnu.org/mailman/listinfo/bug-gnu-emacs">bug-gnu-emacs</a>.
  (If you want to suggest an improvement or new feature, use the
  same address.) If you cannot send mail from inside Emacs, you can
  copy the text of your report to your normal mail client (if your
  system supports it, you can type <kbd>C-c M-i</kbd> to have Emacs
  do this for you) and send it to that address. Or you can simply
  send an email to that address describing the problem.</p>

  <p>Your report will be sent to the
  &lsquo;<samp>bug-gnu-emacs</samp>&rsquo; mailing list, and stored
  in the GNU Bug Tracker at <a href=
  "http://debbugs.gnu.org">http://debbugs.gnu.org</a>. Please
  include a valid reply email address, in case we need to ask you
  for more information about your report. Submissions are
  moderated, so there may be a delay before your report
  appears.</p>

  <p>You do not need to know how the Gnu Bug Tracker works in order
  to report a bug, but if you want to, you can read the
  tracker&rsquo;s online documentation to see the various features
  you can use.</p>

  <p>All mail sent to the &lsquo;<samp>bug-gnu-emacs</samp>&rsquo;
  mailing list is also gatewayed to the
  &lsquo;<samp>gnu.emacs.bug</samp>&rsquo; newsgroup. The reverse
  is also true, but we ask you not to post bug reports via the
  newsgroup. It can make it much harder to contact you if we need
  to ask for more information, and it does not integrate well with
  the bug tracker.</p>

  <p>If your data is more than 500,000 bytes, please don&rsquo;t
  include it directly in the bug report; instead, offer to send it
  on request, or make it available by ftp and say where.</p>

  <p>To enable maintainers to investigate a bug, your report should
  include all these things:</p>

  <ul>
    <li>The version number of Emacs. Without this, we won&rsquo;t
    know whether there is any point in looking for the bug in the
    current version of GNU Emacs.

      <p><kbd>M-x report-emacs-bug</kbd> includes this information
      automatically, but if you are not using that command for your
      report you can get the version number by typing <kbd>M-x
      emacs-version <span class="key">RET</span></kbd>. If that
      command does not work, you probably have something other than
      GNU Emacs, so you will have to report the bug somewhere
      else.</p>
    </li>

    <li>The type of machine you are using, and the operating system
    name and version number (again, automatically included by
    <kbd>M-x report-emacs-bug</kbd>). <kbd>M-x emacs-version
    <span class="key">RET</span></kbd> provides this information
    too. Copy its output from the <samp>*Messages*</samp> buffer,
    so that you get it all and get it accurately.</li>

    <li>The operands given to the <code>configure</code> command
    when Emacs was installed (automatically included by <kbd>M-x
    report-emacs-bug</kbd>).</li>

    <li>A complete list of any modifications you have made to the
    Emacs source. (We may not have time to investigate the bug
    unless it happens in an unmodified Emacs. But if you&rsquo;ve
    made modifications and you don&rsquo;t tell us, you are sending
    us on a wild goose chase.)

      <p>Be precise about these changes. A description in English
      is not enough&mdash;send a unified context diff for them.</p>

      <p>Adding files of your own, or porting to another machine,
      is a modification of the source.</p>
    </li>

    <li>Details of any other deviations from the standard procedure
    for installing GNU Emacs.</li>

    <li>The complete text of any files needed to reproduce the bug.

      <p>If you can tell us a way to cause the problem without
      visiting any files, please do so. This makes it much easier
      to debug. If you do need files, make sure you arrange for us
      to see their exact contents. For example, it can matter
      whether there are spaces at the ends of lines, or a newline
      after the last line in the buffer (nothing ought to care
      whether the last line is terminated, but try telling the bugs
      that).</p>
    </li>

    <li>The precise commands we need to type to reproduce the bug.
    If at all possible, give a full recipe for an Emacs started
    with the &lsquo;<samp>-Q</samp>&rsquo; option (see <a href=
    "Initial-Options.html#Initial-Options">Initial Options</a>).
    This bypasses your personal customizations. <a name=
    "index-open_002ddribble_002dfile" id=
    "index-open_002ddribble_002dfile"></a> <a name=
    "index-dribble-file" id="index-dribble-file"></a> <a name=
    "index-logging-keystrokes" id="index-logging-keystrokes"></a>

      <p>One way to record the input to Emacs precisely is to write
      a dribble file. To start the file, use the <kbd>M-x
      open-dribble-file <span class="key">RET</span></kbd> command.
      From then on, Emacs copies all your input to the specified
      dribble file until the Emacs process is killed. Be aware that
      sensitive information (such as passwords) may end up recorded
      in the dribble file.</p>
    </li>

    <li>
      <a name="index-open_002dtermscript" id=
      "index-open_002dtermscript"></a> <a name=
      "index-termscript-file" id="index-termscript-file"></a>
      <a name="index-TERM-environment-variable" id=
      "index-TERM-environment-variable"></a> For possible display
      bugs, the terminal type (the value of environment variable
      <code>TERM</code>), the complete termcap entry for the
      terminal from <samp>/etc/termcap</samp> (since that file is
      not identical on all machines), and the output that Emacs
      actually sent to the terminal.

      <p>The way to collect the terminal output is to execute the
      Lisp expression</p>

      <div class="example">
        <pre class="example">
(open-termscript "~/termscript")
</pre>
      </div>

      <p>using <kbd>M-:</kbd> or from the <samp>*scratch*</samp>
      buffer just after starting Emacs. From then on, Emacs copies
      all terminal output to the specified termscript file as well,
      until the Emacs process is killed. If the problem happens
      when Emacs starts up, put this expression into your Emacs
      initialization file so that the termscript file will be open
      when Emacs displays the screen for the first time.</p>

      <p>Be warned: it is often difficult, and sometimes
      impossible, to fix a terminal-dependent bug without access to
      a terminal of the type that stimulates the bug.</p>
    </li>

    <li>If non-<acronym>ASCII</acronym> text or
    internationalization is relevant, the locale that was current
    when you started Emacs. On GNU/Linux and Unix systems, or if
    you use a Posix-style shell such as Bash, you can use this
    shell command to view the relevant values:

      <div class="smallexample">
        <pre class="smallexample">
echo LC_ALL=$LC_ALL LC_COLLATE=$LC_COLLATE LC_CTYPE=$LC_CTYPE \
  LC_MESSAGES=$LC_MESSAGES LC_TIME=$LC_TIME LANG=$LANG
</pre>
      </div>

      <p>Alternatively, use the <code>locale</code> command, if
      your system has it, to display your locale settings.</p>

      <p>You can use the <kbd>M-!</kbd> command to execute these
      commands from Emacs, and then copy the output from the
      <samp>*Messages*</samp> buffer into the bug report.
      Alternatively, <kbd>M-x getenv <span class="key">RET</span>
      LC_ALL <span class="key">RET</span></kbd> will display the
      value of <code>LC_ALL</code> in the echo area, and you can
      copy its output from the <samp>*Messages*</samp> buffer.</p>
    </li>

    <li>A description of what behavior you observe that you believe
    is incorrect. For example, &ldquo;The Emacs process gets a
    fatal signal&rdquo;, or, &ldquo;The resulting text is as
    follows, which I think is wrong.&rdquo;

      <p>Of course, if the bug is that Emacs gets a fatal signal,
      then one can&rsquo;t miss it. But if the bug is incorrect
      text, the maintainer might fail to notice what is wrong. Why
      leave it to chance?</p>

      <p>Even if the problem you experience is a fatal signal, you
      should still say so explicitly. Suppose something strange is
      going on, such as, your copy of the source is out of sync, or
      you have encountered a bug in the C library on your system.
      (This has happened!) Your copy might crash and the copy here
      might not. If you <em>said</em> to expect a crash, then when
      Emacs here fails to crash, we would know that the bug was not
      happening. If you don&rsquo;t say to expect a crash, then we
      would not know whether the bug was happening&mdash;we would
      not be able to draw any conclusion from our observations.</p>
    </li>

    <li>If the bug is that the Emacs Manual or the Emacs Lisp
    Reference Manual fails to describe the actual behavior of
    Emacs, or that the text is confusing, copy in the text from the
    manual which you think is at fault. If the section is small,
    just the section name is enough.</li>

    <li>If the manifestation of the bug is an Emacs error message,
    it is important to report the precise text of the error
    message, and a backtrace showing how the Lisp program in Emacs
    arrived at the error.

      <p>To get the error message text accurately, copy it from the
      <samp>*Messages*</samp> buffer into the bug report. Copy all
      of it, not just part.</p><a name=
      "index-toggle_002ddebug_002don_002derror" id=
      "index-toggle_002ddebug_002don_002derror"></a> <a name=
      "index-Edebug" id="index-Edebug"></a>

      <p>To make a backtrace for the error, use <kbd>M-x
      toggle-debug-on-error</kbd> before the error happens (that is
      to say, you must give that command and then make the bug
      happen). This causes the error to start the Lisp debugger,
      which shows you a backtrace. Copy the text of the
      debugger&rsquo;s backtrace into the bug report. See <a href=
      "http://www.gnu.org/software/emacs/manual/html_node/elisp/Edebug.html#Edebug">
      Edebug</a> in <cite>the Emacs Lisp Reference Manual</cite>,
      for information on debugging Emacs Lisp programs with the
      Edebug package.</p>

      <p>This use of the debugger is possible only if you know how
      to make the bug happen again. If you can&rsquo;t make it
      happen again, at least copy the whole error
      message.</p><a name="index-debug_002don_002dquit" id=
      "index-debug_002don_002dquit"></a>

      <p>If Emacs appears to be stuck in an infinite loop or in a
      very long operation, typing <kbd>C-g</kbd> with the variable
      <code>debug-on-quit</code> non-<code>nil</code> will start
      the Lisp debugger and show a backtrace. This backtrace is
      useful for debugging such long loops, so if you can produce
      it, copy it into the bug report.</p><a name=
      "index-debug_002don_002devent" id=
      "index-debug_002don_002devent"></a>

      <p>If you cannot get Emacs to respond to <kbd>C-g</kbd>
      (e.g., because <code>inhibit-quit</code> is set), then you
      can try sending the signal specified by
      <code>debug-on-event</code> (default SIGUSR2) from outside
      Emacs to cause it to enter the debugger.</p>
    </li>

    <li>Check whether any programs you have loaded into the Lisp
    world, including your initialization file, set any variables
    that may affect the functioning of Emacs. Also, see whether the
    problem happens in a freshly started Emacs without loading your
    initialization file (start Emacs with the <code>-Q</code>
    switch to prevent loading the init files). If the problem does
    <em>not</em> occur then, you must report the precise contents
    of any programs that you must load into the Lisp world in order
    to cause the problem to occur.</li>

    <li>If the problem does depend on an init file or other Lisp
    programs that are not part of the standard Emacs system, then
    you should make sure it is not a bug in those programs by
    complaining to their maintainers first. After they verify that
    they are using Emacs in a way that is supposed to work, they
    should report the bug.</li>

    <li>If you wish to mention something in the GNU Emacs source,
    show the line of code with a few lines of context. Don&rsquo;t
    just give a line number.

      <p>The line numbers in the development sources don&rsquo;t
      match those in your sources. It would take extra work for the
      maintainers to determine what code is in your version at a
      given line number, and we could not be certain.</p>
    </li>

    <li>Additional information from a C debugger such as GDB might
    enable someone to find a problem on a machine which he does not
    have available. If you don&rsquo;t know how to use GDB, please
    read the GDB manual&mdash;it is not very long, and using GDB is
    easy. You can find the GDB distribution, including the GDB
    manual in online form, in most of the same places you can find
    the Emacs distribution. To run Emacs under GDB, you should
    switch to the <samp>src</samp> subdirectory in which Emacs was
    compiled, then do &lsquo;<samp>gdb emacs</samp>&rsquo;. It is
    important for the directory <samp>src</samp> to be current so
    that GDB will read the <samp>.gdbinit</samp> file in this
    directory.

      <p>However, you need to think when you collect the additional
      information if you want it to show what causes the
      bug.</p><a name="index-backtrace-for-bug-reports" id=
      "index-backtrace-for-bug-reports"></a>

      <p>For example, many people send just a backtrace, but that
      is not very useful by itself. A simple backtrace with
      arguments often conveys little about what is happening inside
      GNU Emacs, because most of the arguments listed in the
      backtrace are pointers to Lisp objects. The numeric values of
      these pointers have no significance whatever; all that
      matters is the contents of the objects they point to (and
      most of the contents are themselves pointers).</p><a name=
      "index-debug_005fprint" id="index-debug_005fprint"></a>

      <p>To provide useful information, you need to show the values
      of Lisp objects in Lisp notation. Do this for each variable
      which is a Lisp object, in several stack frames near the
      bottom of the stack. Look at the source to see which
      variables are Lisp objects, because the debugger thinks of
      them as integers.</p>

      <p>To show a variable&rsquo;s value in Lisp syntax, first
      print its value, then use the user-defined GDB command
      <code>pr</code> to print the Lisp object in Lisp syntax. (If
      you must use another debugger, call the function
      <code>debug_print</code> with the object as an argument.) The
      <code>pr</code> command is defined by the file
      <samp>.gdbinit</samp>, and it works only if you are debugging
      a running process (not with a core dump).</p>

      <p>To make Lisp errors stop Emacs and return to GDB, put a
      breakpoint at <code>Fsignal</code>.</p>

      <p>For a short listing of Lisp functions running, type the
      GDB command <code>xbacktrace</code>.</p>

      <p>The file <samp>.gdbinit</samp> defines several other
      commands that are useful for examining the data types and
      contents of Lisp objects. Their names begin with
      &lsquo;<samp>x</samp>&rsquo;. These commands work at a lower
      level than <code>pr</code>, and are less convenient, but they
      may work even when <code>pr</code> does not, such as when
      debugging a core dump or when Emacs has had a fatal
      signal.</p><a name=
      "index-debugging-Emacs_002c-tricks-and-techniques" id=
      "index-debugging-Emacs_002c-tricks-and-techniques"></a>

      <p>More detailed advice and other useful techniques for
      debugging Emacs are available in the file
      <samp>etc/DEBUG</samp> in the Emacs distribution. That file
      also includes instructions for investigating problems whereby
      Emacs stops responding (many people assume that Emacs is
      &ldquo;hung&rdquo;, whereas in fact it might be in an
      infinite loop).</p>

      <p>To find the file <samp>etc/DEBUG</samp> in your Emacs
      installation, use the directory name stored in the variable
      <code>data-directory</code>.</p>
    </li>
  </ul>

  <p>Here are some things that are not necessary in a bug
  report:</p>

  <ul>
    <li>A description of the envelope of the bug&mdash;this is not
    necessary for a reproducible bug.

      <p>Often people who encounter a bug spend a lot of time
      investigating which changes to the input file will make the
      bug go away and which changes will not affect it.</p>

      <p>This is often time-consuming and not very useful, because
      the way we will find the bug is by running a single example
      under the debugger with breakpoints, not by pure deduction
      from a series of examples. You might as well save time by not
      searching for additional examples. It is better to send the
      bug report right away, go back to editing, and find another
      bug to report.</p>

      <p>Of course, if you can find a simpler example to report
      <em>instead</em> of the original one, that is a convenience.
      Errors in the output will be easier to spot, running under
      the debugger will take less time, etc.</p>

      <p>However, simplification is not vital; if you can&rsquo;t
      do this or don&rsquo;t have time to try, please report the
      bug with your original test case.</p>
    </li>

    <li>A core dump file.

      <p>Debugging the core dump might be useful, but it can only
      be done on your machine, with your Emacs executable.
      Therefore, sending the core dump file to the Emacs
      maintainers won&rsquo;t be useful. Above all, don&rsquo;t
      include the core file in an email bug report! Such a large
      message can be extremely inconvenient.</p>
    </li>

    <li>A system-call trace of Emacs execution.

      <p>System-call traces are very useful for certain special
      kinds of debugging, but in most cases they give little useful
      information. It is therefore strange that many people seem to
      think that <em>the</em> way to report information about a
      crash is to send a system-call trace. Perhaps this is a habit
      formed from experience debugging programs that don&rsquo;t
      have source code or debugging symbols.</p>

      <p>In most programs, a backtrace is normally far, far more
      informative than a system-call trace. Even in Emacs, a simple
      backtrace is generally more informative, though to give full
      information you should supplement the backtrace by displaying
      variable values and printing them as Lisp objects with
      <code>pr</code> (see above).</p>
    </li>

    <li>A patch for the bug.

      <p>A patch for the bug is useful if it is a good one. But
      don&rsquo;t omit the other information that a bug report
      needs, such as the test case, on the assumption that a patch
      is sufficient. We might see problems with your patch and
      decide to fix the problem another way, or we might not
      understand it at all. And if we can&rsquo;t understand what
      bug you are trying to fix, or why your patch should be an
      improvement, we mustn&rsquo;t install it.</p>

      <p>See <a href="Sending-Patches.html#Sending-Patches">Sending
      Patches</a>, for guidelines on how to make it easy for us to
      understand and install your patches.</p>
    </li>

    <li>A guess about what the bug is or what it depends on.

      <p>Such guesses are usually wrong. Even experts can&rsquo;t
      guess right about such things without first using the
      debugger to find the facts.</p>
    </li>
  </ul>
  <hr />

  <div class="header">
    <p>Next: <a href="Sending-Patches.html#Sending-Patches"
    accesskey="n" rel="next">Sending Patches</a>, Previous:
    <a href="Understanding-Bug-Reporting.html#Understanding-Bug-Reporting"
    accesskey="p" rel="prev">Understanding Bug Reporting</a>, Up:
    <a href="Bugs.html#Bugs" accesskey="u" rel="up">Bugs</a> &nbsp;
    [<a href="index.html#SEC_Contents" title="Table of contents"
    rel="contents">Contents</a>][<a href="Key-Index.html#Key-Index"
    title="Index" rel="index">Index</a>]</p>
  </div>
</body>
</html>
