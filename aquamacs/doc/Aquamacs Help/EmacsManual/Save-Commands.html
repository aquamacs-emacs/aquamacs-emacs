<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<!-- This is the GNU Emacs Manual,
updated for Emacs version 25.1.

Copyright Â© 1985-1987, 1993-2016 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "The GNU Manifesto," "Distribution" and
"GNU GENERAL PUBLIC LICENSE," with the Front-Cover Texts being "A GNU
Manual," and with the Back-Cover Texts as in (a) below.  A copy of the
license is included in the section entitled "GNU Free Documentation
License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom." -->
<!-- Created by GNU Texinfo 5.2, http://www.gnu.org/software/texinfo/ -->

<head>
  <meta name="generator" content=
  "HTML Tidy for Mac OS X (vers 31 October 2006 - Apple Inc. build 15.18.1), see www.w3.org" />

  <title>GNU Emacs Manual: Save Commands</title>
  <meta name="description" content=
  "GNU Emacs Manual: Save Commands" />
  <meta name="keywords" content=
  "GNU Emacs Manual: Save Commands" />
  <meta name="resource-type" content="document" />
  <meta name="distribution" content="global" />
  <meta name="Generator" content="makeinfo" />
  <meta http-equiv="Content-Type" content=
  "text/html; charset=us-ascii" />
  <link href="index.html#Top" rel="start" title="Top" />
  <link href="Key-Index.html#Key-Index" rel="index" title=
  "Key Index" />
  <link href="index.html#SEC_Contents" rel="contents" title=
  "Table of Contents" />
  <link href="Saving.html#Saving" rel="up" title="Saving" />
  <link href="Backup.html#Backup" rel="next" title="Backup" />
  <link href="Saving.html#Saving" rel="prev" title="Saving" />
  <style type="text/css">
/*<![CDATA[*/
  <!--
  a.summary-letter {text-decoration: none}
  blockquote.smallquotation {font-size: smaller}
  div.display {margin-left: 3.2em}
  div.example {margin-left: 3.2em}
  div.indentedblock {margin-left: 3.2em}
  div.lisp {margin-left: 3.2em}
  div.smalldisplay {margin-left: 3.2em}
  div.smallexample {margin-left: 3.2em}
  div.smallindentedblock {margin-left: 3.2em; font-size: smaller}
  div.smalllisp {margin-left: 3.2em}
  kbd {font-style:oblique}
  pre.display {font-family: inherit}
  pre.format {font-family: inherit}
  pre.menu-comment {font-family: serif}
  pre.menu-preformatted {font-family: serif}
  pre.smalldisplay {font-family: inherit; font-size: smaller}
  pre.smallexample {font-size: smaller}
  pre.smallformat {font-family: inherit; font-size: smaller}
  pre.smalllisp {font-size: smaller}
  span.nocodebreak {white-space:nowrap}
  span.nolinebreak {white-space:nowrap}
  span.roman {font-family:serif; font-weight:normal}
  span.sansserif {font-family:sans-serif; font-weight:normal}
  ul.no-bullet {list-style: none}
  -->
  /*]]>*/
  </style>
  <link rel="stylesheet" href="aquamacs.css" type="text/css" />
  <style type="text/css">
/*<![CDATA[*/
  body {
  background-color: #FFFFFF;
  color: #000000;
  }
  :link { color: #0000FF }
  :visited { color: #800080 }
  :active { color: #FF0000 }
  /*]]>*/
  </style>
</head>

<body lang="en" xml:lang="en">
  <a name="Save-Commands" id="Save-Commands"></a>

  <div class="header">
    <p>Next: <a href="Backup.html#Backup" accesskey="n" rel=
    "next">Backup</a>, Up: <a href="Saving.html#Saving" accesskey=
    "u" rel="up">Saving</a> &nbsp; [<a href=
    "index.html#SEC_Contents" title="Table of contents" rel=
    "contents">Contents</a>][<a href="Key-Index.html#Key-Index"
    title="Index" rel="index">Index</a>]</p>
  </div>
  <hr />
  <a name="Commands-for-Saving-Files" id=
  "Commands-for-Saving-Files"></a>

  <h4 class="subsection">18.3.1 Commands for Saving Files</h4>

  <p>These are the commands that relate to saving and writing
  files.</p>

  <dl compact="compact">
    <dt><kbd>C-x C-s</kbd></dt>

    <dd>
      <p>Save the current buffer to its file
      (<code>save-buffer</code>).</p>
    </dd>

    <dt><kbd>C-x s</kbd></dt>

    <dd>
      <p>Save any or all buffers to their files
      (<code>save-some-buffers</code>).</p>
    </dd>

    <dt><kbd>M-~</kbd></dt>

    <dd>
      <p>Forget that the current buffer has been changed
      (<code>not-modified</code>). With prefix argument
      (<kbd>C-u</kbd>), mark the current buffer as changed.</p>
    </dd>

    <dt><kbd>C-x C-w</kbd></dt>

    <dd>
      <p>Save the current buffer with a specified file name
      (<code>write-file</code>).</p>
    </dd>

    <dt><kbd>M-x set-visited-file-name</kbd></dt>

    <dd>
      <p>Change the file name under which the current buffer will
      be saved.</p>
    </dd>
  </dl><a name="index-C_002dx-C_002ds" id=
  "index-C_002dx-C_002ds"></a> <a name="index-save_002dbuffer" id=
  "index-save_002dbuffer"></a>

  <p>When you wish to save the file and make your changes
  permanent, type <kbd>C-x C-s</kbd> (<code>save-buffer</code>).
  After saving is finished, <kbd>C-x C-s</kbd> displays a message
  like this:</p>

  <div class="example">
    <pre class="example">
Wrote /u/rms/gnu/gnu.tasks
</pre>
  </div>

  <p>If the current buffer is not modified (no changes have been
  made in it since the buffer was created or last saved), saving is
  not really done, because it would have no effect. Instead,
  <kbd>C-x C-s</kbd> displays a message like this in the echo
  area:</p>

  <div class="example">
    <pre class="example">
(No changes need to be saved)
</pre>
  </div>

  <p>With a prefix argument, <kbd>C-u C-x C-s</kbd>, Emacs also
  marks the buffer to be backed up when the next save is done. See
  <a href="Backup.html#Backup">Backup</a>.</p><a name=
  "index-C_002dx-s" id="index-C_002dx-s"></a> <a name=
  "index-save_002dsome_002dbuffers" id=
  "index-save_002dsome_002dbuffers"></a>

  <p>The command <kbd>C-x s</kbd> (<code>save-some-buffers</code>)
  offers to save any or all modified buffers. It asks you what to
  do with each buffer. The possible responses are analogous to
  those of <code>query-replace</code>:</p>

  <dl compact="compact">
    <dt><kbd>y</kbd></dt>

    <dd>
      <p>Save this buffer and ask about the rest of the
      buffers.</p>
    </dd>

    <dt><kbd>n</kbd></dt>

    <dd>
      <p>Don&rsquo;t save this buffer, but ask about the rest of
      the buffers.</p>
    </dd>

    <dt><kbd>!</kbd></dt>

    <dd>
      <p>Save this buffer and all the rest with no more
      questions.</p>
    </dd>

    <dt><kbd><span class="key">RET</span></kbd></dt>

    <dd>
      <p>Terminate <code>save-some-buffers</code> without any more
      saving.</p>
    </dd>

    <dt><kbd>.</kbd></dt>

    <dd>
      <p>Save this buffer, then exit <code>save-some-buffers</code>
      without even asking about other buffers.</p>
    </dd>

    <dt><kbd>C-r</kbd></dt>

    <dd>
      <p>View the buffer that you are currently being asked about.
      When you exit View mode, you get back to
      <code>save-some-buffers</code>, which asks the question
      again.</p>
    </dd>

    <dt><kbd>d</kbd></dt>

    <dd>
      <p>Diff the buffer against its corresponding file, so you can
      see what changes you would be saving. This calls the command
      <code>diff-buffer-with-file</code> (see <a href=
      "Comparing-Files.html#Comparing-Files">Comparing
      Files</a>).</p>
    </dd>

    <dt><kbd>C-h</kbd></dt>

    <dd>
      <p>Display a help message about these options.</p>
    </dd>
  </dl>

  <p><kbd>C-x C-c</kbd>, the key sequence to exit Emacs, invokes
  <code>save-some-buffers</code> and therefore asks the same
  questions.</p><a name="index-M_002d_007e" id=
  "index-M_002d_007e"></a> <a name="index-not_002dmodified" id=
  "index-not_002dmodified"></a>

  <p>If you have changed a buffer but do not wish to save the
  changes, you should take some action to prevent it. Otherwise,
  each time you use <kbd>C-x s</kbd> or <kbd>C-x C-c</kbd>, you are
  liable to save this buffer by mistake. One thing you can do is
  type <kbd>M-~</kbd> (<code>not-modified</code>), which clears out
  the indication that the buffer is modified. If you do this, none
  of the save commands will believe that the buffer needs to be
  saved. (&lsquo;<samp>~</samp>&rsquo; is often used as a
  mathematical symbol for &ldquo;not&rdquo;; thus <kbd>M-~</kbd> is
  &ldquo;not&rdquo;, metafied.) Alternatively, you can cancel all
  the changes made since the file was visited or saved, by reading
  the text from the file again. This is called <em>reverting</em>.
  See <a href="Reverting.html#Reverting">Reverting</a>. (You could
  also undo all the changes by repeating the undo command <kbd>C-x
  u</kbd> until you have undone all the changes; but reverting is
  easier.)</p><a name="index-set_002dvisited_002dfile_002dname" id=
  "index-set_002dvisited_002dfile_002dname"></a>

  <p><kbd>M-x set-visited-file-name</kbd> alters the name of the
  file that the current buffer is visiting. It reads the new file
  name using the minibuffer. Then it marks the buffer as visiting
  that file name, and changes the buffer name correspondingly.
  <code>set-visited-file-name</code> does not save the buffer in
  the newly visited file; it just alters the records inside Emacs
  in case you do save later. It also marks the buffer as modified
  so that <kbd>C-x C-s</kbd> in that buffer <em>will</em>
  save.</p><a name="index-C_002dx-C_002dw" id=
  "index-C_002dx-C_002dw"></a> <a name="index-write_002dfile" id=
  "index-write_002dfile"></a>

  <p>If you wish to mark the buffer as visiting a different file
  and save it right away, use <kbd>C-x C-w</kbd>
  (<code>write-file</code>). This is equivalent to
  <code>set-visited-file-name</code> followed by <kbd>C-x
  C-s</kbd>, except that <kbd>C-x C-w</kbd> asks for confirmation
  if the file exists. <kbd>C-x C-s</kbd> used on a buffer that is
  not visiting a file has the same effect as <kbd>C-x C-w</kbd>;
  that is, it reads a file name, marks the buffer as visiting that
  file, and saves it there. The default file name in a buffer that
  is not visiting a file is made by combining the buffer name with
  the buffer&rsquo;s default directory (see <a href=
  "File-Names.html#File-Names">File Names</a>).</p>

  <p>If the new file name implies a major mode, then <kbd>C-x
  C-w</kbd> switches to that major mode, in most cases. The command
  <code>set-visited-file-name</code> also does this. See <a href=
  "Choosing-Modes.html#Choosing-Modes">Choosing Modes</a>.</p>

  <p>If Emacs is about to save a file and sees that the date of the
  latest version on disk does not match what Emacs last read or
  wrote, Emacs notifies you of this fact, because it probably
  indicates a problem caused by simultaneous editing and requires
  your immediate attention. See <a href=
  "Interlocking.html#Interlocking">Simultaneous Editing</a>.</p>
  <hr />

  <div class="header">
    <p>Next: <a href="Backup.html#Backup" accesskey="n" rel=
    "next">Backup</a>, Up: <a href="Saving.html#Saving" accesskey=
    "u" rel="up">Saving</a> &nbsp; [<a href=
    "index.html#SEC_Contents" title="Table of contents" rel=
    "contents">Contents</a>][<a href="Key-Index.html#Key-Index"
    title="Index" rel="index">Index</a>]</p>
  </div>
</body>
</html>
