<html lang="en">
<head>
<title>Folders - The MH-E Manual</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="The MH-E Manual">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="prev" href="Reading-Mail.html#Reading-Mail" title="Reading Mail">
<link rel="next" href="Sending-Mail.html#Sending-Mail" title="Sending Mail">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
This is version 8.2 of `The MH-E
Manual', last updated 2009-06-13.

Copyright (C) 1995, 2001, 2002, 2003, 2005, 2006, 2007, 2008,
  2009, 2010  Free Software Foundation, Inc.

     Permission is granted to copy, distribute and/or modify this
     document under the terms of either:

       a. the GNU Free Documentation License, Version 1.3 or any later
          version published by the Free Software Foundation; with no
          Invariant Sections, with the Front-Cover texts being ``A GNU
          Manual,'' and with the Back-Cover Texts as in (a) below. A
          copy of the license is included in the section entitled ``GNU
          Free Documentation License.''

          (a) The FSF's Back-Cover Text is: ``You have the freedom to
          copy and modify this GNU manual. Buying copies from the FSF
          supports it in developing GNU and promoting software
          freedom.''

       b. the GNU General Public License as published by the Free
          Software Foundation; either version 3, or (at your option)
          any later version. A copy of the license is included in the
          section entitled ``GNU General Public License.''
   -->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<a name="Folders"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="Sending-Mail.html#Sending-Mail">Sending Mail</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="Reading-Mail.html#Reading-Mail">Reading Mail</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="index.html#Top">Top</a>
<hr>
</div>

<h2 class="chapter">7 Organizing Your Mail with Folders</h2>

<p><a name="index-g_t_0040samp_007bFolder_007d-menu-770"></a><a name="index-g_t_0040samp_007bMessage_007d-menu-771"></a><a name="index-folders-772"></a><a name="index-menu_002c-_0040samp_007bFolder_007d-773"></a><a name="index-menu_002c-_0040samp_007bMessage_007d-774"></a><a name="index-using-folders-775"></a>
This chapter discusses the things you can do with folders within MH-E. 
The commands in this chapter are also found in the &lsquo;<samp><span class="samp">Folder</span></samp>&rsquo; and
&lsquo;<samp><span class="samp">Message</span></samp>&rsquo; menus.

     
<a name="index-g_t_003f-776"></a>
<a name="index-mh_002dhelp-777"></a>
<dl><dt><kbd>?</kbd><dd>Display cheat sheet for the MH-E commands (<code>mh-help</code>). 
<!--  -->
<a name="index-g_t_0021-778"></a><a name="index-mh_002drefile_002dor_002dwrite_002dagain-779"></a><br><dt><kbd>!</kbd><dd>Repeat last output command (<code>mh-refile-or-write-again</code>). 
<!--  -->
<a name="index-g_t_0040samp_007bMessage-_003e-Copy-Message-to-Folder_002e_002e_002e_007d-menu-item-780"></a><a name="index-menu-item_002c-_0040samp_007bMessage-_003e-Copy-Message-to-Folder_002e_002e_002e_007d-781"></a><a name="index-c-782"></a><a name="index-mh_002dcopy_002dmsg-783"></a><br><dt><kbd>c</kbd><dd>Copy range to folder (<code>mh-copy-msg</code>). 
<!--  -->
<a name="index-F-_003f-784"></a><a name="index-mh_002dprefix_002dhelp-785"></a><br><dt><kbd>F ?</kbd><dd>Display cheat sheet for the commands of the current prefix in
minibuffer (<code>mh-prefix-help</code>). 
<!--  -->
<a name="index-F-_0027-786"></a><a name="index-mh_002dindex_002dticked_002dmessages-787"></a><br><dt><kbd>F '</kbd><dd>Display ticked messages (<code>mh-index-ticked-messages</code>). 
<!--  -->
<a name="index-F-c-788"></a><a name="index-mh_002dcatchup-789"></a><br><dt><kbd>F c</kbd><dd>Delete range from the &lsquo;<samp><span class="samp">unseen</span></samp>&rsquo; sequence (<code>mh-catchup</code>). 
<!--  -->
<a name="index-F-k-790"></a><a name="index-mh_002dkill_002dfolder-791"></a><br><dt><kbd>F k</kbd><dd>Remove folder (<code>mh-kill-folder</code>). 
<!--  -->
<a name="index-g_t_0040samp_007bFolder-_003e-List-Folders_007d-menu-item-792"></a><a name="index-menu-item_002c-_0040samp_007bFolder-_003e-List-Folders_007d-793"></a><a name="index-F-l-794"></a><a name="index-mh_002dlist_002dfolders-795"></a><br><dt><kbd>F l</kbd><dd>List all folders (<code>mh-list-folders</code>). 
<!--  -->
<a name="index-g_t_0040samp_007bFolder-_003e-View-New-Messages_007d-menu-item-796"></a><a name="index-menu-item_002c-_0040samp_007bFolder-_003e-View-New-Messages_007d-797"></a><a name="index-F-n-798"></a><a name="index-mh_002dindex_002dnew_002dmessages-799"></a><br><dt><kbd>F n</kbd><dd>Display unseen messages (<code>mh-index-new-messages</code>). 
<!--  -->
<a name="index-g_t_0040samp_007bFolder-_003e-Pack-Folder_007d-menu-item-800"></a><a name="index-menu-item_002c-_0040samp_007bFolder-_003e-Pack-Folder_007d-801"></a><a name="index-F-p-802"></a><a name="index-mh_002dpack_002dfolder-803"></a><br><dt><kbd>F p</kbd><dd>Pack folder (<code>mh-pack-folder</code>). 
<!--  -->
<a name="index-F-q-804"></a><a name="index-mh_002dindex_002dsequenced_002dmessages-805"></a><br><dt><kbd>F q</kbd><dd>Display messages in any sequence (<code>mh-index-sequenced-messages</code>). 
<!--  -->
<a name="index-g_t_0040samp_007bFolder-_003e-Rescan-Folder_007d-menu-item-806"></a><a name="index-menu-item_002c-_0040samp_007bFolder-_003e-Rescan-Folder_007d-807"></a><a name="index-F-r-808"></a><a name="index-mh_002drescan_002dfolder-809"></a><br><dt><kbd>F r</kbd><dd>Rescan folder (<code>mh-rescan-folder</code>). 
<!--  -->
<a name="index-g_t_0040samp_007bFolder-_003e-Search_002e_002e_002e_007d-menu-item-810"></a><a name="index-menu-item_002c-_0040samp_007bFolder-_003e-Search_002e_002e_002e_007d-811"></a><a name="index-F-s-812"></a><a name="index-mh_002dsearch-813"></a><br><dt><kbd>F s</kbd><dd>Search your MH mail (<code>mh-search</code>). 
<!--  -->
<a name="index-g_t_0040samp_007bFolder-_003e-Sort-Folder_007d-menu-item-814"></a><a name="index-menu-item_002c-_0040samp_007bFolder-_003e-Sort-Folder_007d-815"></a><a name="index-F-S-816"></a><a name="index-mh_002dsort_002dfolder-817"></a><br><dt><kbd>F S</kbd><dd>Sort folder (<code>mh-sort-folder</code>). 
<!--  -->
<a name="index-F-u-818"></a><a name="index-mh_002dundo_002dfolder-819"></a><br><dt><kbd>F u</kbd><dd>Undo all refiles and deletes in the current folder (<code>mh-undo-folder</code>). 
<!--  -->
<a name="index-g_t_0040samp_007bFolder-_003e-Visit-a-Folder_002e_002e_002e_007d-menu-item-820"></a><a name="index-menu-item_002c-_0040samp_007bFolder-_003e-Visit-a-Folder_002e_002e_002e_007d-821"></a><a name="index-F-v-822"></a><a name="index-mh_002dvisit_002dfolder-823"></a><br><dt><kbd>F v</kbd><dd>Visit folder (<code>mh-visit-folder</code>). 
<!--  -->
<a name="index-g_t_0040samp_007bMessage-_003e-Refile-Message_007d-menu-item-824"></a><a name="index-menu-item_002c-_0040samp_007bMessage-_003e-Refile-Message_007d-825"></a><a name="index-o-826"></a><a name="index-mh_002drefile_002dmsg-827"></a><br><dt><kbd>o</kbd><dd>Refile (output) range into folder (<code>mh-refile-msg</code>). 
<!--  -->
<a name="index-g_t_0040samp_007bFolder-_003e-Quit-MH_002dE_007d-menu-item-828"></a><a name="index-menu-item_002c-_0040samp_007bFolder-_003e-Quit-MH_002dE_007d-829"></a><a name="index-q-830"></a><a name="index-mh_002dquit-831"></a><br><dt><kbd>q</kbd><dd>Quit the current MH-E folder (<code>mh-quit</code>). 
<!--  -->
<a name="index-g_t_0040samp_007bFolder-_003e-Toggle-Show_002fFolder_007d-menu-item-832"></a><a name="index-menu-item_002c-_0040samp_007bFolder-_003e-Toggle-Show_002fFolder_007d-833"></a><a name="index-t-834"></a><a name="index-mh_002dtoggle_002dshowing-835"></a><br><dt><kbd>t</kbd><dd>Toggle between MH-Folder and MH-Folder Show modes
(<code>mh-toggle-showing</code>). 
<!--  -->
<a name="index-g_t_0040samp_007bMessage-_003e-Undo-Delete_002fRefile_007d-menu-item-836"></a><a name="index-menu-item_002c-_0040samp_007bMessage-_003e-Undo-Delete_002fRefile_007d-837"></a><a name="index-u-838"></a><a name="index-mh_002dundo-839"></a><br><dt><kbd>u</kbd><dd>Undo pending deletes or refiles in range (<code>mh-undo</code>). 
<!--  -->
<a name="index-g_t_0040samp_007bMessage-_003e-Execute-Delete_002fRefile_007d-menu-item-840"></a><a name="index-menu-item_002c-_0040samp_007bMessage-_003e-Execute-Delete_002fRefile_007d-841"></a><a name="index-x-842"></a><a name="index-mh_002dexecute_002dcommands-843"></a><br><dt><kbd>x</kbd><dd>Process outstanding delete and refile requests
(<code>mh-execute-commands</code>). 
</dl>

   <p><a name="index-g_t_0040samp_007bmh_002dfolder_007d-customization-group-844"></a><a name="index-customization-group_002c-_0040samp_007bmh_002dfolder_007d-845"></a>
The &lsquo;<samp><span class="samp">mh-folder</span></samp>&rsquo; customization group is used to tune these
commands.

     <dl>
<dt><code>mh-new-messages-folders</code><a name="index-mh_002dnew_002dmessages_002dfolders-846"></a><dd>Folders searched for the &lsquo;<samp><span class="samp">unseen</span></samp>&rsquo; sequence (default:
<code>Inbox</code>). 
<!--  -->
<br><dt><code>mh-ticked-messages-folders</code><a name="index-mh_002dticked_002dmessages_002dfolders-847"></a><dd>Folders searched for <code>mh-tick-seq</code> (default: <code>t</code>). 
<!--  -->
<br><dt><code>mh-large-folder</code><a name="index-mh_002dlarge_002dfolder-848"></a><dd>The number of messages that indicates a large folder (default: 200). 
<!--  -->
<br><dt><code>mh-recenter-summary-flag</code><a name="index-mh_002drecenter_002dsummary_002dflag-849"></a><dd>On means to recenter the summary window (default: &lsquo;<samp><span class="samp">off</span></samp>&rsquo;). 
<!--  -->
<br><dt><code>mh-recursive-folders-flag</code><a name="index-mh_002drecursive_002dfolders_002dflag-850"></a><dd>On means that commands which operate on folders do so recursively
(default: &lsquo;<samp><span class="samp">off</span></samp>&rsquo;). 
<!--  -->
<br><dt><code>mh-sortm-args</code><a name="index-mh_002dsortm_002dargs-851"></a><dd>Additional arguments for <samp><span class="command">sortm</span></samp> (default: <code>nil</code>). 
</dl>

   <p>The following hooks are available.

     <dl>
<dt><code>mh-after-commands-processed-hook</code><a name="index-mh_002dafter_002dcommands_002dprocessed_002dhook-852"></a><dd>Hook run by <kbd>x</kbd> after performing outstanding refile and delete
requests (default: <code>nil</code>). 
<!--  -->
<br><dt><code>mh-before-commands-processed-hook</code><a name="index-mh_002dbefore_002dcommands_002dprocessed_002dhook-853"></a><dd>Hook run by <kbd>x</kbd> before performing outstanding refile and delete
requests (default: <code>nil</code>). 
<!--  -->
<br><dt><code>mh-before-quit-hook</code><a name="index-mh_002dbefore_002dquit_002dhook-854"></a><dd>Hook run by q before quitting MH-E (default: <code>nil</code>). 
<!--  -->
<br><dt><code>mh-folder-mode-hook</code><a name="index-mh_002dfolder_002dmode_002dhook-855"></a><dd>Hook run by <code>mh-folder-mode</code> when visiting a new folder (default:
<code>nil</code>). 
<!--  -->
<br><dt><code>mh-kill-folder-suppress-prompt-hook</code><a name="index-mh_002dkill_002dfolder_002dsuppress_002dprompt_002dhook-856"></a><dd>Abnormal hook run at the beginning of <code>mh-kill-folder</code> (default:
<code>'mh-search-p</code>). 
<!--  -->
<br><dt><code>mh-pack-folder-hook</code><a name="index-mh_002dpack_002dfolder_002dhook-857"></a><dd>Hook run by <code>mh-pack-folder</code> after renumbering the messages
(default: <code>nil</code>). 
<!--  -->
<br><dt><code>mh-quit-hook</code><a name="index-mh_002dquit_002dhook-858"></a><dd>Hook run by q after quitting MH-E (default: <code>nil</code>). 
<!--  -->
<br><dt><code>mh-refile-msg-hook</code><a name="index-mh_002drefile_002dmsg_002dhook-859"></a><dd>Hook run by o after marking each message for refiling (default:
<code>nil</code>). 
</dl>

   <p>The following faces are available for customizing the appearance of
the MH-Folder buffer. See <a href="Scan-Line-Formats.html#Scan-Line-Formats">Scan Line Formats</a>.

     <dl>
<dt><code>mh-folder-address</code><a name="index-mh_002dfolder_002daddress-860"></a><dd>Recipient face. 
<!--  -->
<br><dt><code>mh-folder-body</code><a name="index-mh_002dfolder_002dbody-861"></a><dd>Body text face. 
<!--  -->
<br><dt><code>mh-folder-cur-msg-number</code><a name="index-mh_002dfolder_002dcur_002dmsg_002dnumber-862"></a><dd>Current message number face. 
<!--  -->
<br><dt><code>mh-folder-date</code><a name="index-mh_002dfolder_002ddate-863"></a><dd>Date face. 
<!--  -->
<br><dt><code>mh-folder-deleted</code><a name="index-mh_002dfolder_002ddeleted-864"></a><dd>Deleted message face. 
<!--  -->
<br><dt><code>mh-folder-followup</code><a name="index-mh_002dfolder_002dfollowup-865"></a><dd>&lsquo;<samp><span class="samp">Re:</span></samp>&rsquo; face. 
<!--  -->
<br><dt><code>mh-folder-msg-number</code><a name="index-mh_002dfolder_002dmsg_002dnumber-866"></a><dd>Message number face. 
<!--  -->
<br><dt><code>mh-folder-refiled</code><a name="index-mh_002dfolder_002drefiled-867"></a><dd>Refiled message face. 
<!--  -->
<a name="index-mh_002dscan_002dformat_002dnmh-868"></a><a name="index-mh_002dscan_002dsent_002dto_002dme_002dsender_002dregexp-869"></a><br><dt><code>mh-folder-sent-to-me-hint</code><a name="index-mh_002dfolder_002dsent_002dto_002dme_002dhint-870"></a><dd>Fontification hint face in messages sent directly to us. The detection
of messages sent to us is governed by the scan format
<code>mh-scan-format-nmh</code> and regular expression
<code>mh-scan-sent-to-me-sender-regexp</code>. 
<!--  -->
<a name="index-mh_002dscan_002dformat_002dnmh-871"></a><a name="index-mh_002dscan_002dsent_002dto_002dme_002dsender_002dregexp-872"></a><br><dt><code>mh-folder-scan-format</code><a name="index-mh_002dfolder_002dscan_002dformat-873"></a><dd>Sender face in messages sent directly to us. The detection of messages
sent to us is governed by the scan format <code>mh-scan-format-nmh</code>
and regular expression <code>mh-scan-sent-to-me-sender-regexp</code>. 
<!--  -->
<br><dt><code>mh-folder-subject</code><a name="index-mh_002dfolder_002dsubject-874"></a><dd>Subject face. 
<!--  -->
<br><dt><code>mh-folder-tick</code><a name="index-mh_002dfolder_002dtick-875"></a><dd>Ticked message face. 
<!--  -->
<br><dt><code>mh-folder-to</code><a name="index-mh_002dfolder_002dto-876"></a><dd>&lsquo;<samp><span class="samp">To:</span></samp>&rsquo; face. 
</dl>

   <p><a name="index-mh_002dfolder_002dmode_002dhook-877"></a>
The hook <code>mh-folder-mode-hook</code> is called when visiting a new
folder in MH-Folder mode. This could be used to set your own key
bindings, for example:

   <p><a name="index-mh_002dfolder_002dmode_002dhook_002c-example-878"></a>
<pre class="smalllisp">     (defvar my-mh-init-done nil
       "Non-<code>nil</code> when one-time MH-E settings made.")
     
     (defun my-mh-folder-mode-hook ()
       "Hook to set key bindings in MH-Folder mode."
       (if (not my-mh-init-done)             ; <span class="roman">only need to bind the keys once </span>
           (progn
             (local-set-key "//" 'my-search-msg)
             (local-set-key "b" 'mh-burst-digest)    ; <span class="roman">better use of </span><kbd>b</kbd>
             (setq my-mh-init-done t))))
     
     (add-hook 'mh-folder-mode-hook 'my-mh-folder-mode-hook)
     
     (defun my-search-msg ()
       "Search for a regexp in the current message."
       (interactive)                         ; <span class="roman">user function</span>
       (save-window-excursion
         (other-window 1)                    ; <span class="roman">go to next window</span>
         (isearch-forward-regexp)))          ; <span class="roman">string search; hit return</span>
                                             ; <span class="roman">  when done</span>
     
     <i>Create additional key bindings via mh-folder-mode-hook</i>
</pre>
   <p><a name="index-g_t_0040command_007bfolder_007d-879"></a><a name="index-g_t_0040command_007brefile_007d-880"></a><a name="index-MH-commands_002c-_0040command_007bfolder_007d-881"></a><a name="index-MH-commands_002c-_0040command_007brefile_007d-882"></a><a name="index-mh_002drefile_002dmsg-883"></a><a name="index-o-884"></a><a name="index-mh_002drefile_002dmsg_002dhook-885"></a>
MH-E has analogies for each of the MH <samp><span class="command">folder</span></samp> and
<samp><span class="command">refile</span></samp> commands<a rel="footnote" href="#fn-1" name="fnd-1"><sup>1</sup></a>. To refile a message in
another folder, use the command <kbd>o</kbd> (<code>mh-refile-msg</code>)
(mnemonic: &ldquo;output&rdquo;). You are prompted for the folder name
(see <a href="Folder-Selection.html#Folder-Selection">Folder Selection</a>). Note that this command can also be used to
create folders. If you specify a folder that does not exist, you will
be prompted to create it. The hook <code>mh-refile-msg-hook</code> is called
after a message is marked to be refiled.

   <p><a name="index-mh_002dwrite_002dmsg_002dto_002dfile-886"></a><a name="index-g_t_0021-887"></a>
If you are refiling several messages into the same folder, you can use
the command <kbd>!</kbd> (<code>mh-refile-or-write-again</code>) to repeat the
last refile or write (for the description of <kbd>&gt;</kbd>
(<code>mh-write-msg-to-file</code>), see <a href="Files-and-Pipes.html#Files-and-Pipes">Files and Pipes</a>). You can use a
range in either case (for example, <kbd>C-u o 1 3 5-7 last:5 frombob
&lt;RET&gt;</kbd>, see <a href="Ranges.html#Ranges">Ranges</a>).

   <p><a name="index-expunging-refiles-and-deletes-888"></a><a name="index-undoing-refiles-and-deletes-889"></a><a name="index-mh_002dundo-890"></a><a name="index-u-891"></a>
If you've deleted a message or refiled it, but changed your mind, you
can cancel the action before you've executed it. Use <kbd>u</kbd>
(<code>mh-undo</code>) to undo a refile on or deletion of a single message. 
You can also undo refiles and deletes for messages that are found in a
given range (see <a href="Ranges.html#Ranges">Ranges</a>).

   <p><a name="index-mh_002dundo_002dfolder-892"></a><a name="index-F-u-893"></a>
Alternatively, you can use <kbd>F u</kbd> (<code>mh-undo-folder</code>) to undo
all refiles and deletes in the current folder.

   <p><a name="index-mh_002dexecute_002dcommands-894"></a><a name="index-x-895"></a>
If you've marked messages to be deleted or refiled and you want to go
ahead and delete or refile the messages, use <kbd>x</kbd>
(<code>mh-execute-commands</code>). Many MH-E commands that may affect the
numbering of the messages (such as <kbd>F r</kbd> or <kbd>F p</kbd>) will ask if
you want to process refiles or deletes first and then either run
<kbd>x</kbd> for you or undo the pending refiles and deletes.

   <p><a name="index-x-896"></a><a name="index-mh_002dafter_002dcommands_002dprocessed_002dhook-897"></a><a name="index-mh_002dbefore_002dcommands_002dprocessed_002dhook-898"></a><a name="index-mh_002dcurrent_002dfolder-899"></a>
The command <kbd>x</kbd> runs <code>mh-before-commands-processed-hook</code>
before the commands are processed and
<code>mh-after-commands-processed-hook</code> after the commands are
processed. Variables that are useful with the former hook include
<code>mh-delete-list</code> and <code>mh-refile-list</code> which can be used to
see which changes will be made to the current folder,
<code>mh-current-folder</code>. Variables that are useful with the latter
hook include <code>mh-folders-changed</code>, which lists which folders were
affected by deletes and refiles. This list will always include the
current folder <code>mh-current-folder</code>.

   <p><a name="index-mh_002dcopy_002dmsg-900"></a><a name="index-c-901"></a><a name="index-o-902"></a>
If you wish to copy a message to another folder, you can use the
command <kbd>c</kbd> (<code>mh-copy-msg</code>) (see the <samp><span class="option">-link</span></samp> argument
to <samp><span class="command">refile</span></samp>(1)). Like the command <kbd>o</kbd>, this command
prompts you for the name of the target folder and you can specify a
range (see <a href="Ranges.html#Ranges">Ranges</a>). Note that unlike the command <kbd>o</kbd>, the copy
takes place immediately. The original copy remains in the current
folder.

   <p><a name="index-junk-mail-903"></a><a name="index-MH_002dFolder-mode-904"></a><a name="index-MH_002dFolder-Show-mode-905"></a><a name="index-modes_002c-MH_002dFolder-906"></a><a name="index-modes_002c-MH_002dFolder-Show-907"></a><a name="index-spam-908"></a><a name="index-mh_002dtoggle_002dshowing-909"></a><a name="index-t-910"></a>
The command <kbd>t</kbd> (<code>mh-toggle-showing</code>) switches between
MH-Folder mode and MH-Folder Show mode<a rel="footnote" href="#fn-2" name="fnd-2"><sup>2</sup></a>. MH-Folder mode turns off
the associated show buffer so that you can perform operations on the
messages quickly without reading them. This is an excellent way to
prune out your junk mail or to refile a group of messages to another
folder for later examination.

   <p><a name="index-MH_002dFolder-mode-911"></a><a name="index-MH_002dShow-mode-912"></a><a name="index-modes_002c-MH_002dFolder-913"></a><a name="index-modes_002c-MH_002dShow-914"></a><a name="index-moving-between-messages-915"></a><a name="index-t-916"></a><a name="index-mh_002drecenter_002dsummary_002dflag-917"></a>
When you use <kbd>t</kbd> to toggle from MH-Folder Show mode to MH-Folder
mode, the MH-Show buffer is hidden and the MH-Folder buffer is left
alone. Setting <code>mh-recenter-summary-flag</code> to a non-<code>nil</code>
value causes the toggle to display as many scan lines as possible,
with the cursor at the middle. The effect of
<code>mh-recenter-summary-flag</code> is rather useful, but it can be
annoying on a slow network connection.

   <p><a name="index-mh_002dvisit_002dfolder-918"></a><a name="index-F-v-919"></a><a name="index-mh_002dlarge_002dfolder-920"></a>
When you want to read the messages that you have refiled into folders,
use the command <kbd>F v</kbd> (<code>mh-visit-folder</code>) to visit the
folder. You are prompted for the folder name. The folder buffer will
show just unseen messages if there are any; otherwise, it will show
all the messages in the buffer as long there are fewer than
<code>mh-large-folder</code> messages. If there are more, then you are
prompted for a range of messages to scan. You can provide a prefix
argument in order to specify a range of messages to show when you
visit the folder (see <a href="Ranges.html#Ranges">Ranges</a>). In this case, regions are not used
to specify the range and <code>mh-large-folder</code> is ignored. Note that
this command can also be used to create folders. If you specify a
folder that does not exist, you will be prompted to create it.

   <p><a name="index-mh_002dsearch-921"></a><a name="index-F-s-922"></a>
If you forget where you've refiled your messages, you can find them
using <kbd>F s</kbd> (<code>mh-search</code>). See <a href="Searching.html#Searching">Searching</a>.

   <p><a name="index-g_t_0040command_007bprocmail_007d-923"></a><a name="index-g_t_0040samp_007bunseen_007d-sequence-924"></a><a name="index-sequence_002c-_0040samp_007bunseen_007d-925"></a><a name="index-Unix-commands_002c-_0040command_007bprocmail_007d-926"></a><a name="index-unseen-messages_002c-viewing-927"></a><a name="index-mh_002dindex_002dnew_002dmessages-928"></a><a name="index-F-n-929"></a><a name="index-mh_002dnew_002dmessages_002dfolders-930"></a>
If you use a program such as <samp><span class="command">procmail</span></samp> to file your incoming
mail automatically, you can display new, unseen, messages using the
command <kbd>F n</kbd> (<code>mh-index-new-messages</code>). All messages in the
&lsquo;<samp><span class="samp">unseen</span></samp>&rsquo; sequence from the folders in
<code>mh-new-messages-folders</code> are listed. However, this list of
folders can be overridden with a prefix argument: with a prefix
argument, enter a space-separated list of folders, or nothing to
search all folders.

   <p><a name="index-g_t_0040samp_007btick_007d-sequence-931"></a><a name="index-sequence_002c-_0040samp_007btick_007d-932"></a><a name="index-ticked-messages_002c-viewing-933"></a><a name="index-mh_002dindex_002dticked_002dmessages-934"></a><a name="index-F-_0027-935"></a><a name="index-mh_002dticked_002dmessages_002dfolders-936"></a>
If you have ticked messages (see <a href="Sequences.html#Sequences">Sequences</a>), you can display them
using the command <kbd>F '</kbd> (<code>mh-index-ticked-messages</code>). All
messages in the &lsquo;<samp><span class="samp">tick</span></samp>&rsquo; sequence from the folders in
<code>mh-ticked-messages-folders</code> are listed. With a prefix argument,
enter a space-separated list of folders, or nothing to search all
folders.

   <p><a name="index-mh_002dindex_002dsequenced_002dmessages-937"></a><a name="index-F-q-938"></a><a name="index-mh_002dnew_002dmessages_002dfolders-939"></a>
You can display messages in any sequence with the command <kbd>F q</kbd>
(<code>mh-index-sequenced-messages</code>). All messages from the folders in
<code>mh-new-messages-folders</code> in the sequence you provide are listed. 
With a prefix argument, enter a space-separated list of folders at the
prompt, or nothing to search all folders.

   <p><a name="index-mh_002dnew_002dmessages_002dfolders-940"></a><a name="index-mh_002drecursive_002dfolders_002dflag-941"></a><a name="index-mh_002dticked_002dmessages_002dfolders-942"></a>
Set the options <code>mh-new-messages-folders</code> and
<code>mh-ticked-messages-folders</code> to &lsquo;<samp><span class="samp">Inbox</span></samp>&rsquo; to search the
&lsquo;<samp><span class="samp">+inbox</span></samp>&rsquo; folder or &lsquo;<samp><span class="samp">All</span></samp>&rsquo; to search all of the top level
folders. Otherwise, list the folders that should be searched with the
&lsquo;<samp><span class="samp">Choose Folders</span></samp>&rsquo; menu item. See <code>mh-recursive-folders-flag</code>.

   <p><a name="index-buffers_002c-_0040samp_007b_002aMH_002dE-Folders_002a_007d-943"></a><a name="index-g_t_0040samp_007b_002aMH_002dE-Folders_002a_007d-944"></a><a name="index-mh_002dkill_002dfolder-945"></a><a name="index-mh_002dlist_002dfolders-946"></a><a name="index-mh_002dpack_002dfolder-947"></a><a name="index-mh_002drescan_002dfolder-948"></a><a name="index-mh_002dsort_002dfolder-949"></a><a name="index-F-k-950"></a><a name="index-F-l-951"></a><a name="index-F-p-952"></a><a name="index-F-r-953"></a><a name="index-F-S-954"></a>
Other commands you can perform on folders include: <kbd>F l</kbd>
(<code>mh-list-folders</code>), to place a listing of all the folders in
your mail directory in a buffer called &lsquo;<samp><span class="samp">*MH-E Folders*</span></samp>&rsquo;
(see <a href="Miscellaneous.html#Miscellaneous">Miscellaneous</a>); <kbd>F k</kbd> (<code>mh-kill-folder</code>), to remove
a folder; <kbd>F S</kbd> (<code>mh-sort-folder</code>), to sort the messages by
date (see <samp><span class="command">sortm</span></samp>(1) to see how to sort by other criteria);
<kbd>F p</kbd> (<code>mh-pack-folder</code>), to pack a folder, removing gaps
from the numbering sequence; and <kbd>F r</kbd> (<code>mh-rescan-folder</code>),
to rescan the folder, which is useful to grab all messages in your
&lsquo;<samp><span class="samp">+inbox</span></samp>&rsquo; after processing your new mail for the first time. If
you don't want to rescan the entire folder, the commands <kbd>F r</kbd> or
<kbd>F p</kbd> will accept a range (see <a href="Ranges.html#Ranges">Ranges</a>).

   <p><a name="index-F-p-955"></a><a name="index-mh_002dpack_002dfolder_002dhook-956"></a>
The command <kbd>F p</kbd> runs <code>mh-pack-folder-hook</code> after
renumbering the messages. A variable that is useful with this hook
is <code>mh-current-folder</code>.

   <p><a name="index-g_t_0040key_007bTAB_007d-957"></a><a name="index-mh_002drecursive_002dfolders_002dflag-958"></a>
By default, operations on folders work only one level at a time. Set
<code>mh-recursive-folders-flag</code> to non-<code>nil</code> to operate on all
folders. This mostly means that you'll be able to see all your folders
when you press &lt;TAB&gt; when prompted for a folder name.

   <p><a name="index-mh_002dsearch_002dp-959"></a><a name="index-k-960"></a><a name="index-mh_002dkill_002dfolder_002dsuppress_002dprompt_002dhooks-961"></a>
The hook <code>mh-kill-folder-suppress-prompt-hooks</code> is an abnormal
hook run at the beginning of the command <kbd>k</kbd>. The hook functions
are called with no arguments and should return a non-nil value to
suppress the normal prompt when you remove a folder. This is useful
for folders that are easily regenerated. The default value of
<code>mh-search-p</code> suppresses the prompt on folders generated by
searching.

   <pre class="sp">

</pre>
<div align="center"><strong>NOTE</strong></div>

<blockquote>
Use this hook with care. If there is a bug in your hook which returns
<code>t</code> on &lsquo;<samp><span class="samp">+inbox</span></samp>&rsquo; and you press <kbd>k</kbd> by accident in the
<code>+inbox</code> folder, you will not be happy. 
</blockquote>

   <pre class="sp">

</pre>

<a name="index-g_t_0040command_007bsortm_007d-962"></a><a name="index-g_t_0040file_007b_002emh_005fprofile_007d-963"></a><a name="index-files_002c-_0040file_007b_002emh_005fprofile_007d-964"></a><a name="index-MH-commands_002c-_0040command_007bsortm_007d-965"></a><a name="index-MH-profile-component_002c-_0040samp_007bsortm_003a_007d-966"></a><a name="index-g_t_0040samp_007bsortm_003a_007d-MH-profile-component-967"></a><a name="index-F-S-968"></a><a name="index-mh_002dsortm_002dargs-969"></a>
The option <code>mh-sortm-args</code> holds extra arguments to pass on to
the command <samp><span class="command">sortm</span></samp><a rel="footnote" href="#fn-3" name="fnd-3"><sup>3</sup></a> when a prefix argument is used with <kbd>F S</kbd>. Normally
default arguments to <samp><span class="command">sortm</span></samp> are specified in the MH profile. 
This option may be used to provide an alternate view. For example,
&lsquo;<samp><span class="samp">'(\"-nolimit\" \"-textfield\" \"subject\")</span></samp>&rsquo; is a useful setting.

   <p><a name="index-exiting-970"></a><a name="index-quitting-971"></a><a name="index-mh_002dquit-972"></a><a name="index-q-973"></a>
When you want to quit using MH-E and go back to editing, you can use
the <kbd>q</kbd> (<code>mh-quit</code>) command. This buries the buffers of the
current MH-E folder and restores the buffers that were present when
you first ran <kbd>M-x mh-rmail</kbd>. It also removes any MH-E working
buffers whose name begins with &lsquo;<samp><span class="samp"> *mh-</span></samp>&rsquo; or &lsquo;<samp><span class="samp">*MH-E </span></samp>&rsquo;
(see <a href="Miscellaneous.html#Miscellaneous">Miscellaneous</a>). You can later restore your MH-E session by
selecting the &lsquo;<samp><span class="samp">+inbox</span></samp>&rsquo; buffer or by running <kbd>M-x mh-rmail</kbd>
again.

   <p><a name="index-mh_002dexecute_002dcommands-974"></a><a name="index-q-975"></a><a name="index-mh_002dbefore_002dquit_002dhook-976"></a><a name="index-mh_002dbefore_002dquit_002dhook_002c-example-977"></a><a name="index-mh_002dquit_002dhook-978"></a><a name="index-mh_002dquit_002dhook_002c-example-979"></a>
The two hooks <code>mh-before-quit-hook</code> and <code>mh-quit-hook</code> are
called by <kbd>q</kbd>. The former one is called before the quit occurs, so
you might use it to perform any MH-E operations; you could perform
some query and abort the quit or call <code>mh-execute-commands</code>, for
example. The latter is not run in an MH-E context, so you might use it
to modify the window setup. If you find that <kbd>q</kbd> buries a lot of
buffers that you would rather remove, you can use both
<code>mh-before-quit-hook</code> and <code>mh-quit-hook</code> to accomplish that.

<pre class="smalllisp">     (defvar my-mh-folder-buffer-to-delete nil
       "Folder buffer that is being quit.")
     
     (defun my-mh-before-quit-hook ()
       "Save folder buffer that is to be deleted."
       (setq my-mh-folder-buffer-to-delete (current-buffer)))
     
     (defun my-mh-quit-hook ()
       "Kill folder buffer rather than just bury it."
       (set-buffer my-mh-folder-buffer-to-delete)
       (if (get-buffer mh-show-buffer)
           (kill-buffer mh-show-buffer))
       (kill-buffer (current-buffer)))
     
     <i>Kill MH-Folder buffer instead of burying it</i>
</pre>
   <p><a name="index-folders_002c-renaming-980"></a><a name="index-renaming-folders-981"></a><a name="index-dired-982"></a><a name="index-dired_002ddo_002drename-983"></a>
You can use dired to manipulate the folders themselves. For example, I
renamed my &lsquo;<samp><span class="samp">+out</span></samp>&rsquo; folder to the more common &lsquo;<samp><span class="samp">+outbox</span></samp>&rsquo; by
running dired on my mail directory (<kbd>M-x dired RET ~/Mail RET</kbd>),
moving my cursor to &lsquo;<samp><span class="samp">out</span></samp>&rsquo; and using the command <kbd>R</kbd>
(<code>dired-do-rename</code>).

   <div class="footnote">
<hr>
<h4>Footnotes</h4><p class="footnote"><small>[<a name="fn-1" href="#fnd-1">1</a>]</small> See the sections
<a href="http://rand-mh.sourceforge.net/book/mh/fol.html#Youfol">Your Current Folder: folder</a> and <a href="http://rand-mh.sourceforge.net/book/mh/fol.html#Movref">Moving and Linking Messages: refile</a> in the MH book.</p>

   <p class="footnote"><small>[<a name="fn-2" href="#fnd-2">2</a>]</small> For you Emacs wizards,
this is implemented as an Emacs minor mode.</p>

   <p class="footnote"><small>[<a name="fn-3" href="#fnd-3">3</a>]</small> See the section
<a href="http://rand-mh.sourceforge.net/book/mh/sorsor.html">Sorting Messages: sortm</a> in the
MH book.</p>

   <hr></div>

   </body></html>

