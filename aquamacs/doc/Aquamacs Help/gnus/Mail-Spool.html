<html lang="en">
<head>
<title>Mail Spool - Gnus Manual</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<meta name="description" content="Gnus Manual">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="Choosing-a-Mail-Back-End.html#Choosing-a-Mail-Back-End" title="Choosing a Mail Back End">
<link rel="prev" href="Babyl.html#Babyl" title="Babyl">
<link rel="next" href="MH-Spool.html#MH-Spool" title="MH Spool">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
Copyright (C) 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002,
2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010 Free Software Foundation, Inc.

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.3 or any later version published by the Free Software
     Foundation; with no Invariant Sections, with the Front-Cover texts
     being ``A GNU Manual'', and with the Back-Cover Texts as in (a)
     below.  A copy of the license is included in the section entitled
     ``GNU Free Documentation License''.

     (a) The FSF's Back-Cover Text is: ``You have the freedom to copy
     and modify this GNU manual.  Buying copies from the FSF supports
     it in developing GNU and promoting software freedom.''
   -->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<a name="Mail-Spool"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="MH-Spool.html#MH-Spool">MH Spool</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="Babyl.html#Babyl">Babyl</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Choosing-a-Mail-Back-End.html#Choosing-a-Mail-Back-End">Choosing a Mail Back End</a>
<hr>
</div>

<h5 class="subsubsection">6.3.13.3 Mail Spool</h5>

<p><a name="index-nnml-2236"></a><a name="index-mail-_0040acronym_007bNOV_007d-spool-2237"></a>
The <dfn>nnml</dfn> spool mail format isn't compatible with any other known
format.  It should be used with some caution.

   <p><a name="index-nnml_002ddirectory-2238"></a>If you use this back end, Gnus will split all incoming mail into files,
one file for each mail, and put the articles into the corresponding
directories under the directory specified by the <code>nnml-directory</code>
variable.  The default value is <samp><span class="file">~/Mail/</span></samp>.

   <p>You do not have to create any directories beforehand; Gnus will take
care of all that.

   <p>If you have a strict limit as to how many files you are allowed to store
in your account, you should not use this back end.  As each mail gets its
own file, you might very well occupy thousands of inodes within a few
weeks.  If this is no problem for you, and it isn't a problem for you
having your friendly systems administrator walking around, madly,
shouting &ldquo;Who is eating all my inodes?! Who? Who!?!&rdquo;, then you should
know that this is probably the fastest format to use.  You do not have
to trudge through a big mbox file just to read your new mail.

   <p><code>nnml</code> is probably the slowest back end when it comes to article
splitting.  It has to create lots of files, and it also generates
<acronym>NOV</acronym> databases for the incoming mails.  This makes it possibly the
fastest back end when it comes to reading mail.

   <p><a name="index-self-contained-nnml-servers-2239"></a><a name="index-marks-2240"></a>When the marks file is used (which it is by default), <code>nnml</code>
servers have the property that you may backup them using <code>tar</code> or
similar, and later be able to restore them into Gnus (by adding the
proper <code>nnml</code> server) and have all your marks be preserved.  Marks
for a group are usually stored in the <code>.marks</code> file (but see
<code>nnml-marks-file-name</code>) within each <code>nnml</code> group's directory. 
Individual <code>nnml</code> groups are also possible to backup, use <kbd>G m</kbd>
to restore the group (after restoring the backup into the nnml
directory).

   <p>If for some reason you believe your <samp><span class="file">.marks</span></samp> files are screwed
up, you can just delete them all.  Gnus will then correctly regenerate
them next time it starts.

   <p>Virtual server settings:

     <dl>
<dt><code>nnml-directory</code><dd><a name="index-nnml_002ddirectory-2241"></a>All <code>nnml</code> directories will be placed under this directory.  The
default is the value of <code>message-directory</code> (whose default value
is <samp><span class="file">~/Mail</span></samp>).

     <br><dt><code>nnml-active-file</code><dd><a name="index-nnml_002dactive_002dfile-2242"></a>The active file for the <code>nnml</code> server.  The default is
<samp><span class="file">~/Mail/active</span></samp>.

     <br><dt><code>nnml-newsgroups-file</code><dd><a name="index-nnml_002dnewsgroups_002dfile-2243"></a>The <code>nnml</code> group descriptions file.  See <a href="Newsgroups-File-Format.html#Newsgroups-File-Format">Newsgroups File Format</a>.  The default is <samp><span class="file">~/Mail/newsgroups</span></samp>.

     <br><dt><code>nnml-get-new-mail</code><dd><a name="index-nnml_002dget_002dnew_002dmail-2244"></a>If non-<code>nil</code>, <code>nnml</code> will read incoming mail.  The default is
<code>t</code>.

     <br><dt><code>nnml-nov-is-evil</code><dd><a name="index-nnml_002dnov_002dis_002devil-2245"></a>If non-<code>nil</code>, this back end will ignore any <acronym>NOV</acronym> files.  The
default is <code>nil</code>.

     <br><dt><code>nnml-nov-file-name</code><dd><a name="index-nnml_002dnov_002dfile_002dname-2246"></a>The name of the <acronym>NOV</acronym> files.  The default is <samp><span class="file">.overview</span></samp>.

     <br><dt><code>nnml-prepare-save-mail-hook</code><dd><a name="index-nnml_002dprepare_002dsave_002dmail_002dhook-2247"></a>Hook run narrowed to an article before saving.

     <br><dt><code>nnml-marks-is-evil</code><dd><a name="index-nnml_002dmarks_002dis_002devil-2248"></a>If non-<code>nil</code>, this back end will ignore any <span class="sc">marks</span> files.  The
default is <code>nil</code>.

     <br><dt><code>nnml-marks-file-name</code><dd><a name="index-nnml_002dmarks_002dfile_002dname-2249"></a>The name of the <dfn>marks</dfn> files.  The default is <samp><span class="file">.marks</span></samp>.

     <br><dt><code>nnml-use-compressed-files</code><dd><a name="index-nnml_002duse_002dcompressed_002dfiles-2250"></a>If non-<code>nil</code>, <code>nnml</code> will allow using compressed message
files.  This requires <code>auto-compression-mode</code> to be enabled
(see <a href="../emacs/Compressed-Files.html#Compressed-Files">Compressed Files</a>). 
If the value of <code>nnml-use-compressed-files</code> is a string, it is used
as the file extension specifying the compression program.  You can set it
to &lsquo;<samp><span class="samp">.bz2</span></samp>&rsquo; if your Emacs supports it.  A value of <code>t</code> is
equivalent to &lsquo;<samp><span class="samp">.gz</span></samp>&rsquo;.

     <br><dt><code>nnml-compressed-files-size-threshold</code><dd><a name="index-nnml_002dcompressed_002dfiles_002dsize_002dthreshold-2251"></a>Default size threshold for compressed message files.  Message files with
bodies larger than that many characters will be automatically compressed
if <code>nnml-use-compressed-files</code> is non-<code>nil</code>.

   </dl>

   <p><a name="index-nnml_002dgenerate_002dnov_002ddatabases-2252"></a>If your <code>nnml</code> groups and <acronym>NOV</acronym> files get totally out of
whack, you can do a complete update by typing <kbd>M-x
nnml-generate-nov-databases</kbd>.  This command will trawl through the
entire <code>nnml</code> hierarchy, looking at each and every article, so it
might take a while to complete.  A better interface to this
functionality can be found in the server buffer (see <a href="Server-Commands.html#Server-Commands">Server Commands</a>).

   </body></html>

