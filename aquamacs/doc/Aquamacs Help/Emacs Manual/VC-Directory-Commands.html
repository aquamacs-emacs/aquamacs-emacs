<html lang="en">
<head>
<title>VC Directory Commands - GNU Emacs Manual</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="GNU Emacs Manual">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="VC-Directory-Mode.html#VC-Directory-Mode" title="VC Directory Mode">
<link rel="prev" href="VC-Directory-Buffer.html#VC-Directory-Buffer" title="VC Directory Buffer">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
This is the Sixteenth edition of the `GNU Emacs Manual',

updated for Emacs version 23.2.50.

Copyright (C) 1985, 1986, 1987, 1993, 1994, 1995, 1996, 1997,
1998, 1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009,
2010  Free Software Foundation, Inc.

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.3 or any later version published by the Free Software
     Foundation; with the Invariant Sections being ``The GNU
     Manifesto,'' ``Distribution'' and ``GNU GENERAL PUBLIC LICENSE,''
     with the Front-Cover texts being ``A GNU Manual,'' and with the
     Back-Cover Texts as in (a) below.  A copy of the license is
     included in the section entitled ``GNU Free Documentation
     License.''

     (a) The FSF's Back-Cover Text is: ``You have the freedom to copy
     and modify this GNU manual.  Buying copies from the FSF supports
     it in developing GNU and promoting software freedom.''
   -->
<meta http-equiv="Content-Style-Type" content="text/css">

<link rel="stylesheet" href="aquamacs.css" type="text/css" /></head>
<body>
<div class="node">
<a name="VC-Directory-Commands"></a>
<p>
Previous:&nbsp;<a rel="previous" accesskey="p" href="VC-Directory-Buffer.html#VC-Directory-Buffer">VC Directory Buffer</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="VC-Directory-Mode.html#VC-Directory-Mode">VC Directory Mode</a>
<hr>
</div>

<h5 class="subsubsection">32.1.6.2 VC Directory Commands</h5>

<p>VC Directory mode has a full set of navigation and marking commands
for picking out filesets.  Some of these are also available in a
context menu invoked by the <kbd>mouse-2</kbd> button.

   <p>Up- and down-arrow keys move in the buffer; <kbd>n</kbd> and <kbd>p</kbd>  also
move vertically as in other list-browsing modes.  &lt;SPC&gt; and
&lt;TAB&gt; behave like down-arrow, and &lt;BackTab&gt; behaves like
up-arrow.

   <p>Both <kbd>C-m</kbd> and <kbd>f</kbd> visit the file on the current
line.  <kbd>o</kbd> visits that file in another window.  <kbd>q</kbd> dismisses
the directory buffer.

   <p><kbd>x</kbd> hides up-to-date files.

   <p><kbd>m</kbd> marks the file or directory on the current line.  If the
region is active, <kbd>m</kbd> marks all the files in the region.  There
are some restrictions when marking: a file cannot be marked if any of
its parent directories are marked, and a directory cannot be marked if
any files in it or in its child directories are marked.

   <p><kbd>M</kbd> marks all the files with the same VC state as the current
file if the cursor is on a file.  If the cursor is on a directory, it
marks all child files.  With a prefix argument: marks all files and
directories.

   <p><kbd>u</kbd> unmarks the file or directory on the current line.  If the
region is active, it unmarks all the files in the region.

   <p><kbd>U</kbd> marks all the files with the same VC state as the current file
if the cursor is on a file.  If the cursor is on a directory, it
unmarks all child files.  With a prefix argument: unmarks all marked
files and directories.

   <p>It is possible to do search, search and replace, incremental search,
and incremental regexp search on multiple files.  These commands will
work on all the marked files or the current file if nothing is marked. 
If a directory is marked, the files in that directory shown in the VC
directory buffer will be used.

   <p><kbd>S</kbd> searches the marked files.

   <p><kbd>Q</kbd> does a query replace on the marked files.

   <p><kbd>M-s a C-s</kbd> does an incremental search on the marked files.

   <p><kbd>M-s a C-M-s</kbd> does an incremental search on the marked files.

   <p><a name="index-stashes-in-version-control-2483"></a><a name="index-shelves-in-version-control-2484"></a>  Commands are also accessible from the VC-dir menu.  Note that some
VC backends use the VC-dir menu to make available extra,
backend-specific, commands.  For example, Git and Bazaar allow you to
manipulate <dfn>stashes</dfn> and <dfn>shelves</dfn>.  (These provide a
mechanism to temporarily store uncommitted changes somewhere out of
the way, and bring them back at a later time.)

   <p>Normal VC commands with the <kbd>C-x v</kbd> prefix work in VC directory
buffers.  Some single-key shortcuts are available as well; <kbd>=</kbd>,
<kbd>+</kbd>, <kbd>l</kbd>, <kbd>i</kbd>, and <kbd>v</kbd> behave as through prefixed with
<kbd>C-x v</kbd>.

   <p>The command <kbd>C-x v v</kbd> (<code>vc-next-action</code>) operates on all the
marked files, so that you can check in several files at once. 
If the underlying VC supports atomic commits of multiple-file
changesets, <kbd>C-x v v</kbd> with a selected set of modified but not
committed files will commit all of them at once as a single changeset.

   <p>When <kbd>C-x v v</kbd> (<code>vc-next-action</code>) operates on multiple
files, all of those files must be either in the same state or in
compatible states (added, modified and removed states are considered
compatible).  Otherwise it signals an error.  This differs from the
behavior of older versions of VC, which did not have fileset
operations and simply did <code>vc-next-action</code> on each file
individually.

   <p>If any files are in a state that calls for commit, <kbd>C-x v v</kbd> reads a
single log entry and uses it for the changeset as a whole.  If the
underling VCS is file- rather than changeset-oriented, the log entry
will be replicated into the history of each file.

   </body></html>

