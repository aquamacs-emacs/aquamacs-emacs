<html lang="en">
<head>
<title>Keyboard Macro Step-Edit - GNU Emacs Manual</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="GNU Emacs Manual">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="Keyboard-Macros.html#Keyboard-Macros" title="Keyboard Macros">
<link rel="prev" href="Edit-Keyboard-Macro.html#Edit-Keyboard-Macro" title="Edit Keyboard Macro">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
This is the Sixteenth edition of the `GNU Emacs Manual',

updated for Emacs version 23.2.50.

Copyright (C) 1985, 1986, 1987, 1993, 1994, 1995, 1996, 1997,
1998, 1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009,
2010  Free Software Foundation, Inc.

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.3 or any later version published by the Free Software
     Foundation; with the Invariant Sections being ``The GNU
     Manifesto,'' ``Distribution'' and ``GNU GENERAL PUBLIC LICENSE,''
     with the Front-Cover texts being ``A GNU Manual,'' and with the
     Back-Cover Texts as in (a) below.  A copy of the license is
     included in the section entitled ``GNU Free Documentation
     License.''

     (a) The FSF's Back-Cover Text is: ``You have the freedom to copy
     and modify this GNU manual.  Buying copies from the FSF supports
     it in developing GNU and promoting software freedom.''
   -->
<meta http-equiv="Content-Style-Type" content="text/css">

<link rel="stylesheet" href="aquamacs.css" type="text/css" /></head>
<body>
<div class="node">
<a name="Keyboard-Macro-Step-Edit"></a>
<a name="Keyboard-Macro-Step_002dEdit"></a>
<p>
Previous:&nbsp;<a rel="previous" accesskey="p" href="Edit-Keyboard-Macro.html#Edit-Keyboard-Macro">Edit Keyboard Macro</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Keyboard-Macros.html#Keyboard-Macros">Keyboard Macros</a>
<hr>
</div>

<h3 class="section">21.7 Stepwise Editing a Keyboard Macro</h3>

<p><a name="index-kmacro_002dstep_002dedit_002dmacro-802"></a><a name="index-C_002dx-C_002dk-SPC-803"></a>  You can interactively replay and edit the last keyboard
macro, one command at a time, by typing <kbd>C-x C-k SPC</kbd>
(<code>kmacro-step-edit-macro</code>).  Unless you quit the macro using
<kbd>q</kbd> or <kbd>C-g</kbd>, the edited macro replaces the last macro on the
macro ring.

   <p>This macro editing feature shows the last macro in the minibuffer
together with the first (or next) command to be executed, and prompts
you for an action.  You can enter <kbd>?</kbd> to get a summary of your
options.  These actions are available:

     <ul>
<li><kbd>SPC</kbd> and <kbd>y</kbd> execute the current command, and advance to the
next command in the keyboard macro. 
<li><kbd>n</kbd>, <kbd>d</kbd>, and <kbd>DEL</kbd> skip and delete the current command. 
<li><kbd>f</kbd> skips the current command in this execution of the keyboard
macro, but doesn't delete it from the macro. 
<li><kbd>&lt;TAB&gt;</kbd> executes the current command, as well as all similar
commands immediately following the current command; for example, &lt;TAB&gt;
may be used to insert a sequence of characters (corresponding to a
sequence of <code>self-insert-command</code> commands). 
<li><kbd>c</kbd> continues execution (without further editing) until the end of
the keyboard macro.  If execution terminates normally, the edited
macro replaces the original keyboard macro. 
<li><kbd>C-k</kbd> skips and deletes the rest of the keyboard macro,
terminates step-editing, and replaces the original keyboard macro
with the edited macro. 
<li><kbd>q</kbd> and <kbd>C-g</kbd> cancels the step-editing of the keyboard macro;
discarding any changes made to the keyboard macro. 
<li><kbd>i KEY... C-j</kbd> reads and executes a series of key sequences (not
including the final <kbd>C-j</kbd>), and inserts them before the current
command in the keyboard macro, without advancing over the current
command. 
<li><kbd>I KEY...</kbd> reads one key sequence, executes it, and inserts it
before the current command in the keyboard macro, without advancing
over the current command. 
<li><kbd>r KEY... C-j</kbd> reads and executes a series of key sequences (not
including the final <kbd>C-j</kbd>), and replaces the current command in
the keyboard macro with them, advancing over the inserted key
sequences. 
<li><kbd>R KEY...</kbd> reads one key sequence, executes it, and replaces the
current command in the keyboard macro with that key sequence,
advancing over the inserted key sequence. 
<li><kbd>a KEY... C-j</kbd> executes the current command, then reads and
executes a series of key sequences (not including the final
<kbd>C-j</kbd>), and inserts them after the current command in the keyboard
macro; it then advances over the current command and the inserted key
sequences. 
<li><kbd>A KEY... C-j</kbd> executes the rest of the commands in the keyboard
macro, then reads and executes a series of key sequences (not
including the final <kbd>C-j</kbd>), and appends them at the end of the
keyboard macro; it then terminates the step-editing and replaces the
original keyboard macro with the edited macro. 
</ul>

<!-- Includes arevert-xtra. -->
<!-- This is part of the Emacs manual. -->
<!-- Copyright (C) 1985, 1986, 1987, 1993, 1994, 1995, 1997, 1999, 2000, -->
<!-- 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010 -->
<!-- Free Software Foundation, Inc. -->
<!-- See file emacs.texi for copying conditions. -->
   </body></html>

