<html lang="en">
<head>
<title>Eqn Language Mode - GNU Emacs Calc Manual</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="GNU Emacs Calc Manual">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="Language-Modes.html#Language-Modes" title="Language Modes">
<link rel="prev" href="TeX-and-LaTeX-Language-Modes.html#TeX-and-LaTeX-Language-Modes" title="TeX and LaTeX Language Modes">
<link rel="next" href="Yacas-Language-Mode.html#Yacas-Language-Mode" title="Yacas Language Mode">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
This file documents Calc, the GNU Emacs calculator, included with GNU Emacs 23.1.

Copyright (C) 1990, 1991, 2001, 2002, 2003, 2004,
2005, 2006, 2007, 2008, 2009, 2010 Free Software Foundation, Inc.

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.3 or any later version published by the Free Software
     Foundation; with the Invariant Sections being just ``GNU GENERAL
     PUBLIC LICENSE'', with the Front-Cover texts being ``A GNU
     Manual,'' and with the Back-Cover Texts as in (a) below.  A copy
     of the license is included in the section entitled ``GNU Free
     Documentation License.''

     (a) The FSF's Back-Cover Text is: ``You have the freedom to copy
     and modify this GNU manual.  Buying copies from the FSF supports
     it in developing GNU and promoting software freedom.''
   -->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<a name="Eqn-Language-Mode"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="Yacas-Language-Mode.html#Yacas-Language-Mode">Yacas Language Mode</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="TeX-and-LaTeX-Language-Modes.html#TeX-and-LaTeX-Language-Modes">TeX and LaTeX Language Modes</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Language-Modes.html#Language-Modes">Language Modes</a>
<hr>
</div>

<h4 class="subsection">7.8.4 Eqn Language Mode</h4>

<p class="noindent"><a name="index-d-E-596"></a><a name="index-calc_002deqn_002dlanguage-597"></a><dfn>Eqn</dfn> is another popular formatter for math formulas.  It is
designed for use with the TROFF text formatter, and comes standard
with many versions of Unix.  The <kbd>d E</kbd> (<code>calc-eqn-language</code>)
command selects <dfn>eqn</dfn> notation.

   <p>The <dfn>eqn</dfn> language's main idiosyncrasy is that whitespace plays
a significant part in the parsing of the language.  For example,
&lsquo;<samp><span class="samp">sqrt x+1 + y</span></samp>&rsquo; treats &lsquo;<samp><span class="samp">x+1</span></samp>&rsquo; as the argument of the
<code>sqrt</code> operator.  <dfn>Eqn</dfn> also understands more conventional
grouping using curly braces:  &lsquo;<samp><span class="samp">sqrt{x+1} + y</span></samp>&rsquo;.  Braces are
required only when the argument contains spaces.

   <p>In Calc's <dfn>eqn</dfn> mode, however, curly braces are required to
delimit arguments of operators like <code>sqrt</code>.  The first of the
above examples would treat only the &lsquo;<samp><span class="samp">x</span></samp>&rsquo; as the argument of
<code>sqrt</code>, and in fact &lsquo;<samp><span class="samp">sin x+1</span></samp>&rsquo; would be interpreted as
&lsquo;<samp><span class="samp">sin * x + 1</span></samp>&rsquo;, because <code>sin</code> is not a special operator
in the <dfn>eqn</dfn> language.  If you always surround the argument
with curly braces, Calc will never misunderstand.

   <p>Calc also understands parentheses as grouping characters.  Another
peculiarity of <dfn>eqn</dfn>'s syntax makes it advisable to separate
words with spaces from any surrounding characters that aren't curly
braces, so Calc writes &lsquo;<samp><span class="samp">sin ( x + y )</span></samp>&rsquo; in <dfn>eqn</dfn> mode. 
(The spaces around <code>sin</code> are important to make <dfn>eqn</dfn>
recognize that <code>sin</code> should be typeset in a roman font, and
the spaces around <code>x</code> and <code>y</code> are a good idea just in
case the <dfn>eqn</dfn> document has defined special meanings for these
names, too.)

   <p>Powers and subscripts are written with the <code>sub</code> and <code>sup</code>
operators, respectively.  Note that the caret symbol &lsquo;<samp><span class="samp">^</span></samp>&rsquo; is
treated the same as a space in <dfn>eqn</dfn> mode, as is the &lsquo;<samp><span class="samp">~</span></samp>&rsquo;
symbol (these are used to introduce spaces of various widths into
the typeset output of <dfn>eqn</dfn>).

   <p>As in LaTeX mode, Calc's formatter omits parentheses around the
arguments of functions like <code>ln</code> and <code>sin</code> if they are
&ldquo;simple-looking&rdquo;; in this case Calc surrounds the argument with
braces, separated by a &lsquo;<samp><span class="samp">~</span></samp>&rsquo; from the function name: &lsquo;<samp><span class="samp">sin~{x}</span></samp>&rsquo;.

   <p>Font change codes (like &lsquo;<samp><span class="samp">roman </span><var>x</var></samp>&rsquo;) and positioning codes
(like &lsquo;<samp><span class="samp">~</span></samp>&rsquo; and &lsquo;<samp><span class="samp">down </span><var>n</var> <var>x</var></samp>&rsquo;) are ignored by the
<dfn>eqn</dfn> reader.  Also ignored are the words <code>left</code>, <code>right</code>,
<code>mark</code>, and <code>lineup</code>.  Quotation marks in <dfn>eqn</dfn> mode input
are treated the same as curly braces: &lsquo;<samp><span class="samp">sqrt "1+x"</span></samp>&rsquo; is equivalent to
&lsquo;<samp><span class="samp">sqrt {1+x}</span></samp>&rsquo;; this is only an approximation to the true meaning
of quotes in <dfn>eqn</dfn>, but it is good enough for most uses.

   <p>Accent codes (&lsquo;<samp><var>x</var><span class="samp"> dot</span></samp>&rsquo;) are handled by treating them as
function calls (&lsquo;<samp><span class="samp">dot(</span><var>x</var><span class="samp">)</span></samp>&rsquo;) internally. 
See <a href="TeX-and-LaTeX-Language-Modes.html#TeX-and-LaTeX-Language-Modes">TeX and LaTeX Language Modes</a>, for a table of these accent
functions.  The <code>prime</code> accent is treated specially if it occurs on
a variable or function name: &lsquo;<samp><span class="samp">f prime prime (&nbsp;x&nbsp;prime&nbsp;)<!-- /@w --></span></samp>&rsquo; is
stored internally as &lsquo;<samp><span class="samp">f''<!-- /@w -->(x')</span></samp>&rsquo;.  For example, taking the
derivative of &lsquo;<samp><span class="samp">f(2 x)</span></samp>&rsquo; with <kbd>a d x</kbd> will produce &lsquo;<samp><span class="samp">2 f'(2
x)</span></samp>&rsquo;, which <dfn>eqn</dfn> mode will display as &lsquo;<samp><span class="samp">2 f prime ( 2 x )</span></samp>&rsquo;.

   <p>Assignments are written with the &lsquo;<samp><span class="samp">&lt;-</span></samp>&rsquo; (left-arrow) symbol,
and <code>evalto</code> operators are written with &lsquo;<samp><span class="samp">-&gt;</span></samp>&rsquo; or
&lsquo;<samp><span class="samp">evalto ... -&gt;</span></samp>&rsquo; (see <a href="TeX-and-LaTeX-Language-Modes.html#TeX-and-LaTeX-Language-Modes">TeX and LaTeX Language Modes</a>, for a discussion
of this).  The regular Calc symbols &lsquo;<samp><span class="samp">:=</span></samp>&rsquo; and &lsquo;<samp><span class="samp">=&gt;</span></samp>&rsquo; are also
recognized for these operators during reading.

   <p>Vectors in <dfn>eqn</dfn> mode use regular Calc square brackets, but
matrices are formatted as &lsquo;<samp><span class="samp">matrix { ccol { a above b } ... }</span></samp>&rsquo;. 
The words <code>lcol</code> and <code>rcol</code> are recognized as synonyms
for <code>ccol</code> during input, and are generated instead of <code>ccol</code>
if the matrix justification mode so specifies.

   </body></html>

