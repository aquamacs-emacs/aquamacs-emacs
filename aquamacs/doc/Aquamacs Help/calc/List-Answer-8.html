<html lang="en">
<head>
<title>List Answer 8 - GNU Emacs Calc Manual</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="GNU Emacs Calc Manual">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="Answers-to-Exercises.html#Answers-to-Exercises" title="Answers to Exercises">
<link rel="prev" href="List-Answer-7.html#List-Answer-7" title="List Answer 7">
<link rel="next" href="List-Answer-9.html#List-Answer-9" title="List Answer 9">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
This file documents Calc, the GNU Emacs calculator, included with GNU Emacs 23.1.

Copyright (C) 1990, 1991, 2001, 2002, 2003, 2004,
2005, 2006, 2007, 2008, 2009, 2010 Free Software Foundation, Inc.

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.3 or any later version published by the Free Software
     Foundation; with the Invariant Sections being just ``GNU GENERAL
     PUBLIC LICENSE'', with the Front-Cover texts being ``A GNU
     Manual,'' and with the Back-Cover Texts as in (a) below.  A copy
     of the license is included in the section entitled ``GNU Free
     Documentation License.''

     (a) The FSF's Back-Cover Text is: ``You have the freedom to copy
     and modify this GNU manual.  Buying copies from the FSF supports
     it in developing GNU and promoting software freedom.''
   -->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<a name="List-Answer-8"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="List-Answer-9.html#List-Answer-9">List Answer 9</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="List-Answer-7.html#List-Answer-7">List Answer 7</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Answers-to-Exercises.html#Answers-to-Exercises">Answers to Exercises</a>
<hr>
</div>

<h4 class="subsection">3.7.26 List Tutorial Exercise 8</h4>

<p class="noindent">The first step is to build a list of values of &lsquo;<samp><span class="samp">x</span></samp>&rsquo;.

<pre class="smallexample">     1:  [1, 2, 3, ..., 21]  1:  [0, 1, 2, ..., 20]  1:  [0, 0.25, 0.5, ..., 5]
         .                       .                       .
     
         v x 21 &lt;RET&gt;              1 -                     4 /  s 1
</pre>
   <p>Next, we compute the Bessel function values.

<pre class="smallexample">     1:  [0., 0.124, 0.242, ..., -0.328]
         .
     
         V M ' besJ(1,$) &lt;RET&gt;
</pre>
   <p class="noindent">(Another way to do this would be <kbd>1 &lt;TAB&gt; V M f j</kbd>.)

   <p>A way to isolate the maximum value is to compute the maximum using
<kbd>V R X</kbd>, then compare all the Bessel values with that maximum.

<pre class="smallexample">     2:  [0., 0.124, 0.242, ... ]   1:  [0, 0, 0, ... ]    2:  [0, 0, 0, ... ]
     1:  0.5801562                      .                  1:  1
         .                                                     .
     
         &lt;RET&gt; V R X                      V M a =                &lt;RET&gt; V R +    &lt;DEL&gt;
</pre>
   <p class="noindent">It's a good idea to verify, as in the last step above, that only
one value is equal to the maximum.  (After all, a plot of
<!-- @math{\sin x} -->
&lsquo;<samp><span class="samp">sin(x)</span></samp>&rsquo;
might have many points all equal to the maximum value, 1.)

   <p>The vector we have now has a single 1 in the position that indicates
the maximum value of &lsquo;<samp><span class="samp">x</span></samp>&rsquo;.  Now it is a simple matter to convert
this back into the corresponding value itself.

<pre class="smallexample">     2:  [0, 0, 0, ... ]         1:  [0, 0., 0., ... ]    1:  1.75
     1:  [0, 0.25, 0.5, ... ]        .                        .
         .
     
         r 1                         V M *                    V R +
</pre>
   <p>If <kbd>a =</kbd> had produced more than one &lsquo;<samp><span class="samp">1</span></samp>&rsquo; value, this method
would have given the sum of all maximum &lsquo;<samp><span class="samp">x</span></samp>&rsquo; values; not very
useful!  In this case we could have used <kbd>v m</kbd> (<code>calc-mask-vector</code>)
instead.  This command deletes all elements of a &ldquo;data&rdquo; vector that
correspond to zeros in a &ldquo;mask&rdquo; vector, leaving us with, in this
example, a vector of maximum &lsquo;<samp><span class="samp">x</span></samp>&rsquo; values.

   <p>The built-in <kbd>a X</kbd> command maximizes a function using more
efficient methods.  Just for illustration, let's use <kbd>a X</kbd>
to maximize &lsquo;<samp><span class="samp">besJ(1,x)</span></samp>&rsquo; over this same interval.

<pre class="smallexample">     2:  besJ(1, x)                 1:  [1.84115, 0.581865]
     1:  [0 .. 5]                       .
         .
     
     ' besJ(1,x), [0..5] &lt;RET&gt;            a X x &lt;RET&gt;
</pre>
   <p class="noindent">The output from <kbd>a X</kbd> is a vector containing the value of &lsquo;<samp><span class="samp">x</span></samp>&rsquo;
that maximizes the function, and the function's value at that maximum. 
As you can see, our simple search got quite close to the right answer.

   </body></html>

