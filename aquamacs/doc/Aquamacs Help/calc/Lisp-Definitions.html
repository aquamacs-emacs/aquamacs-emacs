<html lang="en">
<head>
<title>Lisp Definitions - GNU Emacs Calc Manual</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="GNU Emacs Calc Manual">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="Programming.html#Programming" title="Programming">
<link rel="prev" href="Algebraic-Definitions.html#Algebraic-Definitions" title="Algebraic Definitions">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
This file documents Calc, the GNU Emacs calculator, included with GNU Emacs 23.1.

Copyright (C) 1990, 1991, 2001, 2002, 2003, 2004,
2005, 2006, 2007, 2008, 2009, 2010 Free Software Foundation, Inc.

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.3 or any later version published by the Free Software
     Foundation; with the Invariant Sections being just ``GNU GENERAL
     PUBLIC LICENSE'', with the Front-Cover texts being ``A GNU
     Manual,'' and with the Back-Cover Texts as in (a) below.  A copy
     of the license is included in the section entitled ``GNU Free
     Documentation License.''

     (a) The FSF's Back-Cover Text is: ``You have the freedom to copy
     and modify this GNU manual.  Buying copies from the FSF supports
     it in developing GNU and promoting software freedom.''
   -->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<a name="Lisp-Definitions"></a>
<p>
Previous:&nbsp;<a rel="previous" accesskey="p" href="Algebraic-Definitions.html#Algebraic-Definitions">Algebraic Definitions</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Programming.html#Programming">Programming</a>
<hr>
</div>

<h3 class="section">18.5 Programming with Lisp</h3>

<p class="noindent">The Calculator can be programmed quite extensively in Lisp.  All you
do is write a normal Lisp function definition, but with <code>defmath</code>
in place of <code>defun</code>.  This has the same form as <code>defun</code>, but it
automagically replaces calls to standard Lisp functions like <code>+</code> and
<code>zerop</code> with calls to the corresponding functions in Calc's own library. 
Thus you can write natural-looking Lisp code which operates on all of the
standard Calculator data types.  You can then use <kbd>Z D</kbd> if you wish to
bind your new command to a <kbd>z</kbd>-prefix key sequence.  The <kbd>Z E</kbd> command
will not edit a Lisp-based definition.

   <p>Emacs Lisp is described in the GNU Emacs Lisp Reference Manual.  This section
assumes a familiarity with Lisp programming concepts; if you do not know
Lisp, you may find keyboard macros or rewrite rules to be an easier way
to program the Calculator.

   <p>This section first discusses ways to write commands, functions, or
small programs to be executed inside of Calc.  Then it discusses how
your own separate programs are able to call Calc from the outside. 
Finally, there is a list of internal Calc functions and data structures
for the true Lisp enthusiast.

<ul class="menu">
<li><a accesskey="1" href="Defining-Functions.html#Defining-Functions">Defining Functions</a>
<li><a accesskey="2" href="Defining-Simple-Commands.html#Defining-Simple-Commands">Defining Simple Commands</a>
<li><a accesskey="3" href="Defining-Stack-Commands.html#Defining-Stack-Commands">Defining Stack Commands</a>
<li><a accesskey="4" href="Argument-Qualifiers.html#Argument-Qualifiers">Argument Qualifiers</a>
<li><a accesskey="5" href="Example-Definitions.html#Example-Definitions">Example Definitions</a>

<li><a accesskey="6" href="Calling-Calc-from-Your-Programs.html#Calling-Calc-from-Your-Programs">Calling Calc from Your Programs</a>
<li><a accesskey="7" href="Internals.html#Internals">Internals</a>
</ul>

   </body></html>

