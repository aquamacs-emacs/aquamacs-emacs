<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
  <meta name="generator" content=
  "HTML Tidy for Mac OS X (vers 31 October 2006 - Apple Inc. build 15.18.1), see www.w3.org" />

  <title>Extracting Elements - GNU Emacs Calc Manual</title>
  <meta http-equiv="Content-Type" content="text/html" />
  <meta name="description" content="GNU Emacs Calc Manual" />
  <meta name="generator" content="makeinfo 4.13" />
  <link title="Top" rel="start" href="index.html#Top" />
  <link rel="up" href="Matrix-Functions.html#Matrix-Functions"
  title="Matrix Functions" />
  <link rel="prev" href="Building-Vectors.html#Building-Vectors"
  title="Building Vectors" />
  <link rel="next" href=
  "Manipulating-Vectors.html#Manipulating-Vectors" title=
  "Manipulating Vectors" />
  <link href="http://www.gnu.org/software/texinfo/" rel=
  "generator-home" title="Texinfo Homepage" /><!--
This file documents Calc, the GNU Emacs calculator, included with
GNU Emacs {No value for `EMACSVER'}.

Copyright (C) 1990, 1991, 2001, 2002, 2003, 2004,
2005, 2006, 2007, 2008, 2009, 2010 Free Software Foundation, Inc.

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.3 or any later version published by the Free Software
     Foundation; with the Invariant Sections being just ``GNU GENERAL
     PUBLIC LICENSE'', with the Front-Cover texts being ``A GNU
     Manual,'' and with the Back-Cover Texts as in (a) below.  A copy
     of the license is included in the section entitled ``GNU Free
     Documentation License.''

     (a) The FSF's Back-Cover Text is: ``You have the freedom to copy
     and modify this GNU manual.  Buying copies from the FSF supports
     it in developing GNU and promoting software freedom.''
   -->
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <style type="text/css">
/*<![CDATA[*/
  <!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
  -->
  /*]]>*/
  </style>
</head>

<body>
  <div class="node">
    <a name="Extracting-Elements" id="Extracting-Elements"></a>

    <p>Next:&nbsp;<a rel="next" accesskey="n" href=
    "Manipulating-Vectors.html#Manipulating-Vectors">Manipulating
    Vectors</a>, Previous:&nbsp;<a rel="previous" accesskey="p"
    href="Building-Vectors.html#Building-Vectors">Building
    Vectors</a>, Up:&nbsp;<a rel="up" accesskey="u" href=
    "Matrix-Functions.html#Matrix-Functions">Matrix
    Functions</a></p>
    <hr />
  </div>

  <h3 class="section">10.3 Extracting Vector Elements</h3>

  <p class="noindent"><a name="index-v-r-1249" id=
  "index-v-r-1249"></a><a name="index-V-r-1250" id=
  "index-V-r-1250"></a><a name="index-calc_002dmrow-1251" id=
  "index-calc_002dmrow-1251"></a><a name="index-mrow-1252" id=
  "index-mrow-1252"></a>The <kbd>v r</kbd> (<code>calc-mrow</code>)
  [<code>mrow</code>] command extracts one row of the matrix on the
  top of the stack, or one element of the plain vector on the top
  of the stack. The row or element is specified by the numeric
  prefix argument; the default is to prompt for the row or element
  number. The matrix or vector is replaced by the specified row or
  element in the form of a vector or scalar, respectively.</p>

  <p><a name="index-Permutations_002c-applying-1253" id=
  "index-Permutations_002c-applying-1253"></a>With a prefix
  argument of <kbd>C-u</kbd> only, <kbd>v r</kbd> takes the index
  of the element or row from the top of the stack, and the vector
  or matrix from the second-to-top position. If the index is itself
  a vector of integers, the result is a vector of the corresponding
  elements of the input vector, or a matrix of the corresponding
  rows of the input matrix. This command can be used to obtain any
  permutation of a vector.</p>

  <p>With <kbd>C-u</kbd>, if the index is an interval form with
  integer components, it is interpreted as a range of indices and
  the corresponding subvector or submatrix is returned.</p>

  <p><a name="index-Subscript-notation-1254" id=
  "index-Subscript-notation-1254"></a><a name="index-a-_005f-1255"
  id="index-a-_005f-1255"></a><a name=
  "index-calc_002dsubscript-1256" id=
  "index-calc_002dsubscript-1256"></a><a name="index-subscr-1257"
  id="index-subscr-1257"></a><a name="index-g_t_005f-1258" id=
  "index-g_t_005f-1258"></a>Subscript notation in algebraic
  formulas (&lsquo;<samp><span class=
  "samp">a_b</span></samp>&rsquo;) stands for the Calc function
  <code>subscr</code>, which is synonymous with <code>mrow</code>.
  Thus, &lsquo;<samp><span class="samp">[x, y,
  z]_k</span></samp>&rsquo; produces &lsquo;<samp><span class=
  "samp">x</span></samp>&rsquo;, &lsquo;<samp><span class=
  "samp">y</span></samp>&rsquo;, or &lsquo;<samp><span class=
  "samp">z</span></samp>&rsquo; if &lsquo;<samp><span class=
  "samp">k</span></samp>&rsquo; is one, two, or three,
  respectively. A double subscript (&lsquo;<samp><span class=
  "samp">M_i_j</span></samp>&rsquo;, equivalent to
  &lsquo;<samp><span class="samp">subscr(subscr(M, i),
  j)</span></samp>&rsquo;) will access the element at row
  &lsquo;<samp><span class="samp">i</span></samp>&rsquo;, column
  &lsquo;<samp><span class="samp">j</span></samp>&rsquo; of a
  matrix. The <kbd>a _</kbd> (<code>calc-subscript</code>) command
  creates a subscript formula &lsquo;<samp><span class=
  "samp">a_b</span></samp>&rsquo; out of two stack entries. (It is
  on the <kbd>a</kbd> &ldquo;algebra&rdquo; prefix because
  subscripted variables are often used purely as an algebraic
  notation.)</p>

  <p><a name="index-mrrow-1259" id="index-mrrow-1259"></a>Given a
  negative prefix argument, <kbd>v r</kbd> instead deletes one row
  or element from the matrix or vector on the top of the stack.
  Thus <kbd>C-u 2 v r</kbd> replaces a matrix with its second row,
  but <kbd>C-u -2 v r</kbd> replaces the matrix with the same
  matrix with its second row removed. In algebraic form this
  function is called <code>mrrow</code>.</p>

  <p><a name="index-getdiag-1260" id="index-getdiag-1260"></a>Given
  a prefix argument of zero, <kbd>v r</kbd> extracts the diagonal
  elements of a square matrix in the form of a vector. In algebraic
  form this function is called <code>getdiag</code>.</p>

  <p><a name="index-v-c-1261" id="index-v-c-1261"></a><a name=
  "index-V-c-1262" id="index-V-c-1262"></a><a name=
  "index-calc_002dmcol-1263" id=
  "index-calc_002dmcol-1263"></a><a name="index-mcol-1264" id=
  "index-mcol-1264"></a><a name="index-mrcol-1265" id=
  "index-mrcol-1265"></a>The <kbd>v c</kbd>
  (<code>calc-mcol</code>) [<code>mcol</code> or
  <code>mrcol</code>] command is the analogous operation on columns
  of a matrix. Given a plain vector it extracts (or removes) one
  element, just like <kbd>v r</kbd>. If the index in <kbd>C-u v
  c</kbd> is an interval or vector and the argument is a matrix,
  the result is a submatrix with only the specified columns
  retained (and possibly permuted in the case of a vector
  index).</p>

  <p>To extract a matrix element at a given row and column, use
  <kbd>v r</kbd> to extract the row as a vector, then <kbd>v
  c</kbd> to extract the column element from that vector. In
  algebraic formulas, it is often more convenient to use subscript
  notation: &lsquo;<samp><span class=
  "samp">m_i_j</span></samp>&rsquo; gives row
  &lsquo;<samp><span class="samp">i</span></samp>&rsquo;, column
  &lsquo;<samp><span class="samp">j</span></samp>&rsquo; of matrix
  &lsquo;<samp><span class="samp">m</span></samp>&rsquo;.</p>

  <p><a name="index-v-s-1266" id="index-v-s-1266"></a><a name=
  "index-V-s-1267" id="index-V-s-1267"></a><a name=
  "index-calc_002dsubvector-1268" id=
  "index-calc_002dsubvector-1268"></a><a name="index-subvec-1269"
  id="index-subvec-1269"></a>The <kbd>v s</kbd>
  (<code>calc-subvector</code>) [<code>subvec</code>] command
  extracts a subvector of a vector. The arguments are the vector,
  the starting index, and the ending index, with the ending index
  in the top-of-stack position. The starting index indicates the
  first element of the vector to take. The ending index indicates
  the first element <em>past</em> the range to be taken. Thus,
  &lsquo;<samp><span class="samp">subvec([a, b, c, d, e], 2,
  4)</span></samp>&rsquo; produces the subvector
  &lsquo;<samp><span class="samp">[b, c]</span></samp>&rsquo;. You
  could get the same result using &lsquo;<samp><span class=
  "samp">mrow([a, b, c, d, e], [2&nbsp;..&nbsp;4)
  <!-- /@w -->)</span></samp>&rsquo;.</p>

  <p>If either the start or the end index is zero or negative, it
  is interpreted as relative to the end of the vector. Thus
  &lsquo;<samp><span class="samp">subvec([a, b, c, d, e], 2,
  -2)</span></samp>&rsquo; also produces &lsquo;<samp><span class=
  "samp">[b, c]</span></samp>&rsquo;. In the algebraic form, the
  end index can be omitted in which case it is taken as zero, i.e.,
  elements from the starting element to the end of the vector are
  used. The infinity symbol, <code>inf</code>, also has this effect
  when used as the ending index.</p>

  <p><a name="index-I-v-s-1270" id="index-I-v-s-1270"></a><a name=
  "index-I-V-s-1271" id="index-I-V-s-1271"></a><a name=
  "index-rsubvec-1272" id="index-rsubvec-1272"></a>With the Inverse
  flag, <kbd>I v s</kbd> [<code>rsubvec</code>] removes a subvector
  from a vector. The arguments are interpreted the same as for the
  normal <kbd>v s</kbd> command. Thus, &lsquo;<samp><span class=
  "samp">rsubvec([a, b, c, d, e], 2, 4)</span></samp>&rsquo;
  produces &lsquo;<samp><span class="samp">[a, d,
  e]</span></samp>&rsquo;. It is always true that
  <code>subvec</code> and <code>rsubvec</code> return complementary
  parts of the input vector.</p>

  <p>See <a href=
  "Selecting-Subformulas.html#Selecting-Subformulas">Selecting
  Subformulas</a>, for an alternative way to operate on vectors one
  element at a time.</p>
</body>
</html>
