<html lang="en">
<head>
<title>Signing and encryption - Message Manual</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="Message Manual">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="Security.html#Security" title="Security">
<link rel="next" href="Using-S_002fMIME.html#Using-S_002fMIME" title="Using S/MIME">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
This file documents Message, the Emacs message composition mode.

Copyright (C) 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003,
2004, 2005, 2006, 2007, 2008, 2009, 2010 Free Software Foundation, Inc.

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.3 or any later version published by the Free Software
     Foundation; with no Invariant Sections, with the Front-Cover texts
     being ``A GNU Manual'', and with the Back-Cover Texts as in (a)
     below.  A copy of the license is included in the section entitled
     ``GNU Free Documentation License''.

     (a) The FSF's Back-Cover Text is: ``You have the freedom to copy
     and modify this GNU manual.  Buying copies from the FSF supports
     it in developing GNU and promoting software freedom.''
   -->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<a name="Signing-and-encryption"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="Using-S_002fMIME.html#Using-S_002fMIME">Using S/MIME</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Security.html#Security">Security</a>
<hr>
</div>

<h4 class="subsection">2.7.1 Signing and encrypting commands</h4>

<p>Instructing <acronym>MML</acronym> to perform security operations on a
<acronym>MIME</acronym> part is done using the <kbd>C-c C-m s</kbd> key map for
signing and the <kbd>C-c C-m c</kbd> key map for encryption, as follows.
     <dl>
<dt><kbd>C-c C-m s s</kbd><dd><a name="index-C_002dc-C_002dm-s-s-148"></a><a name="index-mml_002dsecure_002dmessage_002dsign_002dsmime-149"></a>
Digitally sign current message using <acronym>S/MIME</acronym>.

     <br><dt><kbd>C-c C-m s o</kbd><dd><a name="index-C_002dc-C_002dm-s-o-150"></a><a name="index-mml_002dsecure_002dmessage_002dsign_002dpgp-151"></a>
Digitally sign current message using <acronym>PGP</acronym>.

     <br><dt><kbd>C-c C-m s p</kbd><dd><a name="index-C_002dc-C_002dm-s-p-152"></a><a name="index-mml_002dsecure_002dmessage_002dsign_002dpgpmime-153"></a>
Digitally sign current message using <acronym>PGP/MIME</acronym>.

     <br><dt><kbd>C-c C-m c s</kbd><dd><a name="index-C_002dc-C_002dm-c-s-154"></a><a name="index-mml_002dsecure_002dmessage_002dencrypt_002dsmime-155"></a>
Digitally encrypt current message using <acronym>S/MIME</acronym>.

     <br><dt><kbd>C-c C-m c o</kbd><dd><a name="index-C_002dc-C_002dm-c-o-156"></a><a name="index-mml_002dsecure_002dmessage_002dencrypt_002dpgp-157"></a>
Digitally encrypt current message using <acronym>PGP</acronym>.

     <br><dt><kbd>C-c C-m c p</kbd><dd><a name="index-C_002dc-C_002dm-c-p-158"></a><a name="index-mml_002dsecure_002dmessage_002dencrypt_002dpgpmime-159"></a>
Digitally encrypt current message using <acronym>PGP/MIME</acronym>.

     <br><dt><kbd>C-c C-m C-n</kbd><dd><a name="index-C_002dc-C_002dm-C_002dn-160"></a><a name="index-mml_002dunsecure_002dmessage-161"></a>Remove security related <acronym>MML</acronym> tags from message.

   </dl>

   <p>These commands do not immediately sign or encrypt the message, they
merely insert the proper <acronym>MML</acronym> secure tag to instruct the
<acronym>MML</acronym> engine to perform that operation when the message is
actually sent.  They may perform other operations too, such as locating
and retrieving a <acronym>S/MIME</acronym> certificate of the person you wish to
send encrypted mail to.  When the mml parsing engine converts your
<acronym>MML</acronym> into a properly encoded <acronym>MIME</acronym> message, the secure
tag will be replaced with either a part or a multipart tag.  If your
message contains other mml parts, a multipart tag will be used; if no
other parts are present in your message a single part tag will be used. 
This way, message mode will do the Right Thing (TM) with
signed/encrypted multipart messages.

   <p>Since signing and especially encryption often is used when sensitive
information is sent, you may want to have some way to ensure that your
mail is actually signed or encrypted.  After invoking the above
sign/encrypt commands, it is possible to preview the raw article by
using <kbd>C-u C-c RET P</kbd> (<code>mml-preview</code>).  Then you can
verify that your long rant about what your ex-significant other or
whomever actually did with that funny looking person at that strange
party the other night, actually will be sent encrypted.

   <p><em>Note!</em>  Neither <acronym>PGP/MIME</acronym> nor <acronym>S/MIME</acronym> encrypt/signs
RFC822 headers.  They only operate on the <acronym>MIME</acronym> object.  Keep this
in mind before sending mail with a sensitive Subject line.

   <p>By default, when encrypting a message, Gnus will use the
&ldquo;signencrypt&rdquo; mode, which means the message is both signed and
encrypted.  If you would like to disable this for a particular
message, give the <code>mml-secure-message-encrypt-*</code> command a prefix
argument, e.g., <kbd>C-u C-c C-m c p</kbd>.

   <p>Actually using the security commands above is not very difficult.  At
least not compared with making sure all involved programs talk with each
other properly.  Thus, we now describe what external libraries or
programs are required to make things work, and some small general hints.

   </body></html>

