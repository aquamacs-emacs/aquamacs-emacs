<html lang="en">
<head>
<title>News Headers - Message Manual</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="Message Manual">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="Variables.html#Variables" title="Variables">
<link rel="prev" href="Mail-Variables.html#Mail-Variables" title="Mail Variables">
<link rel="next" href="News-Variables.html#News-Variables" title="News Variables">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
This file documents Message, the Emacs message composition mode.

Copyright (C) 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003,
2004, 2005, 2006, 2007, 2008, 2009, 2010 Free Software Foundation, Inc.

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.3 or any later version published by the Free Software
     Foundation; with no Invariant Sections, with the Front-Cover texts
     being ``A GNU Manual'', and with the Back-Cover Texts as in (a)
     below.  A copy of the license is included in the section entitled
     ``GNU Free Documentation License''.

     (a) The FSF's Back-Cover Text is: ``You have the freedom to copy
     and modify this GNU manual.  Buying copies from the FSF supports
     it in developing GNU and promoting software freedom.''
   -->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<a name="News-Headers"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="News-Variables.html#News-Variables">News Variables</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="Mail-Variables.html#Mail-Variables">Mail Variables</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Variables.html#Variables">Variables</a>
<hr>
</div>

<h3 class="section">3.4 News Headers</h3>

<p><a name="index-message_002drequired_002dnews_002dheaders-239"></a><code>message-required-news-headers</code> a list of header symbols.  These
headers will either be automatically generated, or, if that's
impossible, they will be prompted for.  The following symbols are valid:

     <dl>
<dt><code>From</code><dd><a name="index-From-240"></a><a name="index-user_002dfull_002dname-241"></a><a name="index-user_002dmail_002daddress-242"></a>This required header will be filled out with the result of the
<code>message-make-from</code> function, which depends on the
<code>message-from-style</code>, <code>user-full-name</code>,
<code>user-mail-address</code> variables.

     <br><dt><code>Subject</code><dd><a name="index-Subject-243"></a>This required header will be prompted for if not present already.

     <br><dt><code>Newsgroups</code><dd><a name="index-Newsgroups-244"></a>This required header says which newsgroups the article is to be posted
to.  If it isn't present already, it will be prompted for.

     <br><dt><code>Organization</code><dd><a name="index-organization-245"></a><a name="index-message_002duser_002dorganization-246"></a><a name="index-message_002duser_002dorganization_002dfile-247"></a>This optional header will be filled out depending on the
<code>message-user-organization</code> variable. 
<code>message-user-organization-file</code> will be used if this variable is
<code>t</code>.  This variable can also be a string (in which case this string
will be used), or it can be a function (which will be called with no
parameters and should return a string to be used).

     <br><dt><code>Lines</code><dd><a name="index-Lines-248"></a>This optional header will be computed by Message.

     <br><dt><code>Message-ID</code><dd><a name="index-Message_002dID-249"></a><a name="index-message_002duser_002dfqdn-250"></a><a name="index-mail_002dhost_002daddress-251"></a><a name="index-user_002dmail_002daddress-252"></a><a name="index-system_002dname-253"></a><a name="index-Sun-254"></a><a name="index-i_002ddid_002dnot_002dset_002d_002dmail_002dhost_002daddress_002d_002dso_002dtickle_002dme-255"></a>This required header will be generated by Message.  A unique ID will be
created based on the date, time, user name (for the local part) and the
domain part.  For the domain part, message will look (in this order) at
<code>message-user-fqdn</code>, <code>system-name</code>, <code>mail-host-address</code>
and <code>message-user-mail-address</code> (i.e. <code>user-mail-address</code>)
until a probably valid fully qualified domain name (FQDN) was found.

     <br><dt><code>User-Agent</code><dd><a name="index-User_002dAgent-256"></a>This optional header will be filled out according to the
<code>message-newsreader</code> local variable.

     <br><dt><code>In-Reply-To</code><dd>This optional header is filled out using the <code>Date</code> and <code>From</code>
header of the article being replied to.

     <br><dt><code>Expires</code><dd><a name="index-Expires-257"></a><a name="index-message_002dexpires-258"></a>This extremely optional header will be inserted according to the
<code>message-expires</code> variable.  It is highly deprecated and shouldn't
be used unless you know what you're doing.

     <br><dt><code>Distribution</code><dd><a name="index-Distribution-259"></a><a name="index-message_002ddistribution_002dfunction-260"></a>This optional header is filled out according to the
<code>message-distribution-function</code> variable.  It is a deprecated and
much misunderstood header.

     <br><dt><code>Path</code><dd><a name="index-path-261"></a><a name="index-message_002duser_002dpath-262"></a>This extremely optional header should probably never be used. 
However, some <em>very</em> old servers require that this header is
present.  <code>message-user-path</code> further controls how this
<code>Path</code> header is to look.  If it is <code>nil</code>, use the server name
as the leaf node.  If it is a string, use the string.  If it is neither
a string nor <code>nil</code>, use the user name only.  However, it is highly
unlikely that you should need to fiddle with this variable at all. 
</dl>

   <p><a name="index-yow-263"></a><a name="index-Mime_002dVersion-264"></a>In addition, you can enter conses into this list.  The <span class="sc">car</span> of this cons
should be a symbol.  This symbol's name is the name of the header, and
the <span class="sc">cdr</span> can either be a string to be entered verbatim as the value of
this header, or it can be a function to be called.  This function should
return a string to be inserted.  For instance, if you want to insert
<code>Mime-Version: 1.0</code>, you should enter <code>(Mime-Version . "1.0")</code>
into the list.  If you want to insert a funny quote, you could enter
something like <code>(X-Yow . yow)</code> into the list.  The function
<code>yow</code> will then be called without any arguments.

   <p>If the list contains a cons where the <span class="sc">car</span> of the cons is
<code>optional</code>, the <span class="sc">cdr</span> of this cons will only be inserted if it is
non-<code>nil</code>.

   <p>If you want to delete an entry from this list, the following Lisp
snippet might be useful.  Adjust accordingly if you want to remove
another element.

<pre class="lisp">     (setq message-required-news-headers
           (delq 'Message-ID message-required-news-headers))
</pre>
   <p>Other variables for customizing outgoing news articles:

     <dl>
<dt><code>message-syntax-checks</code><dd><a name="index-message_002dsyntax_002dchecks-265"></a>Controls what syntax checks should not be performed on outgoing posts. 
To disable checking of long signatures, for instance, add

     <pre class="lisp">          (signature . disabled)
</pre>
     <p>to this list.

     <p>Valid checks are:

          <dl>
<dt><code>approved</code><dd><a name="index-approved-266"></a>Check whether the article has an <code>Approved</code> header, which is
something only moderators should include. 
<br><dt><code>continuation-headers</code><dd>Check whether there are continuation header lines that don't begin with
whitespace. 
<br><dt><code>control-chars</code><dd>Check for invalid characters. 
<br><dt><code>empty</code><dd>Check whether the article is empty. 
<br><dt><code>existing-newsgroups</code><dd>Check whether the newsgroups mentioned in the <code>Newsgroups</code> and
<code>Followup-To</code> headers exist. 
<br><dt><code>from</code><dd>Check whether the <code>From</code> header seems nice. 
<br><dt><code>illegible-text</code><dd>Check whether there is any non-printable character in the body. 
<br><dt><code>invisible-text</code><dd>Check whether there is any invisible text in the buffer. 
<br><dt><code>long-header-lines</code><dd>Check for too long header lines. 
<br><dt><code>long-lines</code><dd><a name="index-long-lines-267"></a>Check for too long lines in the body. 
<br><dt><code>message-id</code><dd>Check whether the <code>Message-ID</code> looks syntactically ok. 
<br><dt><code>multiple-headers</code><dd>Check for the existence of multiple equal headers. 
<br><dt><code>new-text</code><dd>Check whether there is any new text in the messages. 
<br><dt><code>newsgroups</code><dd>Check whether the <code>Newsgroups</code> header exists and is not empty. 
<br><dt><code>quoting-style</code><dd>Check whether text follows last quoted portion. 
<br><dt><code>repeated-newsgroups</code><dd>Check whether the <code>Newsgroups</code> and <code>Followup-to</code> headers
contains repeated group names. 
<br><dt><code>reply-to</code><dd>Check whether the <code>Reply-To</code> header looks ok. 
<br><dt><code>sender</code><dd><a name="index-Sender-268"></a>Insert a new <code>Sender</code> header if the <code>From</code> header looks odd. 
<br><dt><code>sendsys</code><dd><a name="index-sendsys-269"></a>Check for the existence of version and sendsys commands. 
<br><dt><code>shoot</code><dd>Check whether the domain part of the <code>Message-ID</code> header looks ok. 
<br><dt><code>shorten-followup-to</code><dd>Check whether to add a <code>Followup-to</code> header to shorten the number
of groups to post to. 
<br><dt><code>signature</code><dd>Check the length of the signature. 
<br><dt><code>size</code><dd>Check for excessive size. 
<br><dt><code>subject</code><dd>Check whether the <code>Subject</code> header exists and is not empty. 
<br><dt><code>subject-cmsg</code><dd>Check the subject for commands. 
<br><dt><code>valid-newsgroups</code><dd>Check whether the <code>Newsgroups</code> and <code>Followup-to</code> headers
are valid syntactically. 
</dl>

     <p>All these conditions are checked by default, except for <code>sender</code>
for which the check is disabled by default if
<code>message-insert-canlock</code> is non-<code>nil</code> (see <a href="Canceling-News.html#Canceling-News">Canceling News</a>).

     <br><dt><code>message-ignored-news-headers</code><dd><a name="index-message_002dignored_002dnews_002dheaders-270"></a>Regexp of headers to be removed before posting.  The default is<br>
&lsquo;<samp><span class="samp">^NNTP-Posting-Host:\\|^Xref:\\|^[BGF]cc:\\|^Resent-Fcc:\\|<br>
^X-Draft-From:\\|^X-Gnus-Agent-Meta-Information:</span></samp>&rsquo;.

     <br><dt><code>message-default-news-headers</code><dd><a name="index-message_002ddefault_002dnews_002dheaders-271"></a>This string is inserted at the end of the headers in all message
buffers that are initialized as news.

   </dl>

   </body></html>

