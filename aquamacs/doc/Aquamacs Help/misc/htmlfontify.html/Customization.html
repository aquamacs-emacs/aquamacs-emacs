<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<!-- This manual documents Htmlfontify, a source code -> crosslinked +
formatted + syntax colorized html transformer.

Copyright (C) 2002-2003, 2013-2016 Free Software Foundation,
Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with no
Invariant Sections, with the Front-Cover Texts being "A GNU Manual,"
and with the Back-Cover Texts as in (a) below.  A copy of the license
is included in the section entitled "GNU Free Documentation License".

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual." -->
<!-- Created by GNU Texinfo 5.2, http://www.gnu.org/software/texinfo/ -->

<head>
  <meta name="generator" content=
  "HTML Tidy for Mac OS X (vers 31 October 2006 - Apple Inc. build 15.18.1), see www.w3.org" />

  <title>Htmlfontify User Manual: Customization</title>
  <meta name="description" content=
  "Htmlfontify User Manual: Customization" />
  <meta name="keywords" content=
  "Htmlfontify User Manual: Customization" />
  <meta name="resource-type" content="document" />
  <meta name="distribution" content="global" />
  <meta name="Generator" content="makeinfo" />
  <meta http-equiv="Content-Type" content=
  "text/html; charset=us-ascii" />
  <link href="index.html#Top" rel="start" title="Top" />
  <link href="Index.html#Index" rel="index" title="Index" />
  <link href="index.html#SEC_Contents" rel="contents" title=
  "Table of Contents" />
  <link href="index.html#Top" rel="up" title="Top" />
  <link href="Requirements.html#Requirements" rel="next" title=
  "Requirements" />
  <link href="Examples.html#Examples" rel="prev" title=
  "Examples" />
  <style type="text/css">
/*<![CDATA[*/
  <!--
  a.summary-letter {text-decoration: none}
  blockquote.smallquotation {font-size: smaller}
  div.display {margin-left: 3.2em}
  div.example {margin-left: 3.2em}
  div.indentedblock {margin-left: 3.2em}
  div.lisp {margin-left: 3.2em}
  div.smalldisplay {margin-left: 3.2em}
  div.smallexample {margin-left: 3.2em}
  div.smallindentedblock {margin-left: 3.2em; font-size: smaller}
  div.smalllisp {margin-left: 3.2em}
  kbd {font-style:oblique}
  pre.display {font-family: inherit}
  pre.format {font-family: inherit}
  pre.menu-comment {font-family: serif}
  pre.menu-preformatted {font-family: serif}
  pre.smalldisplay {font-family: inherit; font-size: smaller}
  pre.smallexample {font-size: smaller}
  pre.smallformat {font-family: inherit; font-size: smaller}
  pre.smalllisp {font-size: smaller}
  span.nocodebreak {white-space:nowrap}
  span.nolinebreak {white-space:nowrap}
  span.roman {font-family:serif; font-weight:normal}
  span.sansserif {font-family:sans-serif; font-weight:normal}
  ul.no-bullet {list-style: none}
  -->
  /*]]>*/
  </style>
  <style type="text/css">
/*<![CDATA[*/
  body {
  background-color: #FFFFFF;
  color: #000000;
  }
  :link { color: #0000FF }
  :visited { color: #800080 }
  :active { color: #FF0000 }
  /*]]>*/
  </style>
</head>

<body lang="en" xml:lang="en">
  <a name="Customization" id="Customization"></a>

  <div class="header">
    <p>Next: <a href="Requirements.html#Requirements" accesskey="n"
    rel="next">Requirements</a>, Previous: <a href=
    "Usage-_0026-Examples.html#Usage-_0026-Examples" accesskey="p"
    rel="prev">Usage &amp; Examples</a>, Up: <a href=
    "index.html#Top" accesskey="u" rel="up">Top</a> &nbsp;
    [<a href="index.html#SEC_Contents" title="Table of contents"
    rel="contents">Contents</a>][<a href="Index.html#Index" title=
    "Index" rel="index">Index</a>]</p>
  </div>
  <hr />
  <a name="Customization-1" id="Customization-1"></a>

  <h2 class="chapter">3 Customization</h2><a name=
  "index-variables-_0028customization_0029" id=
  "index-variables-_0028customization_0029"></a>

  <p>Htmlfontify provides the following variable and customization
  entries:</p>

  <dl compact="compact">
    <dt><code>hfy-link-style-fun</code></dt>

    <dd>
      <a name="index-hfy_002dlink_002dstyle_002dfun" id=
      "index-hfy_002dlink_002dstyle_002dfun"></a> <a name=
      "hfy_002dlink_002dstyle_002dfun" id=
      "hfy_002dlink_002dstyle_002dfun"></a>

      <p>Set this to a function, which will be called with one
      argument (a &lsquo;<samp>{ foo: bar; &hellip;}</samp>&rsquo;
      CSS style-string)&mdash;it should return a copy of its
      argument, altered so as to make any changes you want made for
      text which is a hyperlink, in addition to being in the class
      to which that style would normally be applied.</p>
    </dd>

    <dt><code>hfy-html-quote-regex</code></dt>

    <dd>
      <a name="index-hfy_002dhtml_002dquote_002dregex" id=
      "index-hfy_002dhtml_002dquote_002dregex"></a> <a name=
      "hfy_002dhtml_002dquote_002dregex" id=
      "hfy_002dhtml_002dquote_002dregex"></a>

      <p>Regex to match (with a single back-reference per match)
      strings in HTML which should be quoted with <a href=
      "Non_002dinteractive.html#hfy_002dhtml_002dquote">hfy-html-quote</a>
      (and see <a href=
      "#hfy_002dhtml_002dquote_002dmap">hfy-html-quote-map</a>) to
      make them safe.</p>
    </dd>

    <dt><code>hfy-page-footer</code></dt>

    <dd>
      <a name="index-hfy_002dpage_002dfooter" id=
      "index-hfy_002dpage_002dfooter"></a> <a name=
      "hfy_002dpage_002dfooter" id="hfy_002dpage_002dfooter"></a>

      <p>As <a href="#hfy_002dpage_002dheader">hfy-page-header</a>,
      but generates the output footer (and takes only 1 argument,
      the filename).</p>
    </dd>

    <dt><code>hfy-display-class</code></dt>

    <dd>
      <a name="index-hfy_002ddisplay_002dclass" id=
      "index-hfy_002ddisplay_002dclass"></a> <a name=
      "hfy_002ddisplay_002dclass" id=
      "hfy_002ddisplay_002dclass"></a>

      <p>Display class to use to determine which display class to
      use when calculating a face&rsquo;s attributes. This is
      useful when, for example, you are running Emacs on a tty or
      in batch mode, and want Htmlfontify to have access to the
      face spec you would use if you were connected to an X
      display.</p>

      <p>Some valid class specification elements are:</p>

      <div class="lisp">
        <pre class="lisp">
  (class      color)
  (class      grayscale)
  (background dark)
  (background light)
  (type       x-toolkit)
  (type       tty)
  (type       motif)
  (type       lucid)
</pre>
      </div>

      <p>Multiple values for a tag may be combined, to indicate
      that any one or more of these values in the specification key
      constitutes a match. For example, <code>((class color
      grayscale) (type tty))</code> would match any of:</p>

      <div class="lisp">
        <pre class="lisp">
  ((class color))
  ((class grayscale))
  ((class color grayscale)))
  ((class color foo))
  ((type  tty))
  ((type  tty) (class color))
</pre>
      </div>
    </dd>

    <dt><code>hfy-page-header</code></dt>

    <dd>
      <a name="index-hfy_002dpage_002dheader" id=
      "index-hfy_002dpage_002dheader"></a> <a name=
      "hfy_002dpage_002dheader" id="hfy_002dpage_002dheader"></a>

      <p>Function called with two arguments (the filename relative
      to the top level source directory being etagged and
      fontified), and a string containing the
      &lsquo;<samp>&lt;style&gt;&hellip;&lt;/style&gt;</samp>&rsquo;
      text to embed in the document&mdash;the string returned will
      be used as the header for the htmlfontified version of the
      source file.</p>

      <p>See also: <a href=
      "#hfy_002dpage_002dfooter">hfy-page-footer</a></p>
    </dd>

    <dt><code>hfy-src-doc-link-style</code></dt>

    <dd>
      <a name="index-hfy_002dsrc_002ddoc_002dlink_002dstyle" id=
      "index-hfy_002dsrc_002ddoc_002dlink_002dstyle"></a> <a name=
      "hfy_002dsrc_002ddoc_002dlink_002dstyle" id=
      "hfy_002dsrc_002ddoc_002dlink_002dstyle"></a>

      <p>String to add to the &lsquo;<samp>&lt;style&gt;
      a</samp>&rsquo; variant of an Htmlfontify CSS class.</p>
    </dd>

    <dt><code>hfy-split-index</code></dt>

    <dd>
      <a name="index-hfy_002dsplit_002dindex" id=
      "index-hfy_002dsplit_002dindex"></a> <a name=
      "hfy_002dsplit_002dindex" id="hfy_002dsplit_002dindex"></a>

      <p>Whether or not to split the index <a href=
      "#hfy_002dindex_002dfile">hfy-index-file</a> alphabetically
      on the first letter of each tag. Useful when the index would
      otherwise be large and take a long time to render or be
      difficult to navigate.</p>
    </dd>

    <dt><code>hfy-find-cmd</code></dt>

    <dd>
      <a name="index-hfy_002dfind_002dcmd" id=
      "index-hfy_002dfind_002dcmd"></a> <a name=
      "hfy_002dfind_002dcmd" id="hfy_002dfind_002dcmd"></a>

      <p>The &ldquo;find&rdquo; command used to harvest a list of
      files to attempt to fontify.</p>
    </dd>

    <dt><code>hfy-extn</code></dt>

    <dd>
      <a name="index-hfy_002dextn" id="index-hfy_002dextn"></a>
      <a name="hfy_002dextn" id="hfy_002dextn"></a>

      <p>File extension used for output files.</p>
    </dd>

    <dt><code>hfy-default-face-def</code></dt>

    <dd>
      <a name="index-hfy_002ddefault_002dface_002ddef" id=
      "index-hfy_002ddefault_002dface_002ddef"></a> <a name=
      "hfy_002ddefault_002dface_002ddef" id=
      "hfy_002ddefault_002dface_002ddef"></a>

      <p>Fallback <code>defface</code> specification for the face
      <code>default</code>, used when <a href=
      "#hfy_002ddisplay_002dclass">hfy-display-class</a> has been
      set (the normal Htmlfontify way of extracting potentially
      non-current face information doesn&rsquo;t necessarily work
      for <code>default</code>).</p>

      <p>For example, I customize this to:</p>

      <div class="lisp">
        <pre class="lisp">
((t :background "black" :foreground "white" :family "misc-fixed"))
</pre>
      </div>
    </dd>

    <dt><code>hfy-init-kludge-hooks</code></dt>

    <dd>
      <a name="index-hfy_002dinit_002dkludge_002dhooks" id=
      "index-hfy_002dinit_002dkludge_002dhooks"></a> <a name=
      "hfy_002dinit_002dkludge_002dhooks" id=
      "hfy_002dinit_002dkludge_002dhooks"></a>

      <p>List of functions to call when starting htmlfontify-buffer
      to do any kludging necessary to get highlighting modes to
      behave as you want, even when not running under a window
      system.</p>
    </dd>

    <dt><code>hfy-shell-file-name</code></dt>

    <dd>
      <a name="index-hfy_002dshell_002dfile_002dname" id=
      "index-hfy_002dshell_002dfile_002dname"></a> <a name=
      "hfy_002dshell_002dfile_002dname" id=
      "hfy_002dshell_002dfile_002dname"></a>

      <p>Should be set to a Bourne compatible shell, which will be
      invoked for the more complex shell interactions needed by
      Htmlfontify. Currently this is only required/used when using
      GNU etags, see <a href=
      "#hfy_002detags_002dcmd_002dalist">hfy-etags-cmd-alist</a>
      for details.</p>
    </dd>

    <dt><code>hfy-optimizations</code></dt>

    <dd>
      <a name="index-hfy_002doptimizations" id=
      "index-hfy_002doptimizations"></a> <a name=
      "hfy_002doptimizations" id="hfy_002doptimizations"></a>

      <p>Optimizations to turn on. So far, the following have been
      implemented:</p>

      <dl compact="compact">
        <dt><samp>merge-adjacent-tags</samp></dt>

        <dd>
          <p>If two (or more) span tags are adjacent, identical and
          separated by nothing more than whitespace, they will be
          merged into one span.</p>
        </dd>

        <dt><samp>zap-comment-links</samp></dt>

        <dd>
          <p>Suppress hyperlinking of tags found in comments.</p>
        </dd>

        <dt><samp>zap-string-links</samp></dt>

        <dd>
          <p>Suppress hyperlinking of tags found in strings.</p>
        </dd>

        <dt><samp>div-wrapper</samp></dt>

        <dd>
          <p>Add &lsquo;<samp>&lt;div class="default"&gt;
          &lt;/div&gt;</samp>&rsquo; tags around the fontified
          body. (Some people like this because they cut and paste
          the html into a page with different colors than the
          fontified code.)</p>
        </dd>

        <dt><samp>keep-overlays</samp></dt>

        <dd>
          <p>Preserve overlay highlighting (cf. <code>ediff</code>
          or <code>goo-font-lock</code>) as well as basic faces.
          Can result in extremely verbose highlighting if there are
          many overlays (as is the case with
          <code>goo-font-lock</code>).</p>
        </dd>
      </dl>

      <p>And the following are planned but not yet available:</p>

      <dl compact="compact">
        <dt><samp>kill-context-leak</samp></dt>

        <dd>
          <p>Suppress hyperlinking between files highlighted by
          different modes.</p>
        </dd>
      </dl>

      <p>Note: like compiler optimizations, these optimize the
      <em>output</em> of the code, not the processing of the source
      itself, and are therefore likely to slow Htmlfontify down, at
      least a little. Except for skip-refontification, which can
      never slow you down, but may result in incomplete
      fontification.</p>
    </dd>

    <dt><code>hfy-src-doc-link-unstyle</code></dt>

    <dd>
      <a name="index-hfy_002dsrc_002ddoc_002dlink_002dunstyle" id=
      "index-hfy_002dsrc_002ddoc_002dlink_002dunstyle"></a>
      <a name="hfy_002dsrc_002ddoc_002dlink_002dunstyle" id=
      "hfy_002dsrc_002ddoc_002dlink_002dunstyle"></a>

      <p>Regex to remove from the &lsquo;<samp>&lt;style&gt;
      a</samp>&rsquo; variant of an Htmlfontify CSS class.</p>
    </dd>

    <dt><code>hfy-link-extn</code></dt>

    <dd>
      <a name="index-hfy_002dlink_002dextn" id=
      "index-hfy_002dlink_002dextn"></a> <a name=
      "hfy_002dlink_002dextn" id="hfy_002dlink_002dextn"></a>

      <p>File extension used for href links&mdash;useful where the
      Htmlfontify output files are going to be processed again,
      with a resulting change in file extension. If
      <code>nil</code>, then any code using this should fall back
      to <a href="#hfy_002dextn">hfy-extn</a>.</p>
    </dd>

    <dt><code>hfy-istext-command</code></dt>

    <dd>
      <a name="index-hfy_002distext_002dcommand" id=
      "index-hfy_002distext_002dcommand"></a> <a name=
      "hfy_002distext_002dcommand" id=
      "hfy_002distext_002dcommand"></a>

      <p>Command to run with the name of a file, to see whether it
      is a text file or not. The command should emit a string
      containing the word &lsquo;<samp>text</samp>&rsquo; if the
      file is a text file, and a string not containing
      &lsquo;<samp>text</samp>&rsquo; otherwise.</p>
    </dd>

    <dt><code>hfy-etags-cmd-alist</code></dt>

    <dd>
      <a name="index-hfy_002detags_002dcmd_002dalist" id=
      "index-hfy_002detags_002dcmd_002dalist"></a> <a name=
      "hfy_002detags_002dcmd_002dalist" id=
      "hfy_002detags_002dcmd_002dalist"></a>

      <p>An alist of possible shell commands that will generate
      etags output that Htmlfontify can use.
      &lsquo;<samp>%s</samp>&rsquo; will be replaced by <a href=
      "#hfy_002detags_002dbin">hfy-etags-bin</a>.</p>
    </dd>

    <dt><code>hfy-etags-bin</code></dt>

    <dd>
      <a name="index-hfy_002detags_002dbin" id=
      "index-hfy_002detags_002dbin"></a> <a name=
      "hfy_002detags_002dbin" id="hfy_002detags_002dbin"></a>

      <p>The location of the etags binary (we begin by assuming
      it&rsquo;s in your path).</p>

      <p>Note that if etags is not in your path, you will need to
      alter the shell commands in <a href=
      "#hfy_002detags_002dcmd_002dalist">hfy-etags-cmd-alist</a>.</p>

      <p>[As of version 0.17, this requirement has been removed: it
      should all just work(tm).]</p>
    </dd>

    <dt><code>hfy-etags-cmd</code></dt>

    <dd>
      <a name="index-hfy_002detags_002dcmd" id=
      "index-hfy_002detags_002dcmd"></a> <a name=
      "hfy_002detags_002dcmd" id="hfy_002detags_002dcmd"></a>

      <p>An etags shell command to run in the source directory to
      generate a tags file for the whole source tree from there on
      down. The command should emit the etags output on standard
      output.</p>

      <p>Two canned commands are provided&mdash;they drive
      Emacs&rsquo;s etags and exuberant-ctags&rsquo;s etags
      respectively.</p>
    </dd>

    <dt><code>hfy-etag-regex</code></dt>

    <dd>
      <a name="index-hfy_002detag_002dregex" id=
      "index-hfy_002detag_002dregex"></a> <a name=
      "hfy_002detag_002dregex" id="hfy_002detag_002dregex"></a>

      <p>Regex used to parse an etags entry: must have 3 subexps,
      corresponding, in order, to:</p>

      <ol>
        <li>The tag</li>

        <li>The line</li>

        <li>The character (point) at which the tag occurs</li>
      </ol>
    </dd>

    <dt><code>hfy-index-file</code></dt>

    <dd>
      <a name="index-hfy_002dindex_002dfile" id=
      "index-hfy_002dindex_002dfile"></a> <a name=
      "hfy_002dindex_002dfile" id="hfy_002dindex_002dfile"></a>

      <p>Name (sans extension) of the index file produced during
      fontification-and-hyperlinking.</p>
    </dd>

    <dt><code>hfy-instance-file</code></dt>

    <dd>
      <a name="index-hfy_002dinstance_002dfile" id=
      "index-hfy_002dinstance_002dfile"></a> <a name=
      "hfy_002dinstance_002dfile" id=
      "hfy_002dinstance_002dfile"></a>

      <p>Name (sans extension) of the tag usage index file produced
      during fontification-and-hyperlinking.</p>
    </dd>

    <dt><code>hfy-html-quote-map</code></dt>

    <dd>
      <a name="index-hfy_002dhtml_002dquote_002dmap" id=
      "index-hfy_002dhtml_002dquote_002dmap"></a> <a name=
      "hfy_002dhtml_002dquote_002dmap" id=
      "hfy_002dhtml_002dquote_002dmap"></a>

      <p>An alist of character -&gt; entity mappings used to make
      the text html-safe.</p>
    </dd>
  </dl>
  <hr />

  <div class="header">
    <p>Next: <a href="Requirements.html#Requirements" accesskey="n"
    rel="next">Requirements</a>, Previous: <a href=
    "Usage-_0026-Examples.html#Usage-_0026-Examples" accesskey="p"
    rel="prev">Usage &amp; Examples</a>, Up: <a href=
    "index.html#Top" accesskey="u" rel="up">Top</a> &nbsp;
    [<a href="index.html#SEC_Contents" title="Table of contents"
    rel="contents">Contents</a>][<a href="Index.html#Index" title=
    "Index" rel="index">Index</a>]</p>
  </div>
</body>
</html>
