<html lang="en">
<head>
<title>TRAMP User Manual</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="TRAMP User Manual">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="top" href="#Top">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
Copyright (C) 1999-2015 Free Software Foundation, Inc.

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.3 or any later version published by the Free Software
     Foundation; with no Invariant Sections, with the Front-Cover Texts
     being "A GNU Manual", and with the Back-Cover Texts as in (a)
     below.  A copy of the license is included in the section entitled
     "GNU Free Documentation License".

     (a) The FSF's Back-Cover Text is: "You have the freedom to copy
     and modify this GNU manual."
   -->
<meta http-equiv="Content-Style-Type" content="text/css">

<link rel="stylesheet" href="aquamacs.css" type="text/css" /></head>
<body>
<h1 class="settitle">TRAMP User Manual</h1>
   <div class="contents">
<h2>Table of Contents</h2>
<ul>
<li><a name="toc_Top" href="#Top"><span class="sc">tramp</span> version 2.2.13-pre User Manual</a>
<li><a name="toc_Overview" href="#Overview">1 An overview of <span class="sc">tramp</span></a>
<li><a name="toc_Obtaining-Tramp" href="#Obtaining-Tramp">2 Obtaining Tramp.</a>
<li><a name="toc_History" href="#History">3 History of <span class="sc">tramp</span></a>
<li><a name="toc_Configuration" href="#Configuration">4 Configuring <span class="sc">tramp</span> for use</a>
<ul>
<li><a href="#Connection-types">4.1 Types of connections made to remote hosts</a>
<li><a href="#Inline-methods">4.2 Inline methods</a>
<li><a href="#External-methods">4.3 External methods</a>
<li><a href="#GVFS-based-methods">4.4 GVFS based external methods</a>
<li><a href="#Gateway-methods">4.5 Gateway methods</a>
<li><a href="#Default-Method">4.6 Selecting a default method</a>
<ul>
<li><a href="#Default-Method">4.6.1 Which method is the right one for me?</a>
</li></ul>
<li><a href="#Default-User">4.7 Selecting a default user</a>
<li><a href="#Default-Host">4.8 Selecting a default host</a>
<li><a href="#Multi_002dhops">4.9 Connecting to a remote host using multiple hops</a>
<li><a href="#Customizing-Methods">4.10 Using Non-Standard Methods</a>
<li><a href="#Customizing-Completion">4.11 Selecting config files for user/host name completion</a>
<li><a href="#Password-handling">4.12 Reusing passwords for several connections</a>
<ul>
<li><a href="#Password-handling">4.12.1 Using an authentication file</a>
<li><a href="#Password-handling">4.12.2 Caching passwords</a>
</li></ul>
<li><a href="#Connection-caching">4.13 Reusing connection related information</a>
<li><a href="#Predefined-connection-information">4.14 Setting own connection related information</a>
<li><a href="#Remote-programs">4.15 How <span class="sc">tramp</span> finds and uses programs on the remote host</a>
<li><a href="#Remote-shell-setup">4.16 Remote shell setup hints</a>
<li><a href="#Android-shell-setup">4.17 Android shell setup hints</a>
<li><a href="#Auto_002dsave-and-Backup">4.18 Auto-save and Backup configuration</a>
<li><a href="#Windows-setup-hints">4.19 Issues with Cygwin ssh</a>
</li></ul>
<li><a name="toc_Usage" href="#Usage">5 Using <span class="sc">tramp</span></a>
<ul>
<li><a href="#File-name-Syntax">5.1 <span class="sc">tramp</span> file name conventions</a>
<li><a href="#File-name-completion">5.2 File name completion</a>
<li><a href="#Ad_002dhoc-multi_002dhops">5.3 Declaring multiple hops in the file name</a>
<li><a href="#Remote-processes">5.4 Integration with other Emacs packages</a>
<ul>
<li><a href="#Remote-processes">5.4.1 Running remote programs that create local X11 windows</a>
<li><a href="#Remote-processes">5.4.2 Running <code>shell</code> on a remote host</a>
<li><a href="#Remote-processes">5.4.3 Running <code>shell-command</code> on a remote host</a>
<li><a href="#Remote-processes">5.4.4 Running <code>eshell</code> on a remote host</a>
<li><a href="#Remote-processes">5.4.5 Running a debugger on a remote host</a>
<li><a href="#Remote-processes">5.4.6 Running remote processes on Windows hosts</a>
</li></ul>
<li><a href="#Cleanup-remote-connections">5.5 Cleanup remote connections</a>
</li></ul>
<li><a name="toc_Bug-Reports" href="#Bug-Reports">6 Reporting Bugs and Problems</a>
<li><a name="toc_Frequently-Asked-Questions" href="#Frequently-Asked-Questions">7 Frequently Asked Questions</a>
<li><a name="toc_Files-directories-and-localnames" href="#Files-directories-and-localnames">8 How file names, directories and localnames are mangled and managed.</a>
<ul>
<li><a href="#Localname-deconstruction">8.1 Breaking a localname into its components</a>
<li><a href="#External-packages">8.2 Integration with external Lisp packages</a>
<ul>
<li><a href="#External-packages">8.2.1 File name completion.</a>
<li><a href="#External-packages">8.2.2 File attributes cache.</a>
</li></ul>
</li></ul>
<li><a name="toc_Traces-and-Profiles" href="#Traces-and-Profiles">9 How to Customize Traces</a>
<li><a name="toc_Issues" href="#Issues">10 Debatable Issues and What Was Decided</a>
<li><a name="toc_GNU-Free-Documentation-License" href="#GNU-Free-Documentation-License">Appendix A GNU Free Documentation License</a>
<li><a name="toc_Function-Index" href="#Function-Index">Function Index</a>
<li><a name="toc_Variable-Index" href="#Variable-Index">Variable Index</a>
<li><a name="toc_Concept-Index" href="#Concept-Index">Concept Index</a>
</li></ul>
</div>



<div class="node">
<a name="Top"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Overview">Overview</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#dir">(dir)</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#dir">(dir)</a>

</div>

<h2 class="unnumbered"><span class="sc">tramp</span> version 2.2.13-pre User Manual</h2>

<p>This file documents <span class="sc">tramp</span> version 2.2.13-pre, a remote file
editing package for Emacs.

   <p><span class="sc">tramp</span> stands for &ldquo;Transparent Remote (file) Access, Multiple
Protocol&rdquo;.  This package provides remote file editing, similar to
Ange-FTP.

   <p>The difference is that Ange-FTP uses FTP to transfer
files between the local and the remote host, whereas <span class="sc">tramp</span> uses a
combination of <samp><span class="command">rsh</span></samp> and <samp><span class="command">rcp</span></samp> or other work-alike
programs, such as <samp><span class="command">ssh</span></samp>/<samp><span class="command">scp</span></samp>.

   <p>You can find the latest version of this document on the web at
<a href="http://www.gnu.org/software/tramp/">http://www.gnu.org/software/tramp/</a>.

<!-- Pointer to the other Emacs flavor is necessary only in case of -->
<!-- standalone installation. -->
   <p>The latest release of <span class="sc">tramp</span> is available for
<a href="ftp://ftp.gnu.org/gnu/tramp/">download</a>, or you may see
<a href="#Obtaining-Tramp">Obtaining Tramp</a> for more details, including the Git server
details.

   <p><span class="sc">tramp</span> also has a <a href="http://savannah.gnu.org/projects/tramp/">Savannah Project Page</a>.

   <p>There is a mailing list for <span class="sc">tramp</span>, available at
<a href="mailto:tramp-devel@gnu.org">tramp-devel@gnu.org</a>, and archived at
<a href="http://lists.gnu.org/archive/html/tramp-devel/">the <span class="sc">tramp</span> Mail Archive</a>. 
Older archives are located at
<a href="http://sourceforge.net/mailarchive/forum.php?forum=tramp-devel">SourceForge Mail Archive</a> and
<a href="http://www.mail-archive.com/emacs-rcp@ls6.cs.uni-dortmund.de/">The Mail Archive</a>. 
<!-- in HTML output, there's no new paragraph. -->
<br><br>

   <p>Copyright &copy; 1999&ndash;2015 Free Software Foundation, Inc.

   <blockquote>
Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with no
Invariant Sections, with the Front-Cover Texts being &ldquo;A GNU Manual&rdquo;,
and with the Back-Cover Texts as in (a) below.  A copy of the license
is included in the section entitled &ldquo;GNU Free Documentation License&rdquo;.

   <p>(a) The FSF's Back-Cover Text is: &ldquo;You have the freedom to
copy and modify this GNU manual.&rdquo;
</blockquote>

<ul class="menu">
<li><a accesskey="1" href="#Overview">Overview</a>:                     What <span class="sc">tramp</span> can and cannot do.

</li></ul>
<p>For the end user:

</p>
<ul class="menu">
<li><a accesskey="2" href="#Obtaining-Tramp">Obtaining Tramp</a>:              How to obtain <span class="sc">tramp</span>. 
<li><a accesskey="3" href="#History">History</a>:                      History of <span class="sc">tramp</span>. 
<li><a accesskey="4" href="#Configuration">Configuration</a>:                Configuring <span class="sc">tramp</span> for use. 
<li><a accesskey="5" href="#Usage">Usage</a>:                        An overview of the operation of <span class="sc">tramp</span>. 
<li><a accesskey="6" href="#Bug-Reports">Bug Reports</a>:                  Reporting Bugs and Problems. 
<li><a accesskey="7" href="#Frequently-Asked-Questions">Frequently Asked Questions</a>:   Questions and answers from the mailing list.

</li></ul>
<p>For the developer:

</p>
<ul class="menu">
<li><a accesskey="8" href="#Files-directories-and-localnames">Files directories and localnames</a>:   How file names, directories and localnames are mangled and managed. 
<li><a accesskey="9" href="#Traces-and-Profiles">Traces and Profiles</a>:          How to Customize Traces. 
<li><a href="#Issues">Issues</a>:                       Debatable Issues and What Was Decided.

<li><a href="#GNU-Free-Documentation-License">GNU Free Documentation License</a>:  The license for this documentation. 
<li><a href="#Function-Index">Function Index</a>:               <span class="sc">tramp</span> functions. 
<li><a href="#Variable-Index">Variable Index</a>:               User options and variables. 
<li><a href="#Concept-Index">Concept Index</a>:                An item for each concept.

</li></ul>
<p>--- The Detailed Node Listing ---

<p>Configuring <span class="sc">tramp</span> for use

</p>
<ul class="menu">
<li><a href="#Connection-types">Connection types</a>:             Types of connections made to remote hosts. 
<li><a href="#Inline-methods">Inline methods</a>:               Inline methods. 
<li><a href="#External-methods">External methods</a>:             External methods.

<li><a href="#GVFS-based-methods">GVFS based methods</a>:           GVFS based external methods.

<li><a href="#Gateway-methods">Gateway methods</a>:              Gateway methods. 
<li><a href="#Default-Method">Default Method</a>:               Selecting a default method. 
<li><a href="#Default-User">Default User</a>:                 Selecting a default user. 
<li><a href="#Default-Host">Default Host</a>:                 Selecting a default host. 
<li><a href="#Multi_002dhops">Multi-hops</a>:                   Connecting to a remote host using multiple hops. 
<li><a href="#Customizing-Methods">Customizing Methods</a>:          Using Non-Standard Methods. 
<li><a href="#Customizing-Completion">Customizing Completion</a>:       Selecting config files for user/host name completion. 
<li><a href="#Password-handling">Password handling</a>:            Reusing passwords for several connections. 
<li><a href="#Connection-caching">Connection caching</a>:           Reusing connection related information. 
<li><a href="#Predefined-connection-information">Predefined connection information</a>
                                Setting own connection related information. 
<li><a href="#Remote-programs">Remote programs</a>:              How <span class="sc">tramp</span> finds and uses programs on the remote host. 
<li><a href="#Remote-shell-setup">Remote shell setup</a>:           Remote shell setup hints. 
<li><a href="#Android-shell-setup">Android shell setup</a>:          Android shell setup hints. 
<li><a href="#Auto_002dsave-and-Backup">Auto-save and Backup</a>:         Auto-save and Backup. 
<li><a href="#Windows-setup-hints">Windows setup hints</a>:          Issues with Cygwin ssh.

</li></ul>
<p>Using <span class="sc">tramp</span>

</p>
<ul class="menu">
<li><a href="#File-name-Syntax">File name Syntax</a>:             <span class="sc">tramp</span> file name conventions. 
<li><a href="#File-name-completion">File name completion</a>:         File name completion. 
<li><a href="#Ad_002dhoc-multi_002dhops">Ad-hoc multi-hops</a>:            Declaring multiple hops in the file name. 
<li><a href="#Remote-processes">Remote processes</a>:             Integration with other Emacs packages. 
<li><a href="#Cleanup-remote-connections">Cleanup remote connections</a>:   Cleanup remote connections.

</li></ul>
<p>How file names, directories and localnames are mangled and managed

</p>
<ul class="menu">
<li><a href="#Localname-deconstruction">Localname deconstruction</a>:     Breaking a localname into its components.

<li><a href="#External-packages">External packages</a>:            Integration with external Lisp packages.

   </ul>

<div class="node">
<a name="Overview"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Obtaining-Tramp">Obtaining Tramp</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Top">Top</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">1 An overview of <span class="sc">tramp</span></h2>

<p><a name="index-overview-1"></a>
After the installation of <span class="sc">tramp</span> into your Emacs, you
will be able to access files on remote hosts as though they were
local.  Access to the remote file system for editing files, version
control, and <code>dired</code> are transparently enabled.

   <p>Your access to the remote host can be with the <samp><span class="command">rsh</span></samp>,
<samp><span class="command">rlogin</span></samp>, <samp><span class="command">telnet</span></samp> programs or with any similar
connection method.  This connection must pass <acronym>ASCII</acronym>
successfully to be usable but need not be 8-bit clean.

   <p>The package provides support for <samp><span class="command">ssh</span></samp> connections out of the
box, one of the more common uses of the package.  This allows
relatively secure access to hosts, especially if <samp><span class="command">ftp</span></samp>
access is disabled.

   <p>Under Windows, <span class="sc">tramp</span> is integrated with the PuTTY package,
using the <samp><span class="command">plink</span></samp> program.

   <p>The majority of activity carried out by <span class="sc">tramp</span> requires only that
the remote login is possible and is carried out at the terminal.  In
order to access remote files <span class="sc">tramp</span> needs to transfer their content
to the local host temporarily.

   <p><span class="sc">tramp</span> can transfer files between the hosts in a variety of ways. 
The details are easy to select, depending on your needs and the
hosts in question.

   <p>The fastest transfer methods for large files rely on a remote file
transfer package such as <samp><span class="command">rcp</span></samp>, <samp><span class="command">scp</span></samp>, <samp><span class="command">rsync</span></samp>
or (under Windows) <samp><span class="command">pscp</span></samp>.

   <p>If the remote copy methods are not suitable for you, <span class="sc">tramp</span> also
supports the use of encoded transfers directly through the shell. 
This requires that the <samp><span class="command">mimencode</span></samp> or <samp><span class="command">uuencode</span></samp> tools
are available on the remote host.  These methods are generally
faster for small files.

   <p><span class="sc">tramp</span> is still under active development and any problems you encounter,
trivial or major, should be reported to the <span class="sc">tramp</span> developers. 
See <a href="#Bug-Reports">Bug Reports</a>.

<h5 class="subsubheading">Behind the scenes</h5>

<p><a name="index-behind-the-scenes-2"></a><a name="index-details-of-operation-3"></a><a name="index-how-it-works-4"></a>
This section tries to explain what goes on behind the scenes when you
access a remote file through <span class="sc">tramp</span>.

   <p>Suppose you type <kbd>C-x C-f</kbd> and enter part of an <span class="sc">tramp</span> file name,
then hit <kbd>&lt;TAB&gt;</kbd> for completion.  Suppose further that this is
the first time that <span class="sc">tramp</span> is invoked for the host in question.  Here's
what happens:

     <ul>
<li><span class="sc">tramp</span> discovers that it needs a connection to the host.  So it
invokes &lsquo;<samp><span class="samp">telnet </span><var>host</var></samp>&rsquo; or &lsquo;<samp><span class="samp">rsh </span><var>host</var><span class="samp"> -l
</span><var>user</var></samp>&rsquo; or a similar tool to connect to the remote host. 
Communication with this process happens through an
Emacs buffer, that is, the output from the remote end
goes into a buffer.

     <li>The remote host may prompt for a login name (for <samp><span class="command">telnet</span></samp>). 
The login name is given in the file name, so <span class="sc">tramp</span> sends the
login name and a newline.

     <li>The remote host may prompt for a password or pass phrase (for
<samp><span class="command">rsh</span></samp> or for <samp><span class="command">telnet</span></samp> after sending the login name). 
<span class="sc">tramp</span> displays the prompt in the minibuffer, asking you for the
password or pass phrase.

     <p>You enter the password or pass phrase.  <span class="sc">tramp</span> sends it to the remote
host, followed by a newline.

     <li><span class="sc">tramp</span> now waits for the shell prompt or for a message that the login
failed.

     <p>If <span class="sc">tramp</span> sees neither of them after a certain period of time
(a minute, say), then it issues an error message saying that it
couldn't find the remote shell prompt and shows you what the remote
host has sent.

     <p>If <span class="sc">tramp</span> sees a &lsquo;<samp><span class="samp">login failed</span></samp>&rsquo; message, it tells you so,
aborts the login attempt and allows you to try again.

     <li>Suppose that the login was successful and <span class="sc">tramp</span> sees the shell prompt
from the remote host.  Now <span class="sc">tramp</span> invokes <samp><span class="command">/bin/sh</span></samp> because
Bourne shells and C shells have different command
syntaxes.<a rel="footnote" href="#fn-1" name="fnd-1"><sup>1</sup></a>

     <p>After the Bourne shell has come up, <span class="sc">tramp</span> sends a few commands to
ensure a good working environment.  It turns off echoing, it sets the
shell prompt, and a few other things.

     <li>Now the remote shell is up and it good working order.  Remember, what
was supposed to happen is that <span class="sc">tramp</span> tries to find out what files exist
on the remote host so that it can do file name completion.

     <p>So, <span class="sc">tramp</span> basically issues <samp><span class="command">cd</span></samp> and <samp><span class="command">ls</span></samp> commands and
also sometimes <samp><span class="command">echo</span></samp> with globbing.  Another command that is
often used is <samp><span class="command">test</span></samp> to find out whether a file is writable or a
directory or the like.  The output of each command is parsed for the
necessary operation.

     <li>Suppose you are finished with file name completion, have entered <kbd>C-x
C-f</kbd>, a full file name and hit <kbd>&lt;RET&gt;</kbd>.  Now comes the time to
transfer the file contents from the remote host to the local host so
that you can edit them.

     <p>See above for an explanation of how <span class="sc">tramp</span> transfers the file contents.

     <p>For inline transfers, <span class="sc">tramp</span> issues a command like &lsquo;<samp><span class="samp">mimencode -b
/path/to/remote/file</span></samp>&rsquo;, waits until the output has accumulated in the
buffer that's used for communication, then decodes that output to
produce the file contents.

     <p>For external transfers, <span class="sc">tramp</span> issues a command like the
following:
     <pre class="example">          rcp user@host:/path/to/remote/file /tmp/tramp.4711
</pre>
     <p>It then reads the local temporary file <samp><span class="file">/tmp/tramp.4711</span></samp> into a
buffer and deletes the temporary file.

     <li>You now edit the buffer contents, blithely unaware of what has happened
behind the scenes.  (Unless you have read this section, that is.)  When
you are finished, you type <kbd>C-x C-s</kbd> to save the buffer.

     <li>Again, <span class="sc">tramp</span> transfers the file contents to the remote host
either inline or external.  This is the reverse of what happens when
reading the file. 
</ul>

   <p>I hope this has provided you with a basic overview of what happens
behind the scenes when you open a file with <span class="sc">tramp</span>.

<!-- For the end user -->
<div class="node">
<a name="Obtaining-Tramp"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#History">History</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Overview">Overview</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">2 Obtaining Tramp.</h2>

<p><a name="index-obtaining-Tramp-5"></a>
<span class="sc">tramp</span> is freely available on the Internet and the latest
release may be downloaded from <a href="ftp://ftp.gnu.org/gnu/tramp/">ftp://ftp.gnu.org/gnu/tramp/</a>. 
This release includes the full documentation and code for
<span class="sc">tramp</span>, suitable for installation.  But Emacs (22 or later)
includes <span class="sc">tramp</span> already, and there is a <span class="sc">tramp</span> package
for XEmacs, as well.  So maybe it is easier to just use those.  But if
you want the bleeding edge, read on<small class="dots">...</small>

   <p>For the especially brave, <span class="sc">tramp</span> is available from Git.  The Git
version is the latest version of the code and may contain incomplete
features or new issues.  Use these versions at your own risk.

   <p>Instructions for obtaining the latest development version of <span class="sc">tramp</span>
from Git can be found by going to the Savannah project page at the
following URL and then clicking on the Git link in the navigation bar
at the top.

<p class="noindent"><a href="http://savannah.gnu.org/projects/tramp/">http://savannah.gnu.org/projects/tramp/</a>

<p class="noindent">Or follow the example session below:

<pre class="example">     ] <strong>cd ~/emacs</strong>
     ] <strong>git clone git://git.savannah.gnu.org/tramp.git</strong>
</pre>
   <p class="noindent">If you reside behind a firewall, you could use

<pre class="example">     ] <strong>git config --global http.proxy http://user:pwd@proxy.server.com:8080</strong>
     ] <strong>git clone http://git.savannah.gnu.org/r/tramp.git</strong>
</pre>
   <p class="noindent">Tramp developers use instead

<pre class="example">     ] <strong>git clone login@git.sv.gnu.org:/srv/git/tramp.git</strong>
</pre>
   <p class="noindent">You should now have a directory <samp><span class="file">~/emacs/tramp</span></samp>
containing the latest version of <span class="sc">tramp</span>.  You can fetch the latest
updates from the repository by issuing the command:

<pre class="example">     ] <strong>cd ~/emacs/tramp</strong>
     ] <strong>git pull</strong>
</pre>
   <p class="noindent">Once you've got updated files from the Git repository, you need to run
<samp><span class="command">autoconf</span></samp> in order to get an up-to-date <samp><span class="file">configure</span></samp>
script:

<pre class="example">     ] <strong>cd ~/emacs/tramp</strong>
     ] <strong>autoconf</strong>
</pre>
   <div class="node">
<a name="History"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Configuration">Configuration</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Obtaining-Tramp">Obtaining Tramp</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">3 History of <span class="sc">tramp</span></h2>

<p><a name="index-history-6"></a><a name="index-development-history-7"></a>
Development was started end of November 1998.  The package was called
<samp><span class="file">rssh.el</span></samp>, back then.  It only provided one method to access a
file, using <samp><span class="command">ssh</span></samp> to log in to a remote host and using
<samp><span class="command">scp</span></samp> to transfer the file contents.  After a while, the name
was changed to <samp><span class="file">rcp.el</span></samp>, and now it's <span class="sc">tramp</span>.  Along the way,
many more methods for getting a remote shell and for transferring the
file contents were added.  Support for VC was added.

   <p>After that, there were added the multi-hop methods in April 2000 and
the unification of <span class="sc">tramp</span> and Ange-FTP file names in July 2002. 
In July 2004, multi-hop methods have been replaced by proxy hosts. 
Running commands on remote hosts was introduced in December 2005. 
Support of gateways exists since April 2007. 
GVFS integration started in February 2009. 
Remote commands on Windows hosts are available since September 2011. 
Ad-hoc multi-hop methods (with a changed syntax) have been reenabled
in November 2011.  In November 2012, Juergen Hoetzel's
<samp><span class="file">tramp-adb.el</span></samp> has been added.

   <p>In December 2001, <span class="sc">tramp</span> has been added to the XEmacs package
repository.  Being part of the Emacs repository happened in June 2002,
the first release including <span class="sc">tramp</span> was Emacs 22.1.

   <p><span class="sc">tramp</span> is also a Debian GNU/Linux package since February 2001.

<!-- Installation chapter is necessary only in case of standalone -->
<!-- installation.  Text taken from trampinst.texi. -->
<div class="node">
<a name="Configuration"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Usage">Usage</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#History">History</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">4 Configuring <span class="sc">tramp</span> for use</h2>

<p><a name="index-configuration-8"></a>
<a name="index-default-configuration-9"></a><span class="sc">tramp</span> is (normally) fully functional when it is initially
installed.  It is initially configured to use the <samp><span class="command">scp</span></samp>
program to connect to the remote host.  So in the easiest case, you
just type <kbd>C-x C-f</kbd> and then enter the file name
<samp><span class="file">/user<!-- /@w -->@host:/path/to.file</span></samp>.

   <p>On some hosts, there are problems with opening a connection.  These are
related to the behavior of the remote shell.  See See <a href="#Remote-shell-setup">Remote shell setup</a>, for details on this.

   <p>If you do not wish to use these commands to connect to the remote
host, you should change the default connection and transfer method
that <span class="sc">tramp</span> uses.  There are several different methods that <span class="sc">tramp</span>
can use to connect to remote hosts and transfer files
(see <a href="#Connection-types">Connection types</a>).

   <p>If you don't know which method is right for you, see See <a href="#Default-Method">Default Method</a>.

   <p><strong>Note</strong> that the following descriptions reference the setting of
user options or variables, not all of which are autoloaded by
Emacs.  All examples assume that you have loaded
<span class="sc">tramp</span> first:

<pre class="lisp">     (require 'tramp)
</pre>
   <ul class="menu">
<li><a accesskey="1" href="#Connection-types">Connection types</a>:             Types of connections made to remote hosts. 
<li><a accesskey="2" href="#Inline-methods">Inline methods</a>:               Inline methods. 
<li><a accesskey="3" href="#External-methods">External methods</a>:             External methods.

<li><a accesskey="4" href="#GVFS-based-methods">GVFS based methods</a>:           GVFS based external methods.

<li><a accesskey="5" href="#Gateway-methods">Gateway methods</a>:              Gateway methods. 
<li><a accesskey="6" href="#Default-Method">Default Method</a>:               Selecting a default method. 
                                  Here we also try to help those who
                                  don't have the foggiest which method
                                  is right for them. 
<li><a accesskey="7" href="#Default-User">Default User</a>:                 Selecting a default user. 
<li><a accesskey="8" href="#Default-Host">Default Host</a>:                 Selecting a default host. 
<li><a accesskey="9" href="#Multi_002dhops">Multi-hops</a>:                   Connecting to a remote host using multiple hops. 
<li><a href="#Customizing-Methods">Customizing Methods</a>:          Using Non-Standard Methods. 
<li><a href="#Customizing-Completion">Customizing Completion</a>:       Selecting config files for user/host name completion. 
<li><a href="#Password-handling">Password handling</a>:            Reusing passwords for several connections. 
<li><a href="#Connection-caching">Connection caching</a>:           Reusing connection related information. 
<li><a href="#Predefined-connection-information">Predefined connection information</a>
                                Setting own connection related information. 
<li><a href="#Remote-programs">Remote programs</a>:              How <span class="sc">tramp</span> finds and uses programs on the remote host. 
<li><a href="#Remote-shell-setup">Remote shell setup</a>:           Remote shell setup hints. 
<li><a href="#Android-shell-setup">Android shell setup</a>:          Android shell setup hints. 
<li><a href="#Auto_002dsave-and-Backup">Auto-save and Backup</a>:         Auto-save and Backup. 
<li><a href="#Windows-setup-hints">Windows setup hints</a>:          Issues with Cygwin ssh. 
</ul>

<div class="node">
<a name="Connection-types"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Inline-methods">Inline methods</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Configuration">Configuration</a>

</div>

<h3 class="section">4.1 Types of connections made to remote hosts</h3>

<p><a name="index-connection-types_002c-overview-10"></a>
There are two basic types of transfer methods, each with its own
advantages and limitations.  Both types of connection make use of a
remote shell access program such as <samp><span class="command">rsh</span></samp>, <samp><span class="command">ssh</span></samp> or
<samp><span class="command">telnet</span></samp> to connect to the remote host.

   <p>This connection is used to perform many of the operations that <span class="sc">tramp</span>
requires to make the remote file system transparently accessible from
the local host.  It is only when visiting files that the methods
differ.

   <p><a name="index-inline-methods-11"></a><a name="index-external-methods-12"></a><a name="index-methods_002c-inline-13"></a><a name="index-methods_002c-external-14"></a>Loading or saving a remote file requires that the content of the file
be transferred between the two hosts.  The content of the file can
be transferred using one of two methods: the <dfn>inline method</dfn> over
the same connection used to log in to the remote host, or the
<dfn>external method</dfn> through another connection using a remote copy
program such as <samp><span class="command">rcp</span></samp>, <samp><span class="command">scp</span></samp> or <samp><span class="command">rsync</span></samp>.

   <p>The performance of the external methods is generally better than that
of the inline methods, at least for large files.  This is caused by
the need to encode and decode the data when transferring inline.

   <p>The one exception to this rule are the <samp><span class="command">scp</span></samp> based transfer
methods.  While these methods do see better performance when actually
transferring files, the overhead of the cryptographic negotiation at
startup may drown out the improvement in file transfer times.

   <p>External methods should be configured such a way that they don't
require a password (with <samp><span class="command">ssh-agent</span></samp>, or such alike).  Modern
<samp><span class="command">scp</span></samp> implementations offer options to reuse existing
<samp><span class="command">ssh</span></samp> connections, which will be enabled by default if
available.  If it isn't possible, you should consider <a href="#Password-handling">Password handling</a>, otherwise you will be prompted for a password every copy
action.

<div class="node">
<a name="Inline-methods"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#External-methods">External methods</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Connection-types">Connection types</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Configuration">Configuration</a>

</div>

<h3 class="section">4.2 Inline methods</h3>

<p><a name="index-inline-methods-15"></a><a name="index-methods_002c-inline-16"></a>
The inline methods in <span class="sc">tramp</span> are quite powerful and can work in
situations where you cannot use an external transfer program to
connect.  There are also strange inline methods which allow you to
transfer files between <em>user identities</em> rather than hosts, see
below.

   <p>These methods depend on the existence of a suitable encoding and
decoding command on remote host.  Locally, <span class="sc">tramp</span> may be able to
use features of Emacs to decode and encode the files or
it may require access to external commands to perform that task.

   <p><a name="index-uuencode-17"></a><a name="index-mimencode-18"></a><a name="index-base_002d64-encoding-19"></a><span class="sc">tramp</span> checks the availability and usability of commands like
<samp><span class="command">mimencode</span></samp> (part of the <samp><span class="command">metamail</span></samp> package) or
<samp><span class="command">uuencode</span></samp> on the remote host.  The first reliable command
will be used.  The search path can be customized, see <a href="#Remote-programs">Remote programs</a>.

   <p>If both commands aren't available on the remote host, <span class="sc">tramp</span>
transfers a small piece of Perl code to the remote host, and tries to
apply it for encoding and decoding.

   <p>The variable <var>tramp-inline-compress-start-size</var> controls, whether
a file shall be compressed before encoding.  This could increase
transfer speed for large text files.

     <dl>
<dt><samp><span class="option">rsh</span></samp><dd><a name="index-method-rsh-20"></a><a name="index-rsh-method-21"></a>
Connect to the remote host with <samp><span class="command">rsh</span></samp>.  Due to the unsecure
connection it is recommended for very local host topology only.

     <p>On operating systems which provide the command <samp><span class="command">remsh</span></samp> instead
of <samp><span class="command">rsh</span></samp>, you can use the method <samp><span class="option">remsh</span></samp>.  This is true
for HP-UX or Cray UNICOS, for example.

     <br><dt><samp><span class="option">ssh</span></samp><dd><a name="index-method-ssh-22"></a><a name="index-ssh-method-23"></a>
Connect to the remote host with <samp><span class="command">ssh</span></samp>.  This is identical to
the previous option except that the <samp><span class="command">ssh</span></samp> package is used,
making the connection more secure.

     <p>All the methods based on <samp><span class="command">ssh</span></samp> have an additional feature: you
can specify a host name which looks like <samp><span class="file">host#42</span></samp> (the real host
name, then a hash sign, then a port number).  This means to connect to
the given host but to also pass <code>-p 42</code> as arguments to the
<samp><span class="command">ssh</span></samp> command.

     <br><dt><samp><span class="option">telnet</span></samp><dd><a name="index-method-telnet-24"></a><a name="index-telnet-method-25"></a>
Connect to the remote host with <samp><span class="command">telnet</span></samp>.  This is as unsecure
as the <samp><span class="option">rsh</span></samp> method.

     <br><dt><samp><span class="option">su</span></samp><dd><a name="index-method-su-26"></a><a name="index-su-method-27"></a>
This method does not connect to a remote host at all, rather it uses
the <samp><span class="command">su</span></samp> program to allow you to edit files as another user. 
That means, the specified host name in the file name must be either
&lsquo;<samp><span class="samp">localhost</span></samp>&rsquo; or the host name as returned by the function
<samp><span class="command">(system-name)</span></samp>.  For an exception of this rule see
<a href="#Multi_002dhops">Multi-hops</a>.

     <br><dt><samp><span class="option">sudo</span></samp><dd><a name="index-method-sudo-28"></a><a name="index-sudo-method-29"></a>
This is similar to the <samp><span class="option">su</span></samp> method, but it uses <samp><span class="command">sudo</span></samp>
rather than <samp><span class="command">su</span></samp> to become a different user.

     <p>Note that <samp><span class="command">sudo</span></samp> must be configured to allow you to start a
shell as the user.  It would be nice if it was sufficient if
<samp><span class="command">ls</span></samp> and <samp><span class="command">mimencode</span></samp> were allowed, but that is not
easy to implement, so I haven't got around to it, yet.

     <br><dt><samp><span class="option">sshx</span></samp><dd><a name="index-method-sshx-30"></a><a name="index-sshx-method-31"></a>
As you would expect, this is similar to <samp><span class="option">ssh</span></samp>, only a little
different.  Whereas <samp><span class="option">ssh</span></samp> opens a normal interactive shell on
the remote host, this option uses &lsquo;<samp><span class="samp">ssh -t -t </span><var>host</var><span class="samp"> -l
</span><var>user</var><span class="samp"> /bin/sh</span></samp>&rsquo; to open a connection.  This is useful for users
where the normal login shell is set up to ask them a number of
questions when logging in.  This procedure avoids these questions, and
just gives <span class="sc">tramp</span> a more-or-less &ldquo;standard&rdquo; login shell to work
with.

     <p>Note that this procedure does not eliminate questions asked by
<samp><span class="command">ssh</span></samp> itself.  For example, <samp><span class="command">ssh</span></samp> might ask &ldquo;Are you
sure you want to continue connecting?&rdquo; if the host key of the remote
host is not known.  <span class="sc">tramp</span> does not know how to deal with such a
question (yet), therefore you will need to make sure that you can log
in without such questions.

     <p>This is also useful for Windows users where <samp><span class="command">ssh</span></samp>, when
invoked from an Emacs buffer, tells them that it is not
allocating a pseudo tty.  When this happens, the login shell is wont
to not print any shell prompt, which confuses <span class="sc">tramp</span> mightily.

     <p>This supports the &lsquo;<samp><span class="samp">-p</span></samp>&rsquo; argument.

     <br><dt><samp><span class="option">krlogin</span></samp><dd><a name="index-method-krlogin-32"></a><a name="index-krlogin-method-33"></a><a name="index-Kerberos-_0028with-krlogin-method_0029-34"></a>
This method is also similar to <samp><span class="option">ssh</span></samp>.  It only uses the
<samp><span class="command">krlogin -x</span></samp> command to log in to the remote host.

     <br><dt><samp><span class="option">ksu</span></samp><dd><a name="index-method-ksu-35"></a><a name="index-ksu-method-36"></a><a name="index-Kerberos-_0028with-ksu-method_0029-37"></a>
This is another method from the Kerberos suite.  It behaves like <samp><span class="option">su</span></samp>.

     <br><dt><samp><span class="option">plink</span></samp><dd><a name="index-method-plink-38"></a><a name="index-plink-method-39"></a>
This method is mostly interesting for Windows users using the PuTTY
implementation of SSH.  It uses &lsquo;<samp><span class="samp">plink -ssh</span></samp>&rsquo; to log in to the
remote host.

     <p>With a recent PuTTY, it is recommended to check the &lsquo;<samp><span class="samp">Share SSH
connections if possible</span></samp>&rsquo; control for that session.

     <p>This method supports the &lsquo;<samp><span class="samp">-P</span></samp>&rsquo; argument.

     <br><dt><samp><span class="option">plinkx</span></samp><dd><a name="index-method-plinkx-40"></a><a name="index-plinkx-method-41"></a>
Another method using PuTTY on Windows.  Instead of host names, it
expects PuTTY session names, calling &lsquo;<samp><span class="samp">plink -load </span><var>session</var><span class="samp">
-t</span></samp>&rsquo;.  User names and port numbers must be defined in the session.

     <p>With a recent PuTTY, it is recommended to check the &lsquo;<samp><span class="samp">Share SSH
connections if possible</span></samp>&rsquo; control for that session.

   </dl>

<div class="node">
<a name="External-methods"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#GVFS-based-methods">GVFS based methods</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Inline-methods">Inline methods</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Configuration">Configuration</a>

</div>

<h3 class="section">4.3 External methods</h3>

<p><a name="index-methods_002c-external-42"></a><a name="index-external-methods-43"></a>
The external methods operate through multiple channels, using the
remote shell connection for many actions while delegating file
transfers to an external transfer utility.

   <p>This saves the overhead of encoding and decoding that multiplexing the
transfer through the one connection has with the inline methods.

   <p>Since external methods need their own overhead opening a new channel,
all files which are smaller than <var>tramp-copy-size-limit</var> are still
transferred with the corresponding inline method.  It should provide a
fair trade-off between both approaches.

     <dl>
<dt><samp><span class="option">rcp</span></samp>&mdash;<samp><span class="command">rsh</span></samp> and <samp><span class="command">rcp</span></samp><dd><a name="index-method-rcp-44"></a><a name="index-rcp-method-45"></a><a name="index-rcp-_0028with-rcp-method_0029-46"></a><a name="index-rsh-_0028with-rcp-method_0029-47"></a>
This method uses the <samp><span class="command">rsh</span></samp> and <samp><span class="command">rcp</span></samp> commands to connect
to the remote host and transfer files.  This is probably the fastest
connection method available.

     <p>The alternative method <samp><span class="option">remcp</span></samp> uses the <samp><span class="command">remsh</span></samp> and
<samp><span class="command">rcp</span></samp> commands.  It should be applied on hosts where
<samp><span class="command">remsh</span></samp> is used instead of <samp><span class="command">rsh</span></samp>.

     <br><dt><samp><span class="option">scp</span></samp>&mdash;<samp><span class="command">ssh</span></samp> and <samp><span class="command">scp</span></samp><dd><a name="index-method-scp-48"></a><a name="index-scp-method-49"></a><a name="index-scp-_0028with-scp-method_0029-50"></a><a name="index-ssh-_0028with-scp-method_0029-51"></a>
Using <samp><span class="command">ssh</span></samp> to connect to the remote host and <samp><span class="command">scp</span></samp> to
transfer files between the hosts is the best method for securely
connecting to a remote host and accessing files.

     <p>The performance of this option is also quite good.  It may be slower than
the inline methods when you often open and close small files however. 
The cost of the cryptographic handshake at the start of an <samp><span class="command">scp</span></samp>
session can begin to absorb the advantage that the lack of encoding and
decoding presents.

     <p>All the <samp><span class="command">ssh</span></samp> based methods support the &lsquo;<samp><span class="samp">-p</span></samp>&rsquo; feature
where you can specify a port number to connect to in the host name. 
For example, the host name <samp><span class="file">host#42</span></samp> tells <span class="sc">tramp</span> to
specify &lsquo;<samp><span class="samp">-p 42</span></samp>&rsquo; in the argument list for <samp><span class="command">ssh</span></samp>, and to
specify &lsquo;<samp><span class="samp">-P 42</span></samp>&rsquo; in the argument list for <samp><span class="command">scp</span></samp>.

     <br><dt><samp><span class="option">rsync</span></samp>&mdash;<samp><span class="command">ssh</span></samp> and <samp><span class="command">rsync</span></samp><dd><a name="index-method-rsync-52"></a><a name="index-rsync-method-53"></a><a name="index-rsync-_0028with-rsync-method_0029-54"></a><a name="index-ssh-_0028with-rsync-method_0029-55"></a>
Using the <samp><span class="command">ssh</span></samp> command to connect securely to the remote
host and the <samp><span class="command">rsync</span></samp> command to transfer files is almost
identical to the <samp><span class="option">scp</span></samp> method.

     <p>While <samp><span class="command">rsync</span></samp> performs much better than <samp><span class="command">scp</span></samp> when
transferring files that exist on both hosts, this advantage is lost if
the file exists only on one side of the connection.  A file can exists
on both the remote and local host, when you copy a file from/to a
remote host.  When you just open a file from the remote host (or write
a file there), a temporary file on the local side is kept as long as
the corresponding buffer, visiting this file, is alive.

     <p>This method supports the &lsquo;<samp><span class="samp">-p</span></samp>&rsquo; argument.

     <br><dt><samp><span class="option">scpx</span></samp>&mdash;<samp><span class="command">ssh</span></samp> and <samp><span class="command">scp</span></samp><dd><a name="index-method-scpx-56"></a><a name="index-scpx-method-57"></a><a name="index-scp-_0028with-scpx-method_0029-58"></a><a name="index-ssh-_0028with-scpx-method_0029-59"></a>
As you would expect, this is similar to <samp><span class="option">scp</span></samp>, only a little
different.  Whereas <samp><span class="option">scp</span></samp> opens a normal interactive shell on
the remote host, this option uses &lsquo;<samp><span class="samp">ssh -t -t </span><var>host</var><span class="samp"> -l
</span><var>user</var><span class="samp"> /bin/sh</span></samp>&rsquo; to open a connection.  This is useful for users
where the normal login shell is set up to ask them a number of
questions when logging in.  This procedure avoids these questions, and
just gives <span class="sc">tramp</span> a more-or-less &ldquo;standard&rdquo; login shell to work
with.

     <p>This is also useful for Windows users where <samp><span class="command">ssh</span></samp>, when
invoked from an Emacs buffer, tells them that it is not
allocating a pseudo tty.  When this happens, the login shell is wont
to not print any shell prompt, which confuses <span class="sc">tramp</span> mightily.

     <p>This method supports the &lsquo;<samp><span class="samp">-p</span></samp>&rsquo; argument.

     <br><dt><samp><span class="option">pscp</span></samp>&mdash;<samp><span class="command">plink</span></samp> and <samp><span class="command">pscp</span></samp><br><dt><samp><span class="option">psftp</span></samp>&mdash;<samp><span class="command">plink</span></samp> and <samp><span class="command">psftp</span></samp><dd><a name="index-method-pscp-60"></a><a name="index-pscp-method-61"></a><a name="index-pscp-_0028with-pscp-method_0029-62"></a><a name="index-plink-_0028with-pscp-method_0029-63"></a><a name="index-PuTTY-_0028with-pscp-method_0029-64"></a><a name="index-method-psftp-65"></a><a name="index-psftp-method-66"></a><a name="index-pscp-_0028with-psftp-method_0029-67"></a><a name="index-plink-_0028with-psftp-method_0029-68"></a><a name="index-PuTTY-_0028with-psftp-method_0029-69"></a>
These methods are similar to <samp><span class="option">scp</span></samp> or <samp><span class="option">sftp</span></samp>, but they
use the <samp><span class="command">plink</span></samp> command to connect to the remote host, and
they use <samp><span class="command">pscp</span></samp> or <samp><span class="command">psftp</span></samp> for transferring the files. 
These programs are part of PuTTY, an SSH implementation for Windows.

     <p>With a recent PuTTY, it is recommended to configure the &lsquo;<samp><span class="samp">Share
SSH connections if possible</span></samp>&rsquo; control for that session.

     <p>These methods support the &lsquo;<samp><span class="samp">-P</span></samp>&rsquo; argument.

     <br><dt><samp><span class="option">fcp</span></samp>&mdash;<samp><span class="command">fsh</span></samp> and <samp><span class="command">fcp</span></samp><dd><a name="index-method-fcp-70"></a><a name="index-fcp-method-71"></a><a name="index-fsh-_0028with-fcp-method_0029-72"></a><a name="index-fcp-_0028with-fcp-method_0029-73"></a>
This method is similar to <samp><span class="option">scp</span></samp>, but it uses the <samp><span class="command">fsh</span></samp>
command to connect to the remote host, and it uses <samp><span class="command">fcp</span></samp> for
transferring the files.  <samp><span class="command">fsh/fcp</span></samp> are a front-end for
<samp><span class="command">ssh</span></samp> which allow for reusing the same <samp><span class="command">ssh</span></samp> session
for submitting several commands.  This avoids the startup overhead of
<samp><span class="command">scp</span></samp> (which has to establish a secure connection whenever it
is called).  Note, however, that you can also use one of the inline
methods to achieve a similar effect.

     <p>This method uses the command &lsquo;<samp><span class="samp">fsh </span><var>host</var><span class="samp"> -l </span><var>user</var><span class="samp">
/bin/sh -i</span></samp>&rsquo; to establish the connection, it does not work to just say
<samp><span class="command">fsh </span><var>host</var><span class="command"> -l </span><var>user</var></samp>.

     <p><a name="index-method-fsh-74"></a><a name="index-fsh-method-75"></a>
There is no inline method using <samp><span class="command">fsh</span></samp> as the multiplexing
provided by the program is not very useful in our context.  <span class="sc">tramp</span>
opens just one connection to the remote host and then keeps it open,
anyway.

     <br><dt><samp><span class="option">nc</span></samp>&mdash;<samp><span class="command">telnet</span></samp> and <samp><span class="command">nc</span></samp><dd><a name="index-method-nc-76"></a><a name="index-nc-method-77"></a><a name="index-nc-_0028with-nc-method_0029-78"></a><a name="index-telnet-_0028with-nc-method_0029-79"></a>
Using <samp><span class="command">telnet</span></samp> to connect to the remote host and <samp><span class="command">nc</span></samp>
for file transfer is often the only possibility to access dumb
devices, like routers or NAS hosts.  Those hosts have just a
restricted <samp><span class="command">busybox</span></samp> as local shell, and there is no program
to encode and decode files for transfer.

     <br><dt><samp><span class="option">ftp</span></samp><dd><a name="index-method-ftp-80"></a><a name="index-ftp-method-81"></a>
This is not a native <span class="sc">tramp</span> method.  Instead, it forwards all
requests to Ange-FTP.

     <br><dt><samp><span class="option">smb</span></samp>&mdash;<samp><span class="command">smbclient</span></samp><dd><a name="index-method-smb-82"></a><a name="index-smb-method-83"></a>
This is another not native <span class="sc">tramp</span> method.  It uses the
<samp><span class="command">smbclient</span></samp> command on different Unices in order to connect to
an SMB server.  An SMB server might be a Samba (or CIFS) server on
another UNIX host or, more interesting, a host running MS Windows.  So
far, it is tested against MS Windows NT, MS Windows 2000, MS Windows
XP, MS Windows Vista, and MS Windows 7.

     <p>The first directory in the localname must be a share name on the remote
host.  Remember that the <code>$</code> character, in which default shares
usually end, must be written <code>$$</code> due to environment variable
substitution in file names.  If no share name is given (i.e., remote
directory <code>/</code>), all available shares are listed.

     <p>Since authorization is done on share level, you will always be
prompted for a password if you access another share on the same host. 
This can be suppressed by <a href="#Password-handling">Password handling</a>.

     <p>For authorization, MS Windows uses both a user name and a domain name. 
Because of this, the <span class="sc">tramp</span> syntax has been extended: you can
specify a user name which looks like <code>user%domain</code> (the real user
name, then a percent sign, then the domain name).  So, to connect to
the host <code>melancholia</code> as user <code>daniel</code> of the domain
<code>BIZARRE</code>, and edit <samp><span class="file">.emacs</span></samp> in the home directory (share
<code>daniel$</code>) I would specify the file name <samp><span class="file">/smb<!-- /@w -->:daniel%BIZARRE<!-- /@w -->@melancholia:/daniel$$/.emacs</span></samp>.

     <p>Depending on the Windows domain configuration, a Windows user might be
considered as domain user per default.  In order to connect as local
user, the WINS name of that host must be given as domain name. 
Usually, it is the host name in capital letters.  In the example
above, the local user <code>daniel</code> would be specified as
<samp><span class="file">/smb<!-- /@w -->:daniel%MELANCHOLIA<!-- /@w -->@melancholia:/daniel$$/.emacs</span></samp>.

     <p>The domain name as well as the user name are optional.  If no user
name is specified at all, the anonymous user (without password
prompting) is assumed.  This is different from all other <span class="sc">tramp</span>
methods, where in such a case the local user name is taken.

     <p>The <samp><span class="option">smb</span></samp> method supports the &lsquo;<samp><span class="samp">-p</span></samp>&rsquo; argument.

     <p><strong>Please note:</strong> If Emacs runs locally under MS
Windows, this method isn't available.  Instead, you can use UNC
file names like <samp><span class="file">//melancholia/daniel$$/.emacs</span></samp>.  The only
disadvantage is that there's no possibility to specify another user
name.

     <br><dt><samp><span class="option">adb</span></samp><dd><a name="index-method-adb-84"></a><a name="index-adb-method-85"></a>
This special method uses the Android Debug Bridge for accessing
Android devices.  The Android Debug Bridge must be installed locally. 
Some GNU/Linux distributions offer it for installation, otherwise it
can be installed as part of the Android SDK.  If the <samp><span class="command">adb</span></samp>
program is not found via the <samp><span class="env">PATH</span></samp> environment variable, the
variable <var>tramp-adb-program</var> must point to its absolute path.

     <p><span class="sc">tramp</span> does not connect Android devices to <samp><span class="command">adb</span></samp>,
unless the custom option <samp><span class="option">tramp-adb-connect-if-not-connected</span></samp>
is non-<code>nil</code>.  If there is exactly one Android device connected
to <samp><span class="command">adb</span></samp>, a host name is not needed in the remote file name. 
The default <span class="sc">tramp</span> name to be used is <samp><span class="file">/adb<!-- /@w -->::</span></samp>,
therefore.  Otherwise, one could find potential host names with the
command <samp><span class="command">adb devices</span></samp>.

     <p>Usually, the <samp><span class="command">adb</span></samp> method does not need any user name.  It
runs under the permissions of the <samp><span class="command">adbd</span></samp> process on the
Android device.  If a user name is specified, <span class="sc">tramp</span> applies an
<samp><span class="command">su</span></samp> on the device.  This does not work with all Android
devices, especially with unrooted ones.  In that case, an error
message is displayed.

     <p>If a device shall be connected via TCP/IP, it is possible to declare
the port number to be used like <samp><span class="file">device#42</span></samp>.  Without a port
number, the default value as declared in <samp><span class="command">adb</span></samp> will be used. 
Port numbers are not applicable to Android devices connected via USB.

   </dl>

<div class="node">
<a name="GVFS-based-methods"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Gateway-methods">Gateway methods</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#External-methods">External methods</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Configuration">Configuration</a>

</div>

<h3 class="section">4.4 GVFS based external methods</h3>

<p><a name="index-methods_002c-gvfs-86"></a><a name="index-gvfs-based-methods-87"></a><a name="index-dbus-88"></a>
The connection methods described in this section are based on GVFS
<a href="http://en.wikipedia.org/wiki/GVFS">http://en.wikipedia.org/wiki/GVFS</a>.  Via GVFS, the remote
filesystem is mounted locally through FUSE.  <span class="sc">tramp</span> uses
this local mounted directory internally.

   <p>The communication with GVFS is implemented via D-Bus messages. 
Therefore, your Emacs must have D-Bus integration,
see <a href="dbus.html#Top">D-Bus</a>.

     <dl>
<dt><samp><span class="option">afp</span></samp><dd><a name="index-method-afp-89"></a><a name="index-afp-method-90"></a>
Access to Mac OS X volumes via the Apple Filing Protocol is offered by
this method.  The access must always be performed with a leading
volume (share) name, like <samp><span class="file">/afp<!-- /@w -->:user<!-- /@w -->@host:/volume</span></samp>.

     <br><dt><samp><span class="option">dav</span></samp><dd><a name="index-method-dav-91"></a><a name="index-method-davs-92"></a><a name="index-dav-method-93"></a><a name="index-davs-method-94"></a>
This method provides access to WebDAV files and directories.  There
exists also the external method <samp><span class="option">davs</span></samp>, which uses SSL
encryption for the access.

     <p>Both methods support the port number specification as discussed above.

     <br><dt><samp><span class="option">obex</span></samp><dd><a name="index-method-obex-95"></a><a name="index-obex-method-96"></a>
OBEX is an FTP-like access protocol for simple devices, like cell
phones.  For the time being, <span class="sc">tramp</span> only supports OBEX over Bluetooth.

     <br><dt><samp><span class="option">sftp</span></samp><dd><a name="index-method-sftp-97"></a><a name="index-sftp-method-98"></a>
As you might expect, this method uses <samp><span class="command">sftp</span></samp> in order to
access the remote host.  Contrary to the <samp><span class="option">ssh</span></samp> and <samp><span class="option">scp</span></samp>
methods, it doesn't open an <samp><span class="command">ssh</span></samp> session for login. 
Therefore, it could be used to access to remote hosts which refuse
<samp><span class="command">ssh</span></samp> for security reasons.

     <br><dt><samp><span class="option">synce</span></samp><dd><a name="index-method-synce-99"></a><a name="index-synce-method-100"></a>
The <samp><span class="option">synce</span></samp> method allows communication with Windows Mobile
devices.  Beside GVFS for mounting remote files and directories via
FUSE, it also needs the SYNCE-GVFS plugin.

   </dl>

   <p><a name="index-tramp_002dgvfs_002dmethods-101"></a>

<div class="defun">
&mdash; User Option: <b>tramp-gvfs-methods</b><var><a name="index-tramp_002dgvfs_002dmethods-102"></a></var><br>
<blockquote><p>This custom option, a list, defines the external methods which shall
be used with GVFS.  Per default, these are <samp><span class="option">afp</span></samp>,
<samp><span class="option">dav</span></samp>, <samp><span class="option">davs</span></samp>, <samp><span class="option">obex</span></samp>, <samp><span class="option">sftp</span></samp> and
<samp><span class="option">synce</span></samp>.  Other possible values are <samp><span class="option">ftp</span></samp> and
<samp><span class="option">smb</span></samp>. 
</p></blockquote></div>

<div class="node">
<a name="Gateway-methods"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Default-Method">Default Method</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#GVFS-based-methods">GVFS based methods</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Configuration">Configuration</a>

</div>

<h3 class="section">4.5 Gateway methods</h3>

<p><a name="index-methods_002c-gateway-103"></a><a name="index-gateway-methods-104"></a>
Gateway methods are not methods to access a remote host directly. 
These methods are intended to pass firewalls or proxy servers. 
Therefore, they can be used for proxy host declarations
(see <a href="#Multi_002dhops">Multi-hops</a>) only.

   <p>A gateway method must always come along with a method which supports
port setting.  This is because <span class="sc">tramp</span> targets the accompanied
method to <samp><span class="file">localhost#random_port</span></samp>, from where the firewall or
proxy server is accessed.

   <p>Gateway methods support user name and password declarations.  These
are used to authenticate towards the corresponding firewall or proxy
server.  They can be passed only if your friendly administrator has
granted your access.

     <dl>
<dt><samp><span class="option">tunnel</span></samp><dd><a name="index-method-tunnel-105"></a><a name="index-tunnel-method-106"></a>
This method implements an HTTP tunnel via the <samp><span class="command">CONNECT</span></samp>
command (see RFC 2616, 2817).  Any HTTP 1.1 compliant (proxy) server
shall support this command.

     <p>As authentication method, only <samp><span class="option">Basic Authentication</span></samp> (see RFC
2617) is implemented so far.  If no port number is given in the
declaration, port <samp><span class="option">8080</span></samp> is used for the proxy server.

     <br><dt><samp><span class="option">socks</span></samp><dd><a name="index-method-socks-107"></a><a name="index-socks-method-108"></a>
The <samp><span class="command">socks</span></samp> method provides access to SOCKSv5 servers (see
RFC 1928).  <samp><span class="option">Username/Password Authentication</span></samp> according to RFC
1929 is supported.

     <p>The default port number of the socks server is <samp><span class="option">1080</span></samp>, if not
specified otherwise.

   </dl>

<div class="node">
<a name="Default-Method"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Default-User">Default User</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Gateway-methods">Gateway methods</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Configuration">Configuration</a>

</div>

<h3 class="section">4.6 Selecting a default method</h3>

<p><a name="index-default-method-109"></a>
<a name="index-tramp_002ddefault_002dmethod-110"></a>When you select an appropriate transfer method for your typical usage
you should set the variable <code>tramp-default-method</code> to reflect that
choice.  This variable controls which method will be used when a method
is not specified in the <span class="sc">tramp</span> file name.  For example:

<pre class="lisp">     (setq tramp-default-method "ssh")
</pre>
   <p><a name="index-tramp_002ddefault_002dmethod_002dalist-111"></a>You can also specify different methods for certain user/host
combinations, via the variable <code>tramp-default-method-alist</code>.  For
example, the following two lines specify to use the <samp><span class="option">ssh</span></samp>
method for all user names matching &lsquo;<samp><span class="samp">john</span></samp>&rsquo; and the <samp><span class="option">rsync</span></samp>
method for all host names matching &lsquo;<samp><span class="samp">lily</span></samp>&rsquo;.  The third line
specifies to use the <samp><span class="option">su</span></samp> method for the user &lsquo;<samp><span class="samp">root</span></samp>&rsquo; on
the host &lsquo;<samp><span class="samp">localhost</span></samp>&rsquo;.

<pre class="lisp">     (add-to-list 'tramp-default-method-alist '("" "john" "ssh"))
     (add-to-list 'tramp-default-method-alist '("lily" "" "rsync"))
     (add-to-list 'tramp-default-method-alist
                  '("\\`localhost\\'" "\\`root\\'" "su"))
</pre>
   <p class="noindent">See the documentation for the variable
<code>tramp-default-method-alist</code> for more details.

   <p>External methods are normally preferable to inline methods, giving
better performance.

   <p>See <a href="#Inline-methods">Inline methods</a>. 
See <a href="#External-methods">External methods</a>.

   <p>Another consideration with the selection of transfer methods is the
environment you will use them in and, especially when used over the
Internet, the security implications of your preferred method.

   <p>The <samp><span class="option">rsh</span></samp> and <samp><span class="option">telnet</span></samp> methods send your password as
plain text as you log in to the remote host, as well as
transferring the files in such a way that the content can easily be
read from other hosts.

   <p>If you need to connect to remote systems that are accessible from the
Internet, you should give serious thought to using <samp><span class="option">ssh</span></samp> based
methods to connect.  These provide a much higher level of security,
making it a non-trivial exercise for someone to obtain your password
or read the content of the files you are editing.

<h4 class="subsection">4.6.1 Which method is the right one for me?</h4>

<p><a name="index-choosing-the-right-method-112"></a>
Given all of the above, you are probably thinking that this is all fine
and good, but it's not helping you to choose a method!  Right you are. 
As a developer, we don't want to boss our users around but give them
maximum freedom instead.  However, the reality is that some users would
like to have some guidance, so here I'll try to give you this guidance
without bossing you around.  You tell me whether it works <small class="dots">...</small>

   <p>My suggestion is to use an inline method.  For large files, external
methods might be more efficient, but I guess that most people will
want to edit mostly small files.  And if you access large text files,
compression (driven by <var>tramp-inline-compress-start-size</var>) shall
still result in good performance.

   <p>I guess that these days, most people can access a remote host by
using <samp><span class="command">ssh</span></samp>.  So I suggest that you use the <samp><span class="option">ssh</span></samp>
method.  So, type <kbd>C-x C-f /ssh<!-- /@w -->:root<!-- /@w -->@otherhost:/etc/motd &lt;RET&gt;</kbd> to edit the <samp><span class="file">/etc/motd</span></samp> file on the other
host.

   <p>If you can't use <samp><span class="option">ssh</span></samp> to log in to the remote host, then
select a method that uses a program that works.  For instance, Windows
users might like the <samp><span class="option">plink</span></samp> method which uses the PuTTY
implementation of <samp><span class="command">ssh</span></samp>.  Or you use Kerberos and thus like
<samp><span class="option">krlogin</span></samp>.

   <p>For the special case of editing files on the local host as another
user, see the <samp><span class="option">su</span></samp> or <samp><span class="option">sudo</span></samp> methods.  They offer
shortened syntax for the &lsquo;<samp><span class="samp">root</span></samp>&rsquo; account, like
<samp><span class="file">/su<!-- /@w -->::/etc/motd</span></samp>.

   <p>People who edit large files may want to consider <samp><span class="option">scp</span></samp> instead
of <samp><span class="option">ssh</span></samp>, or <samp><span class="option">pscp</span></samp> instead of <samp><span class="option">plink</span></samp>.  These
external methods are faster than inline methods for large files. 
Note, however, that external methods suffer from some limitations. 
Please try first whether you really get a noticeable speed advantage
from using an external method!  Maybe even for large files, inline
methods are fast enough.

<div class="node">
<a name="Default-User"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Default-Host">Default Host</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Default-Method">Default Method</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Configuration">Configuration</a>

</div>

<h3 class="section">4.7 Selecting a default user</h3>

<p><a name="index-default-user-113"></a>
The user part of a <span class="sc">tramp</span> file name can be omitted.  Usually,
it is replaced by the user name you are logged in.  Often, this is not
what you want.  A typical use of <span class="sc">tramp</span> might be to edit some
files with root permissions on the local host.  This case, you should
set the variable <code>tramp-default-user</code> to reflect that choice. 
For example:

<pre class="lisp">     (setq tramp-default-user "root")
</pre>
   <p><code>tramp-default-user</code> is regarded as obsolete, and will be removed
soon.

   <p><a name="index-tramp_002ddefault_002duser_002dalist-114"></a>You can also specify different users for certain method/host
combinations, via the variable <code>tramp-default-user-alist</code>.  For
example, if you always have to use the user &lsquo;<samp><span class="samp">john</span></samp>&rsquo; in the domain
&lsquo;<samp><span class="samp">somewhere.else</span></samp>&rsquo;, you can specify the following:

<pre class="lisp">     (add-to-list 'tramp-default-user-alist
                  '("ssh" ".*\\.somewhere\\.else\\'" "john"))
</pre>
   <p class="noindent">See the documentation for the variable <code>tramp-default-user-alist</code>
for more details.

   <p>One trap to fall in must be known.  If <span class="sc">tramp</span> finds a default
user, this user will be passed always to the connection command as
parameter (for example <samp><span class="command">ssh here.somewhere.else -l john</span></samp>.  If
you have specified another user for your command in its configuration
files, <span class="sc">tramp</span> cannot know it, and the remote access will fail. 
If you have specified in the given example in <samp><span class="file">~/.ssh/config</span></samp> the
lines

<pre class="example">     Host here.somewhere.else
          User lily
</pre>
   <p class="noindent">than you must discard selecting a default user by <span class="sc">tramp</span>.  This
will be done by setting it to <code>nil</code> (or &lsquo;<samp><span class="samp">lily</span></samp>&rsquo;, likewise):

<pre class="lisp">     (add-to-list 'tramp-default-user-alist
                  '("ssh" "\\`here\\.somewhere\\.else\\'" nil))
</pre>
   <p>The last entry in <code>tramp-default-user-alist</code> could be your
default user you'll apply predominantly.  You shall <em>append</em> it
to that list at the end:

<pre class="lisp">     (add-to-list 'tramp-default-user-alist '(nil nil "jonas") t)
</pre>
   <div class="node">
<a name="Default-Host"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Multi_002dhops">Multi-hops</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Default-User">Default User</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Configuration">Configuration</a>

</div>

<h3 class="section">4.8 Selecting a default host</h3>

<p><a name="index-default-host-115"></a>
<a name="index-tramp_002ddefault_002dhost-116"></a>Finally, it is even possible to omit the host name part of a
<span class="sc">tramp</span> file name.  This case, the value of the variable
<code>tramp-default-host</code> is used.  Per default, it is initialized
with the host name your local Emacs is running.

   <p>If you, for example, use <span class="sc">tramp</span> mainly to contact the host
&lsquo;<samp><span class="samp">target</span></samp>&rsquo; as user &lsquo;<samp><span class="samp">john</span></samp>&rsquo;, you can specify:

<pre class="lisp">     (setq tramp-default-user "john"
           tramp-default-host "target")
</pre>
   <p>Then the simple file name &lsquo;<samp><span class="samp">/ssh<!-- /@w -->::</span></samp>&rsquo; will connect you
to John's home directory on target. 
Note, however, that the most simplification &lsquo;<samp><span class="samp">/::</span></samp>&rsquo; won't work,
because &lsquo;<samp><span class="samp">/:</span></samp>&rsquo; is the prefix for quoted file names.

   <p><a name="index-tramp_002ddefault_002dhost_002dalist-117"></a>Like with methods and users, you can also specify different default
hosts for certain method/user combinations via the variable
<code>tramp-default-host-alist</code>.  Usually, this isn't necessary,
because <code>tramp-default-host</code> should be sufficient.  For some
methods, like <samp><span class="option">adb</span></samp>, that default value must be overwritten,
which is already the initial value of <code>tramp-default-host-alist</code>.

<p class="noindent">See the documentation for the variable <code>tramp-default-host-alist</code>
for more details.

<div class="node">
<a name="Multi-hops"></a>
<a name="Multi_002dhops"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Customizing-Methods">Customizing Methods</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Default-Host">Default Host</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Configuration">Configuration</a>

</div>

<h3 class="section">4.9 Connecting to a remote host using multiple hops</h3>

<p><a name="index-multi_002dhop-118"></a><a name="index-proxy-hosts-119"></a>
Sometimes, the methods described before are not sufficient. 
Sometimes, it is not possible to connect to a remote host using a
simple command.  For example, if you are in a secured network, you
might have to log in to a bastion host first before you can connect to
the outside world.  Of course, the target host may also require a
bastion host.

   <p><a name="index-tramp_002ddefault_002dproxies_002dalist-120"></a>

<div class="defun">
&mdash; User Option: <b>tramp-default-proxies-alist</b><var><a name="index-tramp_002ddefault_002dproxies_002dalist-121"></a></var><br>
<blockquote><p>In order to specify multiple hops, it is possible to define a proxy
host to pass through, via the custom option
<samp><span class="option">tramp-default-proxies-alist</span></samp>.  This variable keeps a list of
triples (<var>host</var> <var>user</var> <var>proxy</var>).

        <p>The first matching item specifies the proxy host to be passed for a
file name located on a remote target matching <var>user</var>@<var>host</var>. 
<var>host</var> and <var>user</var> are regular expressions or <code>nil</code>, which
is interpreted as a regular expression which always matches.

        <p><var>proxy</var> must be a Tramp file name which localname part is ignored. 
Method and user name on <var>proxy</var> are optional, which is interpreted
with the default values. 
The method must be an inline or gateway method (see <a href="#Inline-methods">Inline methods</a>, see <a href="#Gateway-methods">Gateway methods</a>). 
If <var>proxy</var> is <code>nil</code>, no additional hop is required reaching
<var>user</var>@<var>host</var>.

        <p>If you, for example, must pass the host &lsquo;<samp><span class="samp">bastion.your.domain</span></samp>&rsquo; as
user &lsquo;<samp><span class="samp">bird</span></samp>&rsquo; for any remote host which is not located in your local
domain, you can set

     <pre class="lisp">          (add-to-list 'tramp-default-proxies-alist
                       '("\\." nil "/ssh<!-- /@w -->:bird<!-- /@w -->@bastion.your.domain:"))
          (add-to-list 'tramp-default-proxies-alist
                       '("\\.your\\.domain\\'" nil nil))
</pre>
        <p>Please note the order of the code.  <code>add-to-list</code> adds elements at the
beginning of a list.  Therefore, most relevant rules must be added last.

        <p>Proxy hosts can be cascaded.  If there is another host called
&lsquo;<samp><span class="samp">jump.your.domain</span></samp>&rsquo;, which is the only one in your local domain who
is allowed connecting &lsquo;<samp><span class="samp">bastion.your.domain</span></samp>&rsquo;, you can add another
rule:

     <pre class="lisp">          (add-to-list 'tramp-default-proxies-alist
                       '("\\`bastion\\.your\\.domain\\'"
                         "\\`bird\\'"
                         "/ssh<!-- /@w -->:jump.your.domain:"))
</pre>
        <p><var>proxy</var> can contain the patterns <code>%h</code> or <code>%u</code>.  These
patterns are replaced by the strings matching <var>host</var> or
<var>user</var>, respectively.

        <p>If you, for example, wants to work as &lsquo;<samp><span class="samp">root</span></samp>&rsquo; on hosts in the
domain &lsquo;<samp><span class="samp">your.domain</span></samp>&rsquo;, but login as &lsquo;<samp><span class="samp">root</span></samp>&rsquo; is disabled for
non-local access, you might add the following rule:

     <pre class="lisp">          (add-to-list 'tramp-default-proxies-alist
                       '("\\.your\\.domain\\'" "\\`root\\'" "/ssh<!-- /@w -->:%h:"))
</pre>
        <p>Opening <samp><span class="file">/sudo<!-- /@w -->:randomhost.your.domain:</span></samp> would connect
first &lsquo;<samp><span class="samp">randomhost.your.domain</span></samp>&rsquo; via <code>ssh</code> under your account
name, and perform <code>sudo -u root</code> on that host afterwards.  It is
important to know that the given method is applied on the host which
has been reached so far.  <code>sudo -u root</code>, applied on your local
host, wouldn't be useful here.

        <p><var>host</var>, <var>user</var> and <var>proxy</var> can also be Lisp forms.  These
forms are evaluated, and must return a string, or <code>nil</code>.  The
previous example could be generalized then: For all hosts except my
local one connect via <samp><span class="command">ssh</span></samp> first, and apply <samp><span class="command">sudo -u
root</span></samp> afterwards:

     <pre class="lisp">          (add-to-list 'tramp-default-proxies-alist
                       '(nil "\\`root\\'" "/ssh<!-- /@w -->:%h:"))
          (add-to-list 'tramp-default-proxies-alist
                       '((regexp-quote (system-name)) nil nil))
</pre>
        <p>This is the recommended configuration to work as &lsquo;<samp><span class="samp">root</span></samp>&rsquo; on remote
Ubuntu hosts.

        <p>Finally, <code>tramp-default-proxies-alist</code> can be used to pass
firewalls or proxy servers.  Imagine your local network has a host
&lsquo;<samp><span class="samp">proxy.your.domain</span></samp>&rsquo; which is used on port 3128 as HTTP proxy to
the outer world.  Your friendly administrator has granted you access
under your user name to &lsquo;<samp><span class="samp">host.other.domain</span></samp>&rsquo; on that proxy
server.<a rel="footnote" href="#fn-2" name="fnd-2"><sup>2</sup></a>  You would need to add the
following rule:

     <pre class="lisp">          (add-to-list 'tramp-default-proxies-alist
                       '("\\`host\\.other\\.domain\\'" nil
                         "/tunnel<!-- /@w -->:proxy.your.domain#3128:"))
</pre>
        <p>Gateway methods can be declared as first hop only in a multiple hop
chain. 
</p></blockquote></div>

   <p>Hops to be passed tend to be restricted firewalls and alike. 
Sometimes they offer limited features only, like running <samp><span class="command">rbash</span></samp>
(restricted bash).  This must be told to <span class="sc">tramp</span>.

   <p><a name="index-tramp_002drestricted_002dshell_002dhosts_002dalist-122"></a>

<div class="defun">
&mdash; User Option: <b>tramp-restricted-shell-hosts-alist</b><var><a name="index-tramp_002drestricted_002dshell_002dhosts_002dalist-123"></a></var><br>
<blockquote><p>This custom option keeps a list of regular expressions, which denote
hosts running a registered shell like <samp><span class="command">rbash</span></samp>.  Those hosts
can be used as proxies only.

        <p>If the bastion host from the example above runs a restricted shell,
you shall apply

     <pre class="lisp">          (add-to-list 'tramp-restricted-shell-hosts-alist
                       "\\`bastion\\.your\\.domain\\'")
</pre>
        </blockquote></div>

<div class="node">
<a name="Customizing-Methods"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Customizing-Completion">Customizing Completion</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Multi_002dhops">Multi-hops</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Configuration">Configuration</a>

</div>

<h3 class="section">4.10 Using Non-Standard Methods</h3>

<p><a name="index-customizing-methods-124"></a><a name="index-using-non_002dstandard-methods-125"></a><a name="index-create-your-own-methods-126"></a>
There is a variable <code>tramp-methods</code> which you can change if the
predefined methods don't seem right.

   <p>For the time being, I'll refer you to the Lisp documentation of that
variable, accessible with <kbd>C-h v tramp-methods &lt;RET&gt;</kbd>.

<div class="node">
<a name="Customizing-Completion"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Password-handling">Password handling</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Customizing-Methods">Customizing Methods</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Configuration">Configuration</a>

</div>

<h3 class="section">4.11 Selecting config files for user/host name completion</h3>

<p><a name="index-customizing-completion-127"></a><a name="index-selecting-config-files-128"></a><a name="index-tramp_002dcompletion_002dfunction_002dalist-129"></a>
The variable <code>tramp-completion-function-alist</code> is intended to
customize which files are taken into account for user and host name
completion (see <a href="#File-name-completion">File name completion</a>).  For every method, it keeps
a set of configuration files, accompanied by a Lisp function able to
parse that file.  Entries in <code>tramp-completion-function-alist</code>
have the form (<var>method</var> <var>pair1</var> <var>pair2</var> <small class="dots">...</small>).

   <p>Each <var>pair</var> is composed of (<var>function</var> <var>file</var>). 
<var>function</var> is responsible to extract user names and host names
from <var>file</var> for completion.  There are two functions which access
this variable:

<div class="defun">
&mdash; Function: <b>tramp-get-completion-function</b><var> method<a name="index-tramp_002dget_002dcompletion_002dfunction-130"></a></var><br>
<blockquote><p>This function returns the list of completion functions for <var>method</var>.

        <p>Example:
     <pre class="example">          (tramp-get-completion-function "rsh")
          
               &rArr; ((tramp-parse-rhosts "/etc/hosts.equiv")
                   (tramp-parse-rhosts "~/.rhosts"))
</pre>
        </blockquote></div>

<div class="defun">
&mdash; Function: <b>tramp-set-completion-function</b><var> method function-list<a name="index-tramp_002dset_002dcompletion_002dfunction-131"></a></var><br>
<blockquote><p>This function sets <var>function-list</var> as list of completion functions
for <var>method</var>.

        <p>Example:
     <pre class="example">          (tramp-set-completion-function "ssh"
           '((tramp-parse-sconfig "/etc/ssh_config")
             (tramp-parse-sconfig "~/.ssh/config")))
          
               &rArr; ((tramp-parse-sconfig "/etc/ssh_config")
                   (tramp-parse-sconfig "~/.ssh/config"))
</pre>
        </blockquote></div>

   <p>The following predefined functions parsing configuration files exist:

     <dl>
<dt><code>tramp-parse-rhosts</code><dd><a name="index-tramp_002dparse_002drhosts-132"></a>
This function parses files which are syntactical equivalent to
<samp><span class="file">~/.rhosts</span></samp>.  It returns both host names and user names, if
specified.

     <br><dt><code>tramp-parse-shosts</code><dd><a name="index-tramp_002dparse_002dshosts-133"></a>
This function parses files which are syntactical equivalent to
<samp><span class="file">~/.ssh/known_hosts</span></samp>.  Since there are no user names specified
in such files, it can return host names only.

     <br><dt><code>tramp-parse-sconfig</code><dd><a name="index-tramp_002dparse_002dshosts-134"></a>
This function returns the host nicknames defined by <code>Host</code> entries
in <samp><span class="file">~/.ssh/config</span></samp> style files.

     <br><dt><code>tramp-parse-shostkeys</code><dd><a name="index-tramp_002dparse_002dshostkeys-135"></a>
SSH2 parsing of directories <samp><span class="file">/etc/ssh2/hostkeys/*</span></samp> and
<samp><span class="file">~/ssh2/hostkeys/*</span></samp>.  Hosts are coded in file names
<samp><span class="file">hostkey_</span><var>portnumber</var><span class="file">_</span><var>host-name</var><span class="file">.pub</span></samp>.  User names
are always <code>nil</code>.

     <br><dt><code>tramp-parse-sknownhosts</code><dd><a name="index-tramp_002dparse_002dshostkeys-136"></a>
Another SSH2 style parsing of directories like
<samp><span class="file">/etc/ssh2/knownhosts/*</span></samp> and <samp><span class="file">~/ssh2/knownhosts/*</span></samp>.  This
case, hosts names are coded in file names
<samp><var>host-name</var><span class="file">.</span><var>algorithm</var><span class="file">.pub</span></samp>.  User names are always <code>nil</code>.

     <br><dt><code>tramp-parse-hosts</code><dd><a name="index-tramp_002dparse_002dhosts-137"></a>
A function dedicated to <samp><span class="file">/etc/hosts</span></samp> style files.  It returns
host names only.

     <br><dt><code>tramp-parse-passwd</code><dd><a name="index-tramp_002dparse_002dpasswd-138"></a>
A function which parses <samp><span class="file">/etc/passwd</span></samp> like files.  Obviously, it
can return user names only.

     <br><dt><code>tramp-parse-netrc</code><dd><a name="index-tramp_002dparse_002dnetrc-139"></a>
Finally, a function which parses <samp><span class="file">~/.netrc</span></samp> like files.  This
includes also <samp><span class="file">~/.authinfo</span></samp>-style files.

   </dl>

   <p>If you want to keep your own data in a file, with your own structure,
you might provide such a function as well.  This function must meet
the following conventions:

<div class="defun">
&mdash; Function: <b>my-tramp-parse</b><var> file<a name="index-my_002dtramp_002dparse-140"></a></var><br>
<blockquote><p><var>file</var> must be either a file name on your host, or <code>nil</code>. 
The function must return a list of (<var>user</var> <var>host</var>), which are
taken as candidates for user and host name completion.

        <p>Example:
     <pre class="example">          (my-tramp-parse "~/.my-tramp-hosts")
          
               &rArr; ((nil "toto") ("daniel" "melancholia"))
</pre>
        </blockquote></div>

<div class="node">
<a name="Password-handling"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Connection-caching">Connection caching</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Customizing-Completion">Customizing Completion</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Configuration">Configuration</a>

</div>

<h3 class="section">4.12 Reusing passwords for several connections</h3>

<p><a name="index-passwords-141"></a>
Sometimes it is necessary to connect to the same remote host several
times.  Reentering passwords again and again would be annoying, when
the chosen method does not support access without password prompt
through own configuration.

   <p>The best recommendation is to use the method's own mechanism for
password handling. Consider <samp><span class="command">ssh-agent</span></samp> for <samp><span class="option">ssh</span></samp>-like
methods, or <samp><span class="command">pageant</span></samp> for <samp><span class="option">plink</span></samp>-like methods.

   <p>However, if you cannot apply such native password handling,
<span class="sc">tramp</span> offers alternatives.

   <p><a name="Using-an-authentication-file"></a>

<h4 class="subsection">4.12.1 Using an authentication file</h4>

<p><a name="index-auth_002dsources-142"></a>The package <samp><span class="file">auth-source.el</span></samp>, originally developed in No Gnus,
offers the possibility to read passwords from a file, like FTP does it
from <samp><span class="file">~/.netrc</span></samp>.  The default authentication file is
<samp><span class="file">~/.authinfo.gpg</span></samp>, this can be changed via the variable
<code>auth-sources</code>.

<p class="noindent">A typical entry in the authentication file would be

<pre class="example">     machine melancholia port scp login daniel password geheim
</pre>
   <p>The port can be any <span class="sc">tramp</span> method (see <a href="#Inline-methods">Inline methods</a>,
see <a href="#External-methods">External methods</a>), to match only this method.  When you omit
the port, you match all <span class="sc">tramp</span> methods.

   <p>In case of problems, setting <code>auth-source-debug</code> to <code>t</code>
gives useful debug messages.

   <p><a name="Caching-passwords"></a>

<h4 class="subsection">4.12.2 Caching passwords</h4>

<p>If there is no authentication file, <span class="sc">tramp</span> caches the passwords
entered by you.  They will be reused next time if a connection needs
them for the same user name and host name, independently of the
connection method.

   <p><a name="index-password_002dcache_002dexpiry-143"></a>Passwords are not saved permanently, that means the password caching
is limited to the lifetime of your Emacs session.  You
can influence the lifetime of password caching by customizing the
variable <code>password-cache-expiry</code>.  The value is the number of
seconds how long passwords are cached.  Setting it to <code>nil</code>
disables the expiration.

   <p><a name="index-password_002dcache-144"></a>If you don't like this feature for security reasons, password caching
can be disabled totally by customizing the variable
<code>password-cache</code> (setting it to <code>nil</code>).

   <p>Implementation Note: password caching is based on the package
<samp><span class="file">password-cache.el</span></samp>.  For the time being, it is activated only
when this package is seen in the <code>load-path</code> while loading
<span class="sc">tramp</span>.

<div class="node">
<a name="Connection-caching"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Predefined-connection-information">Predefined connection information</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Password-handling">Password handling</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Configuration">Configuration</a>

</div>

<h3 class="section">4.13 Reusing connection related information</h3>

<p><a name="index-caching-145"></a>
<a name="index-tramp_002dpersistency_002dfile_002dname-146"></a>In order to reduce initial connection time, <span class="sc">tramp</span> stores
connection related information persistently.  The variable
<code>tramp-persistency-file-name</code> keeps the file name where these
information are written.  Its default value is
<samp><span class="file">~/.emacs.d/tramp</span></samp>. 
It is recommended to choose a local file name.

   <p><span class="sc">tramp</span> reads this file during startup, and writes it when
exiting Emacs.  You can simply remove this file if
<span class="sc">tramp</span> shall be urged to recompute these information next
Emacs startup time.

   <p>Using such persistent information can be disabled by setting
<code>tramp-persistency-file-name</code> to <code>nil</code>.

   <p>Once consequence of reusing connection related information is that
<span class="sc">tramp</span> needs to distinguish hosts.  If you, for example, run a
local <code>sshd</code> on port 3001, which tunnels <samp><span class="command">ssh</span></samp> to another
host, you could access both <samp><span class="file">/ssh<!-- /@w -->:localhost:</span></samp> and
<samp><span class="file">/ssh<!-- /@w -->:localhost#3001:</span></samp>.  <span class="sc">tramp</span> would use the
same host related information (like paths, Perl variants, etc) for
both connections, although the information is valid only for one of
them.

   <p>In order to avoid trouble, you must use another host name for one of
the connections, like introducing a <samp><span class="option">Host</span></samp> section in
<samp><span class="file">~/.ssh/config</span></samp> (see <a href="#Frequently-Asked-Questions">Frequently Asked Questions</a>) or applying
multiple hops (see <a href="#Multi_002dhops">Multi-hops</a>).

   <p>When <span class="sc">tramp</span> detects a changed operating system version on a
remote host (via the command <samp><span class="command">uname -sr</span></samp>), it flushes all
connection related information for this host, and opens the
connection again.

<div class="node">
<a name="Predefined-connection-information"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Remote-programs">Remote programs</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Connection-caching">Connection caching</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Configuration">Configuration</a>

</div>

<h3 class="section">4.14 Setting own connection related information</h3>

<p>Sometimes, method specific arguments in <code>tramp-methods</code> do not
fit your needs.  Sometimes, <span class="sc">tramp</span> is not able to detect
correct connection related information.  In such cases, you could tell
<span class="sc">tramp</span> which value it has to take.  Since this could result in
errors, it has to be used with care.

   <p><a name="index-tramp_002dconnection_002dproperties-147"></a>Such settings can be performed via the list
<code>tramp-connection-properties</code>.  An entry in this list has the
form <code>(</code><var>regexp</var> <var>property</var> <var>value</var><code>)</code>.  <var>regexp</var>
matches remote file names for which a property shall be predefined. 
It can be <code>nil</code>.  <var>property</var> is a string, and <var>value</var> the
corresponding value.

   <p><var>property</var> could be any method specific parameter found in
<code>tramp-methods</code>. The parameter key in <code>tramp-methods</code> is a
symbol name <code>tramp-&lt;foo&gt;</code>. In order to overwrite it,
<var>property</var> must be the string &lsquo;<samp><span class="samp">&lt;foo&gt;</span></samp>&rsquo;.  If you, for example,
want to change the remote shell to be used on a remote machine, you
could apply

<pre class="lisp">     (add-to-list 'tramp-connection-properties
                  (list (regexp-quote "/ssh<!-- /@w -->:user<!-- /@w -->@randomhost.your.domain:")
                        "remote-shell" "/bin/ksh"))
     (add-to-list 'tramp-connection-properties
                  (list (regexp-quote "/ssh<!-- /@w -->:user<!-- /@w -->@randomhost.your.domain:")
                        "remote-shell-login" '("-")))
</pre>
   <p>This would overwrite the <code>tramp-remote-shell</code> and
<code>tramp-remote-shell-login</code> parameters in <code>tramp-methods</code>, to
be used on that remote host.

   <p><var>property</var> could also be any property found in the file
<code>tramp-persistency-file-name</code>.

   <p>A special property is &lsquo;<samp><span class="samp">busybox</span></samp>&rsquo;.  This must be set, if the remote
host runs a very restricted busybox as shell, which closes the
connection at will.  Since there is no reliable test for this,
<span class="sc">tramp</span> must be indicated this way.  Example:

<pre class="lisp">     (add-to-list 'tramp-connection-properties
                  (list (regexp-quote "/ssh<!-- /@w -->:user<!-- /@w -->@randomhost.your.domain:")
                        "busybox" t))
</pre>
   <div class="node">
<a name="Remote-programs"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Remote-shell-setup">Remote shell setup</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Predefined-connection-information">Predefined connection information</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Configuration">Configuration</a>

</div>

<h3 class="section">4.15 How <span class="sc">tramp</span> finds and uses programs on the remote host</h3>

<p><span class="sc">tramp</span> depends on a number of programs on the remote host in order to
function, including <samp><span class="command">ls</span></samp>, <samp><span class="command">test</span></samp>, <samp><span class="command">find</span></samp> and
<samp><span class="command">cat</span></samp>.

   <p>In addition to these required tools, there are various tools that may be
required based on the connection method.  See <a href="#Inline-methods">Inline methods</a> and
<a href="#External-methods">External methods</a> for details on these.

   <p>Certain other tools, such as <samp><span class="command">perl</span></samp> (or <samp><span class="command">perl5</span></samp>) and
<samp><span class="command">grep</span></samp> will be used if they can be found.  When they are
available, they are used to improve the performance and accuracy of
remote file access.

   <p><a name="index-tramp_002dremote_002dpath-148"></a><a name="index-tramp_002ddefault_002dremote_002dpath-149"></a><a name="index-tramp_002down_002dremote_002dpath-150"></a>

<div class="defun">
&mdash; User Option: <b>tramp-remote-path</b><var><a name="index-tramp_002dremote_002dpath-151"></a></var><br>
<blockquote><p>When <span class="sc">tramp</span> connects to the remote host, it searches for the
programs that it can use.  The custom option
<samp><span class="option">tramp-remote-path</span></samp> controls the directories searched on the
remote host.

        <p>By default, this is set to a reasonable set of defaults for most
hosts.  The symbol <code>tramp-default-remote-path</code> is a place
holder, it is replaced by the list of directories received via the
command <samp><span class="command">getconf PATH</span></samp> on your remote host.  For example,
on Debian GNU/Linux this is <samp><span class="file">/bin:/usr/bin</span></samp>, whereas on Solaris
this is <samp><span class="file">/usr/xpg4/bin:/usr/ccs/bin:/usr/bin:/opt/SUNWspro/bin</span></samp>. 
It is recommended to apply this symbol on top of
<samp><span class="option">tramp-remote-path</span></samp>.

        <p>It is possible, however, that your local (or remote ;) system
administrator has put the tools you want in some obscure local
directory.

        <p>In this case, you can still use them with <span class="sc">tramp</span>.  You simply
need to add code to your <samp><span class="file">.emacs</span></samp> to add the directory to the
remote path.  This will then be searched by <span class="sc">tramp</span> when you
connect and the software found.

        <p>To add a directory to the remote search path, you could use code such
as:

     <pre class="lisp">          (add-to-list 'tramp-remote-path "/usr/local/perl/bin")
</pre>
        <p>Another possibility is to reuse the path settings of your remote
account when you log in.  Usually, these settings are overwritten,
because they might not be useful for <span class="sc">tramp</span>.  The place holder
<code>tramp-own-remote-path</code> preserves these settings.  You can
activate it via

     <pre class="lisp">          (add-to-list 'tramp-remote-path 'tramp-own-remote-path)
</pre>
        </blockquote></div>

   <p><span class="sc">tramp</span> caches several information, like the Perl binary
location.  The changed remote search path wouldn't affect these
settings.  In order to force <span class="sc">tramp</span> to recompute these values,
you must exit Emacs, remove your persistency file
(see <a href="#Connection-caching">Connection caching</a>), and restart Emacs.

<div class="node">
<a name="Remote-shell-setup"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Android-shell-setup">Android shell setup</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Remote-programs">Remote programs</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Configuration">Configuration</a>

</div>

<h3 class="section">4.16 Remote shell setup hints</h3>

<p><a name="index-remote-shell-setup-152"></a><a name="index-g_t_0040file_007b_002eprofile_007d-file-153"></a><a name="index-g_t_0040file_007b_002elogin_007d-file-154"></a><a name="index-shell-init-files-155"></a>
As explained in the <a href="#Overview">Overview</a> section, <span class="sc">tramp</span> connects to the
remote host and talks to the shell it finds there.  Of course, when you
log in, the shell executes its init files.  Suppose your init file
requires you to enter the birth date of your mother; clearly <span class="sc">tramp</span>
does not know this and hence fails to log you in to that host.

   <p>There are different possible strategies for pursuing this problem.  One
strategy is to enable <span class="sc">tramp</span> to deal with all possible situations. 
This is a losing battle, since it is not possible to deal with
<em>all</em> situations.  The other strategy is to require you to set up
the remote host such that it behaves like <span class="sc">tramp</span> expects.  This might
be inconvenient because you have to invest a lot of effort into shell
setup before you can begin to use <span class="sc">tramp</span>.

   <p>The package, therefore, pursues a combined approach.  It tries to
figure out some of the more common setups, and only requires you to
avoid really exotic stuff.  For example, it looks through a list of
directories to find some programs on the remote host.  And also, it
knows that it is not obvious how to check whether a file exists, and
therefore it tries different possibilities.  (On some hosts and
shells, the command <samp><span class="command">test -e</span></samp> does the trick, on some hosts
the shell builtin doesn't work but the program <samp><span class="command">/usr/bin/test
-e</span></samp> or <samp><span class="command">/bin/test -e</span></samp> works.  And on still other hosts,
<samp><span class="command">ls -d</span></samp> is the right way to do this.)

   <p>Below you find a discussion of a few things that <span class="sc">tramp</span> does not deal
with, and that you therefore have to set up correctly.

     <dl>
<dt><var>shell-prompt-pattern</var><dd><a name="index-shell_002dprompt_002dpattern-156"></a>
After logging in to the remote host, <span class="sc">tramp</span> has to wait for the remote
shell startup to finish before it can send commands to the remote
shell.  The strategy here is to wait for the shell prompt.  In order to
recognize the shell prompt, the variable <code>shell-prompt-pattern</code> has
to be set correctly to recognize the shell prompt on the remote host.

     <p>Note that <span class="sc">tramp</span> requires the match for <code>shell-prompt-pattern</code>
to be at the end of the buffer.  Many people have something like the
following as the value for the variable: &lsquo;<samp><span class="samp">^[^&gt;$][&gt;$] *</span></samp>&rsquo;.  Now
suppose your shell prompt is <code>a &lt;b&gt; c $ </code>.  In this case,
<span class="sc">tramp</span> recognizes the <code>&gt;</code> character as the end of the prompt,
but it is not at the end of the buffer.

     <br><dt><var>tramp-shell-prompt-pattern</var><dd><a name="index-tramp_002dshell_002dprompt_002dpattern-157"></a>
This regular expression is used by <span class="sc">tramp</span> in the same way as
<code>shell-prompt-pattern</code>, to match prompts from the remote shell. 
This second variable exists because the prompt from the remote shell
might be different from the prompt from a local shell&mdash;after all,
the whole point of <span class="sc">tramp</span> is to log in to remote hosts as a
different user.  The default value of
<code>tramp-shell-prompt-pattern</code> is the same as the default value of
<code>shell-prompt-pattern</code>, which is reported to work well in many
circumstances.

     <br><dt><var>tramp-password-prompt-regexp</var><dd><a name="index-tramp_002dpassword_002dprompt_002dregexp-158"></a><a name="index-tramp_002dwrong_002dpasswd_002dregexp-159"></a>
During login, <span class="sc">tramp</span> might be forced to enter a password or a
passphrase.  The difference between both is that a password is
requested from the shell on the remote host, while a passphrase is
needed for accessing local authentication information, like your ssh
key.

     <p><var>tramp-password-prompt-regexp</var> handles the detection of such
requests for English environments.  When you use another localization
of your (local or remote) host, you might need to adapt this.  Example:

     <pre class="lisp">          (setq
            tramp-password-prompt-regexp
              (concat
                "^.*"
                (regexp-opt
                  '("passphrase" "Passphrase"
                    ;; English
                    "password" "Password"
                    ;; Deutsch
                    "passwort" "Passwort"
                    ;; Franais
                    "mot de passe" "Mot de passe") t)
                ".*:\0? *"))
</pre>
     <p>In parallel, it might also be necessary to adapt
<var>tramp-wrong-passwd-regexp</var>.

     <br><dt><samp><span class="command">tset</span></samp> and other questions<dd><a name="index-Unix-command-tset-160"></a><a name="index-tset-Unix-command-161"></a>
Some people invoke the <samp><span class="command">tset</span></samp> program from their shell startup
scripts which asks the user about the terminal type of the shell. 
Maybe some shells ask other questions when they are started. 
<span class="sc">tramp</span> does not know how to answer these questions.  There are
two approaches for dealing with this problem.  One approach is to take
care that the shell does not ask any questions when invoked from
<span class="sc">tramp</span>.  You can do this by checking the <samp><span class="env">TERM</span></samp>
environment variable, it will be set to <code>dumb</code> when connecting.

     <p><a name="index-tramp_002dterminal_002dtype-162"></a>The variable <code>tramp-terminal-type</code> can be used to change this value
to <code>dumb</code>.

     <p><a name="index-tramp_002dactions_002dbefore_002dshell-163"></a>The other approach is to teach <span class="sc">tramp</span> about these questions.  See
the variable <code>tramp-actions-before-shell</code>.  Example:

     <pre class="lisp">          (defconst my-tramp-prompt-regexp
            (concat (regexp-opt '("Enter the birth date of your mother:") t)
                    "\\s-*")
            "Regular expression matching my login prompt question.")
          
          (defun my-tramp-action (proc vec)
            "Enter \"19000101\" in order to give a correct answer."
            (save-window-excursion
              (with-current-buffer (tramp-get-connection-buffer vec)
                (tramp-message vec 6 "\n%s" (buffer-string))
                (tramp-send-string vec "19000101"))))
          
          (add-to-list 'tramp-actions-before-shell
                       '(my-tramp-prompt-regexp my-tramp-action))
</pre>
     <br><dt>Environment variables named like users in <samp><span class="file">.profile</span></samp><dd>
If you have a user named frumple and set the variable <samp><span class="env">FRUMPLE</span></samp> in
your shell environment, then this might cause trouble.  Maybe rename
the variable to <samp><span class="env">FRUMPLE_DIR</span></samp> or the like.

     <p>This weird effect was actually reported by a <span class="sc">tramp</span> user!

     <br><dt>Non-Bourne commands in <samp><span class="file">.profile</span></samp><dd>
After logging in to the remote host, <span class="sc">tramp</span> issues the command
<samp><span class="command">exec /bin/sh</span></samp>.  (Actually, the command is slightly
different.)  When <samp><span class="command">/bin/sh</span></samp> is executed, it reads some init
files, such as <samp><span class="file">~/.shrc</span></samp> or <samp><span class="file">~/.profile</span></samp>.

     <p>Now, some people have a login shell which is not <code>/bin/sh</code> but a
Bourne-ish shell such as bash or ksh.  Some of these people might put
their shell setup into the files <samp><span class="file">~/.shrc</span></samp> or <samp><span class="file">~/.profile</span></samp>. 
This way, it is possible for non-Bourne constructs to end up in those
files.  Then, <samp><span class="command">exec /bin/sh</span></samp> might cause the Bourne shell to
barf on those constructs.

     <p>As an example, imagine somebody putting <samp><span class="command">export FOO=bar</span></samp> into
the file <samp><span class="file">~/.profile</span></samp>.  The standard Bourne shell does not
understand this syntax and will emit a syntax error when it reaches
this line.

     <p>Another example is the tilde (<code>~</code>) character, say when adding
<samp><span class="file">~/bin</span></samp> to <samp><span class="env">PATH</span></samp>.  Many Bourne shells will not expand this
character, and since there is usually no directory whose name consists
of the single character tilde, strange things will happen.

     <p>What can you do about this?

     <p>Well, one possibility is to make sure that everything in
<samp><span class="file">~/.shrc</span></samp> and <samp><span class="file">~/.profile</span></samp> on all remote hosts is
Bourne-compatible.  In the above example, instead of <samp><span class="command">export
FOO=bar</span></samp>, you might use <samp><span class="command">FOO=bar; export FOO</span></samp> instead.

     <p>The other possibility is to put your non-Bourne shell setup into some
other files.  For example, bash reads the file <samp><span class="file">~/.bash_profile</span></samp>
instead of <samp><span class="file">~/.profile</span></samp>, if the former exists.  So bash
aficionados just rename their <samp><span class="file">~/.profile</span></samp> to
<samp><span class="file">~/.bash_profile</span></samp> on all remote hosts, and Bob's your uncle.

     <p>The <span class="sc">tramp</span> developers would like to circumvent this problem, so
if you have an idea about it, please tell us.  However, we are afraid
it is not that simple: before saying <samp><span class="command">exec /bin/sh</span></samp>,
<span class="sc">tramp</span> does not know which kind of shell it might be talking
to.  It could be a Bourne-ish shell like ksh or bash, or it could be a
csh derivative like tcsh, or it could be zsh, or even rc.  If the
shell is Bourne-ish already, then it might be prudent to omit the
<samp><span class="command">exec /bin/sh</span></samp> step.  But how to find out if the shell is
Bourne-ish?

     <br><dt>Interactive shell prompt<dd>
<span class="sc">tramp</span> redefines the shell prompt in order to parse the shell's
output robustly.  When calling an interactive shell by <kbd>M-x
shell</kbd>, this doesn't look nice.

     <p>You can redefine the shell prompt by checking the environment variable
<samp><span class="env">INSIDE_EMACS</span></samp>, which is set by <span class="sc">tramp</span>, in your startup
script <samp><span class="file">~/.emacs_SHELLNAME</span></samp>. <samp><span class="env">SHELLNAME</span></samp> might be the string
<code>bash</code> or similar, in case of doubt you could set it the
environment variable <samp><span class="env">ESHELL</span></samp> in your <samp><span class="file">.emacs</span></samp>:

     <pre class="lisp">          (setenv "ESHELL" "bash")
</pre>
     <p>Your file <samp><span class="file">~/.emacs_SHELLNAME</span></samp> could contain code like

     <pre class="example">          # Reset the prompt for remote Tramp shells.
          if [ "${INSIDE_EMACS/*tramp*/tramp}" == "tramp" ] ; then
             PS1="[\u@\h \w]$ "
          fi
</pre>
     <br><dt><samp><span class="command">busybox</span></samp> / <samp><span class="command">nc</span></samp><dd><a name="index-Unix-command-nc-164"></a><a name="index-nc-Unix-command-165"></a>
The <samp><span class="command">nc</span></samp> command will be used with the <samp><span class="option">nc</span></samp> method.  On
the remote host, a listener will be installed.  Unfortunately, the
command line syntax for this has been changed with the different
<samp><span class="command">busybox</span></samp> versions.  <span class="sc">tramp</span> uses the following syntax
(see <code>tramp-methods</code>):

     <pre class="example">          # nc -l -p 42
</pre>
     <p>If your remote <samp><span class="command">nc</span></samp> refuses to accept the <samp><span class="command">-p</span></samp>
parameter, you could overwrite the syntax with the following form:

     <pre class="lisp">          (add-to-list
           'tramp-connection-properties
           `(,(regexp-quote "192.168.0.1") "remote-copy-args" (("-l") ("%r"))))
</pre>
     <p class="noindent">with &lsquo;<samp><span class="samp">192.168.0.1</span></samp>&rsquo; being the IP address of your remote host
(see <a href="#Predefined-connection-information">Predefined connection information</a>).

   </dl>

<div class="node">
<a name="Android-shell-setup"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Auto_002dsave-and-Backup">Auto-save and Backup</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Remote-shell-setup">Remote shell setup</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Configuration">Configuration</a>

</div>

<h3 class="section">4.17 Android shell setup hints</h3>

<p><a name="index-android-shell-setup-166"></a>
Android devices use a restricted shell.  They can be accessed via the
<samp><span class="option">adb</span></samp> method.  However, this restricts the access to a USB
connection, and it requires the installation of the Android SDK on the
local host.

   <p>When an <samp><span class="command">sshd</span></samp> process runs on the Android device, like
provided by the <code>SSHDroid</code> app, any <samp><span class="option">ssh</span></samp>-based method can
be used.  This requires some special settings.

   <p>The default shell <code>/bin/sh</code> does not exist.  Instead, you shall
use just <code>sh</code>, which invokes the shell installed on the device. 
You can instruct <span class="sc">tramp</span> by this form:

<pre class="lisp">     (add-to-list 'tramp-connection-properties
     	     (list (regexp-quote "192.168.0.26") "remote-shell" "sh"))
</pre>
   <p class="noindent">with &lsquo;<samp><span class="samp">192.168.0.26</span></samp>&rsquo; being the IP address of your Android device
(see <a href="#Predefined-connection-information">Predefined connection information</a>).

   <p>The user settings for the <samp><span class="env">PATH</span></samp> environment variable must be
preserved.  It has also been reported, that the commands in
<samp><span class="file">/system/xbin</span></samp> are better suited than the ones in
<samp><span class="file">/system/bin</span></samp>.  Add these setting:

<pre class="lisp">     (add-to-list 'tramp-remote-path 'tramp-own-remote-path)
     (add-to-list 'tramp-remote-path "/system/xbin")
</pre>
   <p class="noindent">If the Android device is not &lsquo;<samp><span class="samp">rooted</span></samp>&rsquo;, you must give the shell a
writable directory for temporary files:

<pre class="lisp">     (add-to-list 'tramp-remote-process-environment "TMPDIR=$HOME")
</pre>
   <p class="noindent">Now you shall be able to open a remote connection with <kbd>C-x C-f
/ssh<!-- /@w -->:192.168.0.26#2222:</kbd>, given that <samp><span class="command">sshd</span></samp>
listens on port &lsquo;<samp><span class="samp">2222</span></samp>&rsquo;.

   <p>It is also recommended to add a corresponding entry to your
<samp><span class="file">~/.ssh/config</span></samp> for that connection, like

<pre class="example">     Host android
          HostName 192.168.0.26
          User root
          Port 2222
</pre>
   <p class="noindent">In this case, you must change the setting for the remote shell to

<pre class="lisp">     (add-to-list 'tramp-connection-properties
     	     (list (regexp-quote "android") "remote-shell" "sh"))
</pre>
   <p class="noindent">You would open the connection with <kbd>C-x C-f /ssh<!-- /@w -->:android:</kbd> then.

<div class="node">
<a name="Auto-save-and-Backup"></a>
<a name="Auto_002dsave-and-Backup"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Windows-setup-hints">Windows setup hints</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Android-shell-setup">Android shell setup</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Configuration">Configuration</a>

</div>

<h3 class="section">4.18 Auto-save and Backup configuration</h3>

<p><a name="index-auto_002dsave-167"></a><a name="index-backup-168"></a><a name="index-backup_002ddirectory_002dalist-169"></a>
Normally, Emacs writes backup files to the same directory
as the original files, but this behavior can be changed via the
variable
<code>backup-directory-alist</code>. 
In connection with <span class="sc">tramp</span>, this can have unexpected side
effects.  Suppose that you specify that all backups should go to the
directory <samp><span class="file">~/.emacs.d/backups/</span></samp>, and then you edit the file
<samp><span class="file">/su<!-- /@w -->:root<!-- /@w -->@localhost:/etc/secretfile</span></samp>.  The effect is
that the backup file will be owned by you and not by root, thus
possibly enabling others to see it even if they were not intended to
see it.

   <p>When
<code>backup-directory-alist</code>
is <code>nil</code> (the default), such problems do not occur.

   <p>Therefore, it is useful to set special values for <span class="sc">tramp</span>
files.  For example, the following statement effectively &ldquo;turns off&rdquo;
the effect of
<code>backup-directory-alist</code>
for <span class="sc">tramp</span> files:

<pre class="lisp">     (add-to-list 'backup-directory-alist
                  (cons tramp-file-name-regexp nil))
</pre>
   <p>It is also possible to disable backups depending on the used method. 
The following code disables backups for the <samp><span class="option">su</span></samp> and
<samp><span class="option">sudo</span></samp> methods:

<pre class="lisp">     (setq backup-enable-predicate
           (lambda (name)
             (and (normal-backup-enable-predicate name)
                  (not
                   (let ((method (file-remote-p name 'method)))
                     (when (stringp method)
                       (member method '("su" "sudo"))))))))
</pre>
   <p>Another possibility is to use the <span class="sc">tramp</span> variable
<code>tramp-backup-directory-alist</code>. 
This variable has the same meaning like
<code>backup-directory-alist</code>. 
If a <span class="sc">tramp</span> file is backed up, and DIRECTORY is an absolute
local file name, DIRECTORY is prepended with the <span class="sc">tramp</span> file
name prefix of the file to be backed up.

<p class="noindent">Example:

<pre class="lisp">     (add-to-list 'backup-directory-alist
                  (cons "." "~/.emacs.d/backups/"))
     (setq tramp-backup-directory-alist backup-directory-alist)
</pre>
   <p class="noindent">The backup file name of <samp><span class="file">/su<!-- /@w -->:root<!-- /@w -->@localhost:/etc/secretfile</span></samp> would be
<samp><span class="file">/su<!-- /@w -->:root<!-- /@w -->@localhost:~/.emacs.d/backups/!su:root@localhost:!etc!secretfile~</span></samp>

   <p>The same problem can happen with auto-saving files. 
The variable <code>auto-save-file-name-transforms</code> keeps information,
on which directory an auto-saved file should go.  By default, it is
initialized for <span class="sc">tramp</span> files to the local temporary directory.

   <p>On some versions of Emacs, namely the version built for
Debian GNU/Linux, the variable <code>auto-save-file-name-transforms</code>
contains the directory where Emacs was built.  A
workaround is to manually set the variable to a sane value.

   <p>If auto-saved files should go into the same directory as the original
files, <code>auto-save-file-name-transforms</code> should be set to <code>nil</code>.

   <p>Another possibility is to set the variable
<code>tramp-auto-save-directory</code> to a proper value.

<div class="node">
<a name="Windows-setup-hints"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Auto_002dsave-and-Backup">Auto-save and Backup</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Configuration">Configuration</a>

</div>

<h3 class="section">4.19 Issues with Cygwin ssh</h3>

<p><a name="index-Cygwin_002c-issues-170"></a>
This section needs a lot of work!  Please help.

   <p><a name="index-method-sshx-with-Cygwin-171"></a><a name="index-sshx-method-with-Cygwin-172"></a>The recent Cygwin installation of <samp><span class="command">ssh</span></samp> works only with a
Cygwinized Emacs.  You can check it by typing <kbd>M-x
eshell</kbd>, and starting <kbd>ssh test.host</kbd>.  The problem is evident
if you see a message like this:

<pre class="example">     Pseudo-terminal will not be allocated because stdin is not a terminal.
</pre>
   <p>Older <samp><span class="command">ssh</span></samp> versions of Cygwin are told to cooperate with
<span class="sc">tramp</span> selecting <samp><span class="option">sshx</span></samp> as the connection method.  You
can find information about setting up Cygwin in their FAQ at
<a href="http://cygwin.com/faq/">http://cygwin.com/faq/</a>.

   <p><a name="index-method-scpx-with-Cygwin-173"></a><a name="index-scpx-method-with-Cygwin-174"></a>If you wish to use the <samp><span class="option">scpx</span></samp> connection method, then you might
have the problem that Emacs calls <samp><span class="command">scp</span></samp> with a
Windows file name such as <code>c:/foo</code>.  The Cygwin version of
<samp><span class="command">scp</span></samp> does not know about Windows file names and interprets
this as a remote file name on the host <code>c</code>.

   <p>One possible workaround is to write a wrapper script for <samp><span class="option">scp</span></samp>
which converts the Windows file name to a Cygwinized file name.

   <p><a name="index-Cygwin-and-ssh_002dagent-175"></a><a name="index-SSH_005fAUTH_005fSOCK-and-_0040value_007bemacsname_007d-on-Windows-176"></a>If you want to use either <samp><span class="option">ssh</span></samp> based method on Windows, then
you might encounter problems with <samp><span class="command">ssh-agent</span></samp>.  Using this
program, you can avoid typing the pass-phrase every time you log in. 
However, if you start Emacs from a desktop shortcut, then
the environment variable <samp><span class="env">SSH_AUTH_SOCK</span></samp> is not set and so
Emacs and thus <span class="sc">tramp</span> and thus <samp><span class="command">ssh</span></samp> and
<samp><span class="command">scp</span></samp> started from <span class="sc">tramp</span> cannot communicate with
<samp><span class="command">ssh-agent</span></samp>.  It works better to start Emacs from
the shell.

   <p>If anyone knows how to start <samp><span class="command">ssh-agent</span></samp> under Windows in such a
way that desktop shortcuts can profit, please holler.  I don't really
know anything at all about Windows<small class="dots">...</small>

<div class="node">
<a name="Usage"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Bug-Reports">Bug Reports</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Configuration">Configuration</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">5 Using <span class="sc">tramp</span></h2>

<p><a name="index-using-_0040value_007btramp_007d-177"></a>
Once you have installed <span class="sc">tramp</span> it will operate fairly
transparently.  You will be able to access files on any remote host
that you can log in to as though they were local.

   <p>Files are specified to <span class="sc">tramp</span> using a formalized syntax specifying the
details of the system to connect to.  This is similar to the syntax used
by the Ange-FTP package.

   <p><a name="index-type_002dahead-178"></a>Something that might happen which surprises you is that
Emacs remembers all your keystrokes, so if you see a
password prompt from Emacs, say, and hit <kbd>&lt;RET&gt;</kbd>
twice instead of once, then the second keystroke will be processed by
Emacs after <span class="sc">tramp</span> has done its thing.  Why, this
type-ahead is normal behavior, you say.  Right you are, but be aware
that opening a remote file might take quite a while, maybe half a
minute when a connection needs to be opened.  Maybe after half a
minute you have already forgotten that you hit that key!

<ul class="menu">
<li><a accesskey="1" href="#File-name-Syntax">File name Syntax</a>:             <span class="sc">tramp</span> file name conventions. 
<li><a accesskey="2" href="#File-name-completion">File name completion</a>:         File name completion. 
<li><a accesskey="3" href="#Ad_002dhoc-multi_002dhops">Ad-hoc multi-hops</a>:            Declaring multiple hops in the file name. 
<li><a accesskey="4" href="#Remote-processes">Remote processes</a>:             Integration with other Emacs packages. 
<li><a accesskey="5" href="#Cleanup-remote-connections">Cleanup remote connections</a>:   Cleanup remote connections. 
</ul>

<div class="node">
<a name="File-name-Syntax"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#File-name-completion">File name completion</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Usage">Usage</a>

</div>

<h3 class="section">5.1 <span class="sc">tramp</span> file name conventions</h3>

<p><a name="index-file-name-syntax-179"></a><a name="index-file-name-examples-180"></a>
To access the file <var>localname</var> on the remote host <var>host</var>
you would specify the file name <samp><span class="file">/host:localname</span></samp>.  This will connect to <var>host</var> and transfer the file
using the default method.  See <a href="#Default-Method">Default Method</a>.

   <p>Some examples of <span class="sc">tramp</span> file names are shown below.

     <dl>
<dt><samp><span class="file">/melancholia:.emacs</span></samp><dd>Edit the file <samp><span class="file">.emacs</span></samp> in your home directory on the host
<code>melancholia</code>.

     <br><dt><samp><span class="file">/melancholia.danann.net:.emacs</span></samp><dd>This edits the same file, using the fully qualified domain name of
the host.

     <br><dt><samp><span class="file">/melancholia:~/.emacs</span></samp><dd>This also edits the same file; the <samp><span class="file">~</span></samp> is expanded to your
home directory on the remote host, just like it is locally.

     <br><dt><samp><span class="file">/melancholia:~daniel/.emacs</span></samp><dd>This edits the file <samp><span class="file">.emacs</span></samp> in the home directory of the user
<code>daniel</code> on the host <code>melancholia</code>.  The <samp><span class="file">~&lt;user&gt;</span></samp>
construct is expanded to the home directory of that user on the remote
host.

     <br><dt><samp><span class="file">/melancholia:/etc/squid.conf</span></samp><dd>This edits the file <samp><span class="file">/etc/squid.conf</span></samp> on the host
<code>melancholia</code>.

   </dl>

   <p><var>host</var> can also be an IPv4 or IPv6 address, like in
<samp><span class="file">/127.0.0.1:.emacs</span></samp> or <samp><span class="file">/[::1]:.emacs</span></samp>. 
For syntactical reasons, IPv6 addresses must be embedded in square
brackets <samp><span class="file">[</span></samp> and <samp><span class="file">]</span></samp>.

   <p>Unless you specify a different name to use, <span class="sc">tramp</span> will use the
current local user name as the remote user name to log in with.  If you
need to log in as a different user, you can specify the user name as
part of the file name.

   <p>To log in to the remote host as a specific user, you use the syntax
<samp><span class="file">/user<!-- /@w -->@host:path/to.file</span></samp>.  That means that
connecting to <code>melancholia</code> as <code>daniel</code> and editing
<samp><span class="file">.emacs</span></samp> in your home directory you would specify
<samp><span class="file">/daniel<!-- /@w -->@melancholia:.emacs</span></samp>.

   <p>It is also possible to specify other file transfer methods
(see <a href="#Inline-methods">Inline methods</a>, see <a href="#External-methods">External methods</a>) as part of the
file name. 
This is done by putting the method before the user and host name, as
in <samp><span class="file">/</span><var>method</var><span class="file">:</span></samp> (Note the
trailing colon). 
The user, host and file specification remain the same.

   <p>So, to connect to the host <code>melancholia</code> as <code>daniel</code>,
using the <samp><span class="option">ssh</span></samp> method to transfer files, and edit
<samp><span class="file">.emacs</span></samp> in my home directory I would specify the file name
<samp><span class="file">/ssh<!-- /@w -->:daniel<!-- /@w -->@melancholia:.emacs</span></samp>.

   <p>A remote file name containing a host name only, which is equal to a
method name, is not allowed.  If such a host name is used, it must
always be preceded by an explicit method name, like
<samp><span class="file">/ssh:ssh:</span></samp>.

   <p>Finally, for some methods it is possible to specify a different port
number than the default one, given by the method.  This is specified
by adding <samp><span class="file">#&lt;port&gt;</span></samp> to the host name, like in <samp><span class="file">/ssh<!-- /@w -->:daniel<!-- /@w -->@melancholia#42:.emacs</span></samp>.

<div class="node">
<a name="File-name-completion"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Ad_002dhoc-multi_002dhops">Ad-hoc multi-hops</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#File-name-Syntax">File name Syntax</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Usage">Usage</a>

</div>

<h3 class="section">5.2 File name completion</h3>

<p><a name="index-file-name-completion-181"></a>
File name completion works with <span class="sc">tramp</span> for completion of method
names, of user names and of host names as well as for completion of
file names on remote hosts. 
In order to enable this, partial completion must be activated in your
<samp><span class="file">.emacs</span></samp>.

   <p>If you, for example, type <kbd>C-x C-f /t
&lt;TAB&gt;</kbd>, <span class="sc">tramp</span> might give you as result the choice for

<pre class="example">     <!-- @multitable {@trampfn{telnet, , melancholia.danann.net,}} {@trampfn{telnet, , 192.168.0.1,}} -->
     <p><table summary=""><tr align="left"><td valign="top" width="50%">telnet: </td><td valign="top" width="50%">tmp/
     <br></td></tr><tr align="left"><td valign="top" width="50%">toto: </td><td valign="top" width="50%">
     <br></td></tr></table>
</pre>
   <p>&lsquo;<samp><span class="samp">telnet:</span></samp>&rsquo;
is a possible completion for the respective method,
&lsquo;<samp><span class="samp">tmp/</span></samp>&rsquo; stands for the directory <samp><span class="file">/tmp</span></samp> on your local host,
and &lsquo;<samp><span class="samp">toto:</span></samp>&rsquo;
might be a host <span class="sc">tramp</span> has detected in your <samp><span class="file">~/.ssh/known_hosts</span></samp>
file (given you're using default method <samp><span class="option">ssh</span></samp>).

   <p>If you go on to type <kbd>e &lt;TAB&gt;</kbd>, the minibuffer is completed to
&lsquo;<samp><span class="samp">/telnet:</span></samp>&rsquo;. 
Next <kbd>&lt;TAB&gt;</kbd> brings you all host names <span class="sc">tramp</span> detects in
your <samp><span class="file">/etc/hosts</span></samp> file, let's say

<pre class="example">
     <p><table summary=""><!-- @multitable {@trampfn{telnet, , melancholia.danann.net,}} {@trampfn{telnet, , 192.168.0.1,}} -->
     <tr align="left"><td valign="top" width="50%">/telnet<!-- /@w -->:127.0.0.1: </td><td valign="top" width="50%">/telnet<!-- /@w -->:192.168.0.1:
     <br></td></tr><tr align="left"><td valign="top" width="50%">/telnet<!-- /@w -->:[::1]: </td><td valign="top" width="50%">/telnet<!-- /@w -->:localhost:
     <br></td></tr><tr align="left"><td valign="top" width="50%">/telnet<!-- /@w -->:melancholia.danann.net: </td><td valign="top" width="50%">/telnet<!-- /@w -->:melancholia:
     <br></td></tr></table>
</pre>
   <p>Now you can choose the desired host, and you can continue to
complete file names on that host.

   <p>If the configuration files (see <a href="#Customizing-Completion">Customizing Completion</a>), which
<span class="sc">tramp</span> uses for analysis of completion, offer user names, those user
names will be taken into account as well.

   <p>Remote hosts which have been visited in the past and kept
persistently (see <a href="#Connection-caching">Connection caching</a>) will be offered too.

   <p>Once the remote host identification is completed, it comes to
file name completion on the remote host.  This works pretty much like
for files on the local host, with the exception that minibuffer
killing via a double-slash works only on the file name part, except
that file name part starts with <samp><span class="file">//</span></samp>. 
A triple-slash stands for the default behavior.

<p class="noindent">Example:

<pre class="example">     <kbd>C-x C-f /telnet<!-- /@w -->:melancholia:/usr/local/bin//etc &lt;TAB&gt;</kbd>
          -| /telnet<!-- /@w -->:melancholia:/etc
     
     <kbd>C-x C-f /telnet<!-- /@w -->:melancholia://etc &lt;TAB&gt;</kbd>
          -| /etc
     
     <kbd>C-x C-f /telnet<!-- /@w -->:melancholia:/usr/local/bin///etc &lt;TAB&gt;</kbd>
          -| /etc
     
</pre>
   <p>A remote directory might have changed its contents out of
Emacs control, for example by creation or deletion of
files by other processes.  Therefore, during file name completion, the
remote directory contents are reread regularly in order to detect such
changes, which would be invisible otherwise (see <a href="#Connection-caching">Connection caching</a>).

   <p><a name="index-tramp_002dcompletion_002dreread_002ddirectory_002dtimeout-182"></a>

<div class="defun">
&mdash; User Option: <b>tramp-completion-reread-directory-timeout</b><var><a name="index-tramp_002dcompletion_002dreread_002ddirectory_002dtimeout-183"></a></var><br>
<blockquote><p>This custom option defines the number of seconds since last remote
command before rereading a directory contents.  A value of 0 would
require an immediate reread during file name completion, <code>nil</code>
means to use always cached values for the directory contents. 
</p></blockquote></div>

<div class="node">
<a name="Ad-hoc-multi-hops"></a>
<a name="Ad_002dhoc-multi_002dhops"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Remote-processes">Remote processes</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#File-name-completion">File name completion</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Usage">Usage</a>

</div>

<h3 class="section">5.3 Declaring multiple hops in the file name</h3>

<p><a name="index-multi_002dhop_002c-ad_002dhoc-184"></a><a name="index-proxy-hosts_002c-ad_002dhoc-185"></a>
Multiple hops are configured with the variable
<code>tramp-default-proxies-alist</code> (see <a href="#Multi_002dhops">Multi-hops</a>).  However,
sometimes it is desirable to reach a remote host immediately, without
configuration changes.  This can be reached by an ad-hoc specification
of the proxies.

   <p>A proxy looks like a remote file name specification without the local
file name part.  It is prepended to the target remote file name,
separated by &lsquo;<samp><span class="samp">|</span></samp>&rsquo;.  As an example, a remote file on
&lsquo;<samp><span class="samp">you@remotehost</span></samp>&rsquo;, passing the proxy &lsquo;<samp><span class="samp">bird@bastion</span></samp>&rsquo;, could
be opened by

<pre class="example">     <!-- @kbd{C-x C-f @trampfn{ssh@value{postfixhop}bird@@bastion|ssh, you, -->
     <!-- remotehost, /path}} -->
     <kbd>C-x C-f /ssh:bird@bastion|ssh:you@remotehost:/path</kbd>
</pre>
   <p>Multiple hops can be cascaded, separating all proxies by &lsquo;<samp><span class="samp">|</span></samp>&rsquo;. 
The proxies can also contain the patterns <code>%h</code> or <code>%u</code>.

   <p>The ad-hoc definition is added on the fly to
<code>tramp-default-proxies-alist</code>.  Therefore, during the lifetime of
the Emacs session it is not necessary to enter this ad-hoc
specification, again.  The remote file name &lsquo;<samp><span class="samp">/ssh<!-- /@w -->:you<!-- /@w -->@remotehost:/path</span></samp>&rsquo; would be sufficient from now on.

   <p><a name="index-tramp_002dsave_002dad_002dhoc_002dproxies-186"></a>

<div class="defun">
&mdash; User Option: <b>tramp-save-ad-hoc-proxies</b><var><a name="index-tramp_002dsave_002dad_002dhoc_002dproxies-187"></a></var><br>
<blockquote><p>This custom option controls whether ad-hoc definitions are kept
persistently in <samp><span class="option">tramp-default-proxies-alist</span></samp>.  That means,
those definitions are available also for future Emacs
sessions. 
</p></blockquote></div>

<div class="node">
<a name="Remote-processes"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Cleanup-remote-connections">Cleanup remote connections</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Ad_002dhoc-multi_002dhops">Ad-hoc multi-hops</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Usage">Usage</a>

</div>

<h3 class="section">5.4 Integration with other Emacs packages</h3>

<p><a name="index-compile-188"></a><a name="index-recompile-189"></a>
<span class="sc">tramp</span> supports running processes on a remote host.  This
allows to exploit Emacs packages without modification for
remote file names.  It does not work for the <samp><span class="option">ftp</span></samp> method. 
Association of a pty, as specified in <code>start-file-process</code>, is
not supported.

   <p><code>process-file</code> and <code>start-file-process</code> work on the remote
host when the variable <code>default-directory</code> is remote:

<pre class="lisp">     (let ((default-directory "/ssh:remote.host:"))
       (start-file-process "grep" (get-buffer-create "*grep*")
                           "/bin/sh" "-c" "grep -e tramp *"))
</pre>
   <p>If the remote host is mounted via GVFS (see <a href="#GVFS-based-methods">GVFS based methods</a>),
the remote filesystem is mounted locally.  Therefore, there are no
remote processes; all processes run still locally on your host with
an adapted <code>default-directory</code>.  This section does not apply for
such connection methods.

   <p>Remote processes are started when a corresponding command is executed
from a buffer belonging to a remote file or directory.  Up to now, the
packages <samp><span class="file">compile.el</span></samp> (commands like <code>compile</code> and
<code>grep</code>) and <samp><span class="file">gud.el</span></samp> (<code>gdb</code> or <code>perldb</code>) have been
integrated.  Integration of further packages is planned, any help for
this is welcome!

   <p>When your program is not found in the default search path
<span class="sc">tramp</span> sets on the remote host, you should either use an
absolute path, or extend <code>tramp-remote-path</code> (see <a href="#Remote-programs">Remote programs</a>):

<pre class="lisp">     (add-to-list 'tramp-remote-path "~/bin")
     (add-to-list 'tramp-remote-path "/appli/pub/bin")
</pre>
   <p>The environment for your program can be adapted by customizing
<code>tramp-remote-process-environment</code>.  This variable is a list of
strings.  It is structured like <code>process-environment</code>.  Each
element is a string of the form &lsquo;<samp><span class="samp">ENVVARNAME=VALUE</span></samp>&rsquo;.  An entry
&lsquo;<samp><span class="samp">ENVVARNAME=</span></samp>&rsquo; disables the corresponding environment variable,
which might have been set in your init file like <samp><span class="file">~/.profile</span></samp>.

<p class="noindent">Adding an entry can be performed via <code>add-to-list</code>:

<pre class="lisp">     (add-to-list 'tramp-remote-process-environment "JAVA_HOME=/opt/java")
</pre>
   <p>Changing or removing an existing entry is not encouraged.  The default
values are chosen for proper <span class="sc">tramp</span> work.  Nevertheless, if for
example a paranoid system administrator disallows changing the
<samp><span class="env">HISTORY</span></samp> environment variable, you can customize
<code>tramp-remote-process-environment</code>, or you can apply the
following code in your <samp><span class="file">.emacs</span></samp>:

<pre class="lisp">     (let ((process-environment tramp-remote-process-environment))
       (setenv "HISTORY" nil)
       (setq tramp-remote-process-environment process-environment))
</pre>
   <p>When running <code>process-file</code> or <code>start-file-process</code> on a
remote <code>default-directory</code>, the default settings in
<code>process-environment</code> are not used as it is the case for local
processes.  However, if you need environment variables other than set
in <code>tramp-remote-process-environment</code>, you can let-bind them to
<code>process-environment</code>. Only those variables will be set then:

<pre class="lisp">     (let ((process-environment (cons "HGPLAIN=1" process-environment)))
       (process-file ...))
</pre>
   <p>This works only for environment variables which are not set already in
<code>process-environment</code>.

   <p>If you use other Emacs packages which do not run
out-of-the-box on a remote host, please let us know.  We will try to
integrate them as well.  See <a href="#Bug-Reports">Bug Reports</a>.

<h4 class="subsection">5.4.1 Running remote programs that create local X11 windows</h4>

<p>If you want to run a remote program, which shall connect the X11
server you are using with your local host, you can set the
<samp><span class="env">DISPLAY</span></samp> environment variable on the remote host:

<pre class="lisp">     (add-to-list 'tramp-remote-process-environment
                  (format "DISPLAY=%s" (getenv "DISPLAY")))
</pre>
   <p class="noindent"><code>(getenv "DISPLAY")</code> shall return a string containing a host
name, which can be interpreted on the remote host; otherwise you might
use a fixed host name.  Strings like <code>:0</code> cannot be used properly
on the remote host.

   <p>Another trick might be that you put <code>ForwardX11 yes</code> or
<code>ForwardX11Trusted yes</code> to your <samp><span class="file">~/.ssh/config</span></samp> file for
that host.

<h4 class="subsection">5.4.2 Running <code>shell</code> on a remote host</h4>

<p><a name="index-shell-190"></a>
Calling <kbd>M-x shell</kbd> in a buffer related to a remote host runs the
local shell as defined in <samp><span class="option">shell-file-name</span></samp>.  This might be
also a valid file name for a shell to be applied on the remote host,
but it will fail at least when your local and remote hosts belong to
different system types, like &lsquo;<samp><span class="samp">windows-nt</span></samp>&rsquo; and &lsquo;<samp><span class="samp">gnu/linux</span></samp>&rsquo;.

   <p>You must set the variable <samp><span class="option">explicit-shell-file-name</span></samp> to the
shell file name on the remote host, in order to start that shell on
the remote host.

   <p>Starting with Emacs 24 this won't be necessary, if you call
<code>shell</code> interactively.  You will be asked for the remote shell
file name, if you are on a remote buffer, and if
<samp><span class="option">explicit-shell-file-name</span></samp> is equal to <code>nil</code>.

<h4 class="subsection">5.4.3 Running <code>shell-command</code> on a remote host</h4>

<p><a name="index-shell_002dcommand-191"></a>
<code>shell-command</code> allows to execute commands in a shell, either
synchronously, either asynchronously.  This works also on remote
hosts.  Example:

<pre class="example">     <kbd>C-x C-f /sudo<!-- /@w -->:: &lt;RET&gt;</kbd>
     <kbd>M-! tail -f /var/log/syslog.log &amp; &lt;RET&gt;</kbd>
</pre>
   <p>You will see the buffer <samp><span class="file">*Async Shell Command*</span></samp>, containing the
continuous output of the <samp><span class="command">tail</span></samp> command.

   <p>A similar behavior can be reached by <kbd>M-x auto-revert-tail-mode</kbd>,
if available.

<h4 class="subsection">5.4.4 Running <code>eshell</code> on a remote host</h4>

<p><a name="index-eshell-192"></a>
<span class="sc">tramp</span> is integrated into <samp><span class="file">eshell.el</span></samp>.  That is, you can
open an interactive shell on your remote host, and run commands there. 
After you have started <kbd>M-x eshell</kbd>, you could perform commands
like this:

<pre class="example">     <b>~ $</b> cd /sudo<!-- /@w -->::/etc &lt;RET&gt;
     <b>/sudo<!-- /@w -->:root<!-- /@w -->@host:/etc $</b> hostname &lt;RET&gt;
     host
     <b>/sudo<!-- /@w -->:root<!-- /@w -->@host:/etc $</b> id &lt;RET&gt;
     uid=0(root) gid=0(root) groups=0(root)
     <b>/sudo<!-- /@w -->:root<!-- /@w -->@host:/etc $</b> find-file shadow &lt;RET&gt;
     #&lt;buffer shadow&gt;
     <b>/sudo<!-- /@w -->:root<!-- /@w -->@host:/etc $</b>
</pre>
   <p>Since Emacs 23.2, <code>eshell</code> has also an own
implementation of the <code>su</code> and <code>sudo</code> commands.  Both
commands change the default directory of the <samp><span class="file">*eshell*</span></samp> buffer to
the value related to the user the command has switched to.  This works
even on remote hosts, adding silently a corresponding entry to the
variable <code>tramp-default-proxies-alist</code> (see <a href="#Multi_002dhops">Multi-hops</a>):

<pre class="example">     <b>~ $</b> cd /ssh<!-- /@w -->:user<!-- /@w -->@remotehost:/etc &lt;RET&gt;
     <b>/ssh<!-- /@w -->:user<!-- /@w -->@remotehost:/etc $</b> find-file shadow &lt;RET&gt;
     File is not readable: /ssh<!-- /@w -->:user<!-- /@w -->@remotehost:/etc/shadow
     <b>/ssh<!-- /@w -->:user<!-- /@w -->@remotehost:/etc $</b> sudo find-file shadow &lt;RET&gt;
     #&lt;buffer shadow&gt;
     
     <b>/ssh<!-- /@w -->:user<!-- /@w -->@remotehost:/etc $</b> su - &lt;RET&gt;
     <b>/su<!-- /@w -->:root<!-- /@w -->@remotehost:/root $</b> id &lt;RET&gt;
     uid=0(root) gid=0(root) groups=0(root)
     <b>/su<!-- /@w -->:root<!-- /@w -->@remotehost:/root $</b>
</pre>
   <p><a name="Running-a-debugger-on-a-remote-host"></a>

<h4 class="subsection">5.4.5 Running a debugger on a remote host</h4>

<p><a name="index-gud-193"></a><a name="index-gdb-194"></a><a name="index-perldb-195"></a>
<samp><span class="file">gud.el</span></samp> offers a unified interface to several symbolic
debuggers
With <span class="sc">tramp</span>, it is possible to debug programs on
remote hosts.  You can call <code>gdb</code> with a remote file name:

<pre class="example">     <kbd>M-x gdb &lt;RET&gt;</kbd>
     <b>Run gdb (like this):</b> gdb --annotate=3 /ssh<!-- /@w -->:host:~/myprog &lt;RET&gt;
</pre>
   <p>The file name can also be relative to a remote default directory. 
Given you are in a buffer that belongs to the remote directory
/ssh<!-- /@w -->:host:/home/user, you could call

<pre class="example">     <kbd>M-x perldb &lt;RET&gt;</kbd>
     <b>Run perldb (like this):</b> perl -d myprog.pl &lt;RET&gt;
</pre>
   <p>It is not possible to use just the absolute local part of a remote
file name as program to debug, like <kbd>perl -d
/home/user/myprog.pl</kbd>, though.

   <p>Arguments of the program to be debugged are taken literally.  That
means, file names as arguments must be given as ordinary relative or
absolute file names, without any remote specification.

<h4 class="subsection">5.4.6 Running remote processes on Windows hosts</h4>

<p><a name="index-winexe-196"></a><a name="index-powershell-197"></a>
With the help of the <samp><span class="command">winexe</span></samp> it is possible tu run processes
on a remote Windows host.  <span class="sc">tramp</span> has implemented this for
<code>process-file</code> and <code>start-file-process</code>.

   <p>The variable <code>tramp-smb-winexe-program</code> must contain the file
name of your local <samp><span class="command">winexe</span></samp> command.  On the remote host,
Powershell V2.0 must be installed; it is used to run the remote
process.

   <p>In order to open a remote shell on the Windows host via <kbd>M-x
shell</kbd>, you must set the variables <samp><span class="option">explicit-shell-file-name</span></samp>
and <samp><span class="option">explicit-*-args</span></samp>.  If you want, for example, run
<samp><span class="command">cmd</span></samp>, you must set:

<pre class="lisp">     (setq explicit-shell-file-name "cmd"
           explicit-cmd-args '("/q"))
</pre>
   <p class="noindent">In case of running <samp><span class="command">powershell</span></samp> as remote shell, the settings are

<pre class="lisp">     (setq explicit-shell-file-name "powershell"
           explicit-powershell-args '("-file" "-"))
</pre>
   <div class="node">
<a name="Cleanup-remote-connections"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Remote-processes">Remote processes</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Usage">Usage</a>

</div>

<h3 class="section">5.5 Cleanup remote connections</h3>

<p><a name="index-cleanup-198"></a>
Sometimes it is useful to cleanup remote connections.  The following
commands support this.

<div class="defun">
&mdash; Command: <b>tramp-cleanup-connection</b><var> vec<a name="index-tramp_002dcleanup_002dconnection-199"></a></var><br>
<blockquote><p>This command flushes all connection related objects.  <samp><span class="option">vec</span></samp> is
the internal representation of a remote connection.  Called
interactively, the command offers all active remote connections in the
minibuffer as remote file name prefix like <samp><span class="file">/method<!-- /@w -->:user<!-- /@w -->@host:</span></samp>.  The cleanup includes password cache (see <a href="#Password-handling">Password handling</a>), file cache, connection cache (see <a href="#Connection-caching">Connection caching</a>),
connection buffers. 
</p></blockquote></div>

<div class="defun">
&mdash; Command: <b>tramp-cleanup-this-connection</b><var><a name="index-tramp_002dcleanup_002dthis_002dconnection-200"></a></var><br>
<blockquote><p>This command flushes all objects of the current buffer's remote
connection.  The same objects are removed as in
<code>tramp-cleanup-connection</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Command: <b>tramp-cleanup-all-connections</b><var><a name="index-tramp_002dcleanup_002dall_002dconnections-201"></a></var><br>
<blockquote><p>This command flushes objects for all active remote connections.  The
same objects are removed as in <code>tramp-cleanup-connection</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Command: <b>tramp-cleanup-all-buffers</b><var><a name="index-tramp_002dcleanup_002dall_002dbuffers-202"></a></var><br>
<blockquote><p>Like in <code>tramp-cleanup-all-connections</code>, all remote connections
are cleaned up.  Additionally all buffers, which are related to a
remote connection, are killed. 
</p></blockquote></div>

<div class="node">
<a name="Bug-Reports"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Frequently-Asked-Questions">Frequently Asked Questions</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Usage">Usage</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">6 Reporting Bugs and Problems</h2>

<p><a name="index-bug-reports-203"></a>
Bugs and problems with <span class="sc">tramp</span> are actively worked on by the
development team.  Feature requests and suggestions are also more than
welcome.

   <p>The <span class="sc">tramp</span> mailing list is a great place to get information on
working with <span class="sc">tramp</span>, solving problems and general discussion
and advice on topics relating to the package.  It is moderated so
non-subscribers can post but messages will be delayed, possibly up to
48 hours (or longer in case of holidays), until the moderator approves
your message.

   <p>The mailing list is at <a href="mailto:tramp-devel@gnu.org">tramp-devel@gnu.org</a>.  Messages sent to
this address go to all the subscribers.  This is <em>not</em> the address
to send subscription requests to.

   <p>Subscribing to the list is performed via
<a href="http://lists.gnu.org/mailman/listinfo/tramp-devel/">the <span class="sc">tramp</span> Mail Subscription Page</a>.

   <p><a name="index-tramp_002dbug-204"></a>To report a bug in <span class="sc">tramp</span>, you should execute <kbd>M-x
tramp-bug</kbd>.  This will automatically generate a buffer with the details
of your system and <span class="sc">tramp</span> version.

   <p>When submitting a bug report, please try to describe in excruciating
detail the steps required to reproduce the problem, the setup of the
remote host and any special conditions that exist.  You should also
check that your problem is not described already in See <a href="#Frequently-Asked-Questions">Frequently Asked Questions</a>.

   <p>If you can identify a minimal test case that reproduces the problem,
include that with your bug report.  This will make it much easier for
the development team to analyze and correct the problem.

   <p>Sometimes, there might be also problems due to Tramp caches.  Flush
all caches before running the test, <a href="#Cleanup-remote-connections">Cleanup remote connections</a>.

   <p>Before reporting the bug, you should set the verbosity level to 6
(see <a href="#Traces-and-Profiles">Traces</a>) in the <samp><span class="file">~/.emacs</span></samp> file and
repeat the bug.  Then, include the contents of the <samp><span class="file">*tramp/foo*</span></samp>
and <samp><span class="file">*debug tramp/foo*</span></samp> buffers in your bug report.  A verbosity
level greater than 6 will produce a very huge debug buffer, which is
mostly not necessary for the analysis.

   <p>Please be aware that, with a verbosity level of 6 or greater, the
contents of files and directories will be included in the debug
buffer.  Passwords you've typed will never be included there.

<div class="node">
<a name="Frequently-Asked-Questions"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Files-directories-and-localnames">Files directories and localnames</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Bug-Reports">Bug Reports</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">7 Frequently Asked Questions</h2>

<p><a name="index-frequently-asked-questions-205"></a><a name="index-FAQ-206"></a>
     <ul>
<li>Where can I get the latest <span class="sc">tramp</span>?

     <p><span class="sc">tramp</span> is available under the URL below.

     <p class="noindent"><a href="ftp://ftp.gnu.org/gnu/tramp/">ftp://ftp.gnu.org/gnu/tramp/</a>

     <p class="noindent">There is also a Savannah project page.

     <p class="noindent"><a href="http://savannah.gnu.org/projects/tramp/">http://savannah.gnu.org/projects/tramp/</a>

     <li>Which systems does it work on?

     <p>The package has been used successfully on Emacs 22, Emacs 23, Emacs
24, XEmacs 21 (starting with 21.4), and SXEmacs 22.

     <p>The package was intended to work on Unix, and it really expects a
Unix-like system on the remote end (except the <samp><span class="option">smb</span></samp> method),
but some people seemed to have some success getting it to work on MS
Windows XP/Vista/7 Emacs.

     <li>How could I speed up <span class="sc">tramp</span>?

     <p>In the backstage, <span class="sc">tramp</span> needs a lot of operations on the
remote host.  The time for transferring data from and to the remote
host as well as the time needed to perform the operations there count. 
In order to speed up <span class="sc">tramp</span>, one could either try to avoid some
of the operations, or one could try to improve their performance.

     <p>Use an external method, like <samp><span class="option">scp</span></samp>.

     <p>Use caching.  This is already enabled by default.  Information about
the remote host as well as the remote files are cached for reuse.  The
information about remote hosts is kept in the file specified in
<code>tramp-persistency-file-name</code>.  Keep this file.  If you are
confident that files on remote hosts are not changed out of
Emacs' control, set <code>remote-file-name-inhibit-cache</code>
to <code>nil</code>.  Set also <code>tramp-completion-reread-directory-timeout</code>
to <code>nil</code>, <a href="#File-name-completion">File name completion</a>.

     <p>Disable version control.  If you access remote files which are not
under version control, a lot of check operations can be avoided by
disabling VC.  This can be achieved by

     <pre class="lisp">          (setq vc-ignore-dir-regexp
                (format "\\(%s\\)\\|\\(%s\\)"
                        vc-ignore-dir-regexp
                        tramp-file-name-regexp))
</pre>
     <p>Disable excessive traces.  The default trace level of <span class="sc">tramp</span>,
defined in the variable <code>tramp-verbose</code>, is 3.  You should
increase this level only temporarily, hunting bugs.

     <li><span class="sc">tramp</span> does not connect to the remote host

     <p>When <span class="sc">tramp</span> does not connect to the remote host, there are three
reasons heading the bug mailing list:

          <ul>
<li>Unknown characters in the prompt

          <p><span class="sc">tramp</span> needs to recognize the prompt on the remote host
after execution any command.  This is not possible when the prompt
contains unknown characters like escape sequences for coloring.  This
should be avoided on the remote side.  See <a href="#Remote-shell-setup">Remote shell setup</a>. for
setting the regular expression detecting the prompt.

          <p>You can check your settings after an unsuccessful connection by
switching to the <span class="sc">tramp</span> connection buffer <samp><span class="file">*tramp/foo*</span></samp>,
setting the cursor at the top of the buffer, and applying the expression

          <pre class="example">               <kbd>M-: (re-search-forward (concat tramp-shell-prompt-pattern "$"))</kbd>
</pre>
          <p>If it fails, or the cursor is not moved at the end of the buffer, your
prompt is not recognized correctly.

          <p>A special problem is the zsh shell, which uses left-hand side and
right-hand side prompts in parallel.  Therefore, it is necessary to
disable the zsh line editor on the remote host.  You shall add to
<samp><span class="file">~/.zshrc</span></samp> the following command:

          <pre class="example">               [ $TERM = "dumb" ] &amp;&amp; unsetopt zle &amp;&amp; PS1='$ '
</pre>
          <p>Similar fancy prompt settings are known from the fish shell.  Here you
must add in <samp><span class="file">~/.config/fish/config.fish</span></samp>:

          <pre class="example">               function fish_prompt
                 if test $TERM = "dumb"
                    echo "\$ "
                 else
                    ...
                 end
               end
</pre>
          <p>Furthermore it has been reported, that <span class="sc">tramp</span> (like sshfs,
incidentally) doesn't work with WinSSHD due to strange prompt settings.

          <li>Echoed characters after login

          <p>When the remote host opens an echoing shell, there might be control
characters in the welcome message.  <span class="sc">tramp</span> tries to suppress
such echoes via the <samp><span class="command">stty -echo</span></samp> command, but sometimes this
command is not reached, because the echoed output has confused
<span class="sc">tramp</span> already.  In such situations it might be helpful to use
the <samp><span class="option">sshx</span></samp> or <samp><span class="option">scpx</span></samp> methods, which allocate a pseudo tty. 
See <a href="#Inline-methods">Inline methods</a>.

          <li><span class="sc">tramp</span> doesn't transfer strings with more than 500 characters
correctly

          <p>On some few systems, the implementation of <code>process-send-string</code>
seems to be broken for longer strings.  It is reported for HP-UX,
FreeBSD and Tru64 Unix, for example.  This case, you should customize
the variable <code>tramp-chunksize</code> to 500.  For a description how to
determine whether this is necessary see the documentation of
<code>tramp-chunksize</code>.

          <p>Additionally, it will be useful to set <code>file-precious-flag</code> to
<code>t</code> for <span class="sc">tramp</span> files.  Then the file contents will be
written into a temporary file first, which is checked for correct
checksum.

          <pre class="lisp">               (add-hook
                'find-file-hook
                (lambda ()
                  (when (file-remote-p default-directory)
                    (set (make-local-variable 'file-precious-flag) t))))
</pre>
          </ul>

     <li><span class="sc">tramp</span> does not recognize hung <samp><span class="command">ssh</span></samp> sessions

     <p>When your network connection is down, <samp><span class="command">ssh</span></samp> sessions might
hang.  <span class="sc">tramp</span> cannot detect it safely, because it still sees a
running <samp><span class="command">ssh</span></samp> process.  Timeouts cannot be used as well,
because it cannot be predicted how long a remote command will last,
for example when copying very large files.

     <p>Therefore, you must configure the <samp><span class="command">ssh</span></samp> process to die
in such a case.  The following entry in <samp><span class="file">~/.ssh/config</span></samp> would do
the job:

     <pre class="example">          Host *
               ServerAliveInterval 5
</pre>
     <li><span class="sc">tramp</span> does not use my <samp><span class="command">ssh</span></samp> <code>ControlPath</code>

     <p>Your <code>ControlPath</code> setting will be overwritten by <samp><span class="command">ssh</span></samp>
sessions initiated by <span class="sc">tramp</span>.  This is because a master
session, initiated outside Emacs, could be closed, which
would stall all other <samp><span class="command">ssh</span></samp> sessions for that host inside
Emacs.

     <p>Consequently, if you connect to a remote host via <span class="sc">tramp</span>, you
might be prompted for a password again, even if you have established
already an <samp><span class="command">ssh</span></samp> connection to that host.  Further
<span class="sc">tramp</span> connections to that host, for example in order to run a
process on that host, will reuse that initial <samp><span class="command">ssh</span></samp>
connection.

     <p>If your <samp><span class="command">ssh</span></samp> version supports the <code>ControlPersist</code>
option, you could customize the variable
<code>tramp-ssh-controlmaster-options</code> to use your <code>ControlPath</code>,
for example:

     <pre class="lisp">          (setq tramp-ssh-controlmaster-options
                (concat
                  "-o ControlPath=/tmp/ssh-ControlPath-%%r@%%h:%%p "
                  "-o ControlMaster=auto -o ControlPersist=yes"))
</pre>
     <p>Note, that "%r", "%h" and "%p" must be encoded as "%%r", "%%h" and
"%%p", respectively.

     <p>These settings can be suppressed, if they are configured properly in
your <samp><span class="file">~/.ssh/config</span></samp>:

     <pre class="lisp">          (setq tramp-use-ssh-controlmaster-options nil)
</pre>
     <li>File name completion does not work with <span class="sc">tramp</span>

     <p>When you log in to the remote host, do you see the output of
<samp><span class="command">ls</span></samp> in color? If so, this may be the cause of your problems.

     <p><samp><span class="command">ls</span></samp> outputs <acronym>ANSI</acronym> escape sequences that your terminal
emulator interprets to set the colors.  These escape sequences will
confuse <span class="sc">tramp</span> however.

     <p>In your <samp><span class="file">.bashrc</span></samp>, <samp><span class="file">.profile</span></samp> or equivalent on the remote
host you probably have an alias configured that adds the option
<samp><span class="option">--color=yes</span></samp> or <samp><span class="option">--color=auto</span></samp>.

     <p>You should remove that alias and ensure that a new login <em>does not</em>
display the output of <samp><span class="command">ls</span></samp> in color.  If you still cannot use
file name completion, report a bug to the <span class="sc">tramp</span> developers.

     <li>File name completion does not work in large directories

     <p><span class="sc">tramp</span> uses globbing for some operations.  (Globbing means to use the
shell to expand wildcards such as &lsquo;<samp><span class="samp">*.c</span></samp>&rsquo;.)  This might create long
command lines, especially in directories with many files.  Some shells
choke on long command lines, or don't cope well with the globbing
itself.

     <p>If you have a large directory on the remote end, you may wish to execute
a command like &lsquo;<samp><span class="samp">ls -d * ..?* &gt; /dev/null</span></samp>&rsquo; and see if it hangs. 
Note that you must first start the right shell, which might be
<samp><span class="command">/bin/sh</span></samp>, <samp><span class="command">ksh</span></samp> or <samp><span class="command">bash</span></samp>, depending on which
of those supports tilde expansion.

     <li>How can I get notified when <span class="sc">tramp</span> file transfers are complete?

     <p>The following snippet can be put in your <samp><span class="file">~/.emacs</span></samp> file.  It
makes Emacs beep after reading from or writing to the
remote host.

     <pre class="lisp">          (defadvice tramp-handle-write-region
            (after tramp-write-beep-advice activate)
            "Make tramp beep after writing a file."
            (interactive)
            (beep))
          
          (defadvice tramp-handle-do-copy-or-rename-file
            (after tramp-copy-beep-advice activate)
            "Make tramp beep after copying a file."
            (interactive)
            (beep))
          
          (defadvice tramp-handle-insert-file-contents
            (after tramp-insert-beep-advice activate)
            "Make tramp beep after inserting a file."
            (interactive)
            (beep))
</pre>
     <li>I'ld like to get a Visual Warning when working in a sudo:ed context

     <p>When you are working with &lsquo;<samp><span class="samp">root</span></samp>&rsquo; privileges, it might be useful
to get an indication in the buffer's modeline.  The following code,
tested with Emacs 22.1, does the job.  You should put it
into your <samp><span class="file">~/.emacs</span></samp>:

     <pre class="lisp">          (defun my-mode-line-function ()
            (when (string-match "^/su\\(do\\)?:" default-directory)
              (setq mode-line-format
                    (format-mode-line mode-line-format 'font-lock-warning-face))))
          
          (add-hook 'find-file-hook 'my-mode-line-function)
          (add-hook 'dired-mode-hook 'my-mode-line-function)
</pre>
     <li>I'ld like to see a host indication in the mode line when I'm remote

     <p>The following code has been tested with Emacs 22.1.  You
should put it into your <samp><span class="file">~/.emacs</span></samp>:

     <pre class="lisp">          (defconst my-mode-line-buffer-identification
            (list
             '(:eval
               (let ((host-name
                      (if (file-remote-p default-directory)
                          (tramp-file-name-host
                           (tramp-dissect-file-name default-directory))
                        (system-name))))
                 (if (string-match "^[^0-9][^.]*\\(\\..*\\)" host-name)
                     (substring host-name 0 (match-beginning 1))
                   host-name)))
             ": %12b"))
          
          (setq-default
           mode-line-buffer-identification
           my-mode-line-buffer-identification)
          
          (add-hook
           'dired-mode-hook
           (lambda ()
             (setq
              mode-line-buffer-identification
              my-mode-line-buffer-identification)))
</pre>
     <p>Since Emacs 23.1, the mode line contains an indication if
<code>default-directory</code> for the current buffer is on a remote host. 
The corresponding tooltip includes the name of that host.  If you
still want the host name as part of the mode line, you can use the
example above, but the <code>:eval</code> clause can be simplified:

     <pre class="lisp">             '(:eval
               (let ((host-name
                      (or (file-remote-p default-directory 'host)
                          (system-name))))
                 (if (string-match "^[^0-9][^.]*\\(\\..*\\)" host-name)
                     (substring host-name 0 (match-beginning 1))
                   host-name)))
</pre>
     <li>My remote host does not understand default directory listing options

     <p>Emacs computes the <samp><span class="command">dired</span></samp> options depending on
the local host you are working.  If your <samp><span class="command">ls</span></samp> command on the
remote host does not understand those options, you can change them
like this:

     <pre class="lisp">          (add-hook
           'dired-before-readin-hook
           (lambda ()
             (when (file-remote-p default-directory)
               (setq dired-actual-switches "-al"))))
</pre>
     <li>There's this <samp><span class="file">~/.sh_history</span></samp> file on the remote host which keeps
growing and growing.  What's that?

     <p>Sometimes, <span class="sc">tramp</span> starts <samp><span class="command">ksh</span></samp> on the remote host for
tilde expansion.  Maybe <samp><span class="command">ksh</span></samp> saves the history by default. 
<span class="sc">tramp</span> tries to turn off saving the history, but maybe you have
to help.  For example, you could put this in your <samp><span class="file">.kshrc</span></samp>:

     <pre class="example">          if [ -f $HOME/.sh_history ] ; then
             /bin/rm $HOME/.sh_history
          fi
          if [ "${HISTFILE-unset}" != "unset" ] ; then
             unset HISTFILE
          fi
          if [ "${HISTSIZE-unset}" != "unset" ] ; then
             unset HISTSIZE
          fi
</pre>
     <p>Furthermore, if you use an <samp><span class="option">ssh</span></samp>-based method, you could add
the following line to your <samp><span class="file">~/.ssh/environment</span></samp> file:

     <pre class="example">          HISTFILE=/dev/null
</pre>
     <li>There are longish file names to type.  How to shorten this?

     <p>Let's say you need regularly access to <samp><span class="file">/ssh<!-- /@w -->:news<!-- /@w -->@news.my.domain:/opt/news/etc</span></samp>, which is boring to type again and
again.  The following approaches can be mixed:

          <ol type=1 start=1>

          <li>Use default values for method and user name:

          <p>You can define default methods and user names for hosts,
(see <a href="#Default-Method">Default Method</a>, see <a href="#Default-User">Default User</a>):

          <pre class="lisp">               (setq tramp-default-method "ssh"
                     tramp-default-user "news")
</pre>
          <p>The file name left to type would be
<kbd>C-x C-f /news.my.domain:/opt/news/etc</kbd>.

          <p>Note that there are some useful settings already.  Accessing your
local host as &lsquo;<samp><span class="samp">root</span></samp>&rsquo; user, is possible just by <kbd>C-x C-f
/su<!-- /@w -->::</kbd>.

          <li>Use configuration possibilities of your method:

          <p>Several connection methods (i.e., the programs used) offer powerful
configuration possibilities (see <a href="#Customizing-Completion">Customizing Completion</a>).  In the
given case, this could be <samp><span class="file">~/.ssh/config</span></samp>:

          <pre class="example">               Host xy
                    HostName news.my.domain
                    User news
</pre>
          <p>The file name left to type would be <kbd>C-x C-f /ssh<!-- /@w -->:xy:/opt/news/etc</kbd>.  Depending on files in your directories, it is even
possible to complete the host name with <kbd>C-x C-f
/ssh:x &lt;TAB&gt;</kbd>.

          <li>Use environment variables:

          <p>File names typed in the minibuffer can be expanded by environment
variables.  You can set them outside Emacs, or even with
Lisp:

          <pre class="lisp">               (setenv "xy" "/ssh<!-- /@w -->:news<!-- /@w -->@news.my.domain:/opt/news/etc/")
</pre>
          <p>Then you need simply to type <kbd>C-x C-f $xy &lt;RET&gt;</kbd>, and here you
are.  The disadvantage is that you cannot edit the file name, because
environment variables are not expanded during editing in the
minibuffer.

          <li>Define own keys:

          <p>You can define your own key sequences in Emacs, which can
be used instead of <kbd>C-x C-f</kbd>:

          <pre class="lisp">               (global-set-key
                [(control x) (control y)]
                (lambda ()
                  (interactive)
                  (find-file
                   (read-file-name
                    "Find Tramp file: "
                    "/ssh<!-- /@w -->:news<!-- /@w -->@news.my.domain:/opt/news/etc/"))))
</pre>
          <p>Simply typing <kbd>C-x C-y</kbd> would initialize the minibuffer for
editing with your beloved file name.

          <p>See also <a href="http://www.emacswiki.org/cgi-bin/wiki/TrampMode">the Emacs Wiki</a> for a more comprehensive example.

          <li>Define own abbreviation (1):

          <p>It is possible to define an own abbreviation list for expanding file
names:

          <pre class="lisp">               (add-to-list
                'directory-abbrev-alist
                '("^/xy" . "/ssh<!-- /@w -->:news<!-- /@w -->@news.my.domain:/opt/news/etc/"))
</pre>
          <p>This shortens the file opening command to <kbd>C-x C-f /xy
&lt;RET&gt;</kbd>.  The disadvantage is, again, that you cannot edit the file
name, because the expansion happens after entering the file name only.

          <li>Define own abbreviation (2):

          <p>The <code>abbrev-mode</code> gives more flexibility for editing the
minibuffer:

          <pre class="lisp">               (define-abbrev-table 'my-tramp-abbrev-table
                 '(("xy" "/ssh<!-- /@w -->:news<!-- /@w -->@news.my.domain:/opt/news/etc/")))
               
               (add-hook
                'minibuffer-setup-hook
                (lambda ()
                  (abbrev-mode 1)
                  (setq local-abbrev-table my-tramp-abbrev-table)))
               
               (defadvice minibuffer-complete
                 (before my-minibuffer-complete activate)
                 (expand-abbrev))
               
               ;; If you use partial-completion-mode
               (defadvice PC-do-completion
                 (before my-PC-do-completion activate)
                 (expand-abbrev))
</pre>
          <p>After entering <kbd>C-x C-f xy &lt;TAB&gt;</kbd>, the minibuffer is
expanded, and you can continue editing.

          <li>Use bookmarks:

          <p>Bookmarks can be used to visit Tramp files or directories.

          <p>When you have opened <samp><span class="file">/ssh<!-- /@w -->:news<!-- /@w -->@news.my.domain:/opt/news/etc/</span></samp>, you should save the bookmark via
<kbd>&lt;menu-bar&gt; &lt;edit&gt; &lt;bookmarks&gt; &lt;set&gt;</kbd>.

          <p>Later on, you can always navigate to that bookmark via
<kbd>&lt;menu-bar&gt; &lt;edit&gt; &lt;bookmarks&gt; &lt;jump&gt;</kbd>.

          <li>Use recent files:

          <p><samp><span class="file">recentf</span></samp>
remembers visited places.

          <p>You could keep remote file names in the recent list without checking
their readability through a remote access:

          <pre class="lisp">               (recentf-mode 1)
</pre>
          <p>The list of files opened recently is reachable via
<kbd>&lt;menu-bar&gt; &lt;file&gt; &lt;Open Recent&gt;</kbd>.

          <li>Use filecache:

          <p><samp><span class="file">filecache</span></samp> remembers visited places.  Add the directory into
the cache:

          <pre class="lisp">               (eval-after-load "filecache"
                 '(file-cache-add-directory
                   "/ssh<!-- /@w -->:news<!-- /@w -->@news.my.domain:/opt/news/etc/"))
</pre>
          <p>Whenever you want to load a file, you can enter <kbd>C-x C-f
C-&lt;TAB&gt;</kbd> in the minibuffer.  The completion is done for the given
directory.

          <li>Use bbdb:

          <p><samp><span class="file">bbdb</span></samp> has a built-in feature for Ange-FTP files,
which works also for <span class="sc">tramp</span>.

          <p>You need to load <samp><span class="file">bbdb</span></samp>:

          <pre class="lisp">               (require 'bbdb)
               (bbdb-initialize)
</pre>
          <p>Then you can create a BBDB entry via <kbd>M-x bbdb-create-ftp-site</kbd>. 
Because BBDB is not prepared for <span class="sc">tramp</span> syntax, you must
specify a method together with the user name when needed. Example:

          <pre class="example">               <kbd>M-x bbdb-create-ftp-site &lt;RET&gt;</kbd>
               <b>Ftp Site:</b> news.my.domain &lt;RET&gt;
               <b>Ftp Directory:</b> /opt/news/etc/ &lt;RET&gt;
               <b>Ftp Username:</b> ssh:news &lt;RET&gt;
               <b>Company:</b> &lt;RET&gt;
               <b>Additional Comments:</b> &lt;RET&gt;
</pre>
          <p>When you have opened your BBDB buffer, you can access such an entry by
pressing the key &lt;F&gt;.

          </ol>

     <p>I would like to thank all <span class="sc">tramp</span> users who have contributed to
the different recipes!

     <li>I have saved <span class="sc">tramp</span> file names as indicated.  But it
doesn't work in a new Emacs session!

     <p>If you have saved an ad-hoc multi-hop <span class="sc">tramp</span> file name
(see <a href="#Ad_002dhoc-multi_002dhops">Ad-hoc multi-hops</a>) via bookmarks, recent files,
filecache, bbdb,
or another package, you must use the full ad-hoc file name including
all hops, like <samp><span class="file">/ssh<!-- /@w -->:bird<!-- /@w -->@bastion|ssh:news.my.domain:/opt/news/etc</span></samp>.

     <p>Alternatively, if you save only the abbreviated multi-hop file name
<samp><span class="file">/ssh<!-- /@w -->:news<!-- /@w -->@news.my.domain:/opt/news/etc</span></samp>, the custom
option <code>tramp-save-ad-hoc-proxies</code> must be set to a to a
non-<code>nil</code> value.

     <li>How can I use <span class="sc">tramp</span> to connect to a remote Emacs
session?

     <p>You can configure Emacs Client doing this.

     <p>On the remote host, you start the Emacs Server:

     <pre class="lisp">          (require 'server)
          (setq server-host (system-name)
                server-use-tcp t)
          (server-start)
</pre>
     <p>Make sure that the result of <code>(system-name)</code> can be resolved on
your local host; otherwise you might use a hard coded IP address.

     <p>The resulting file <samp><span class="file">~/.emacs.d/server/server</span></samp> must be copied to
your local host, at the same location.  You can call then the Emacs
Client from the command line:

     <pre class="example">          emacsclient /ssh<!-- /@w -->:user<!-- /@w -->@host:/file/to/edit
</pre>
     <p><code>user</code> and <code>host</code> shall be related to your local host.

     <p>If you want to use Emacs Client also as editor for other programs, you
could write a script <samp><span class="file">emacsclient.sh</span></samp>:

     <pre class="example">          #!/bin/sh
          emacsclient /ssh<!-- /@w -->:$(whoami)<!-- /@w -->@$(hostname --fqdn):$1
</pre>
     <p>Then you must set the environment variable <samp><span class="env">EDITOR</span></samp> pointing to
that script:

     <pre class="example">          export EDITOR=/path/to/emacsclient.sh
</pre>
     <li>There are packages which call <span class="sc">tramp</span> although I haven't entered
a remote file name ever.  I dislike it, how could I disable it?

     <p>In general, <span class="sc">tramp</span> functions are used only when
you apply remote file name syntax.  However, some packages enable
<span class="sc">tramp</span> on their own.

          <ul>
<li><samp><span class="file">ido.el</span></samp>

          <p>You could disable <span class="sc">tramp</span> file name completion:

          <pre class="lisp">               (custom-set-variables
                '(ido-enable-tramp-completion nil))
</pre>
          <li><samp><span class="file">rlogin.el</span></samp>

          <p>You could disable remote directory tracking mode:

          <pre class="lisp">               (rlogin-directory-tracking-mode -1)
</pre>
          </ul>

     <li>How can I disable <span class="sc">tramp</span> at all?

     <p>Shame on you, why did you read until now?

          <ul>
<li>If you just want to have Ange-FTP as default remote
files access package, you should apply the following code:

          <pre class="lisp">               (setq tramp-default-method "ftp")
</pre>
          <li>In order to disable
<span class="sc">tramp</span> (and Ange-FTP),
you must set <code>tramp-mode</code> to <code>nil</code>:

          <pre class="lisp">               (setq tramp-mode nil)
</pre>
          <li>Unloading <span class="sc">tramp</span> can be achieved by applying <kbd>M-x
tramp-unload-tramp</kbd>. 
This resets also the Ange-FTP plugins. 
</ul>
     </ul>

<!-- For the developer -->
<div class="node">
<a name="Files-directories-and-localnames"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Traces-and-Profiles">Traces and Profiles</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Frequently-Asked-Questions">Frequently Asked Questions</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">8 How file names, directories and localnames are mangled and managed.</h2>

<ul class="menu">
<li><a accesskey="1" href="#Localname-deconstruction">Localname deconstruction</a>:     Breaking a localname into its components.

<li><a accesskey="2" href="#External-packages">External packages</a>:            Integration with external Lisp packages. 
</ul>

<div class="node">
<a name="Localname-deconstruction"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#External-packages">External packages</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Files-directories-and-localnames">Files directories and localnames</a>

</div>

<h3 class="section">8.1 Breaking a localname into its components</h3>

<p><span class="sc">tramp</span> file names are somewhat different, obviously, to ordinary file
names.  As such, the lisp functions <code>file-name-directory</code> and
<code>file-name-nondirectory</code> are overridden within the <span class="sc">tramp</span>
package.

   <p>Their replacements are reasonably simplistic in their approach.  They
dissect the file name, call the original handler on the localname and
then rebuild the <span class="sc">tramp</span> file name with the result.

   <p>This allows the platform specific hacks in the original handlers to take
effect while preserving the <span class="sc">tramp</span> file name information.

<div class="node">
<a name="External-packages"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Localname-deconstruction">Localname deconstruction</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Files-directories-and-localnames">Files directories and localnames</a>

</div>

<h3 class="section">8.2 Integration with external Lisp packages</h3>

<h4 class="subsection">8.2.1 File name completion.</h4>

<p>While reading file names in the minibuffer, <span class="sc">tramp</span> must decide
whether it completes possible incomplete file names, or not.  Imagine
there is the following situation: You have typed <kbd>C-x C-f
/ssh: &lt;TAB&gt;</kbd>.  <span class="sc">tramp</span> cannot
know, whether <samp><span class="option">ssh</span></samp> is a method or a host name.  It checks
therefore the last input character you have typed.  If this is
&lt;TAB&gt;, &lt;SPACE&gt; or <kbd>?</kbd>, <span class="sc">tramp</span> assumes that you are
still in file name completion, and it does not connect to the possible
remote host <samp><span class="option">ssh</span></samp>.

   <p>External packages, which use other characters for completing file names
in the minibuffer, must signal this to <span class="sc">tramp</span>.  For this case,
the variable <code>non-essential</code> can be bound temporarily to
a non-<code>nil</code> value.

<pre class="lisp">     (let ((non-essential t))
       ...)
</pre>
   <h4 class="subsection">8.2.2 File attributes cache.</h4>

<p>When <span class="sc">tramp</span> runs remote processes, files on the remote host
could change their attributes.  Consequently, <span class="sc">tramp</span> must flush
its complete cache keeping attributes for all files of the remote host
it has seen so far.

   <p>This is a performance degradation, because the lost file attributes
must be recomputed when needed again.  In cases where the caller of
<code>process-file</code> knows that there are no file attribute changes, it
should let-bind the variable <code>process-file-side-effects</code> to
<code>nil</code>.  Then <span class="sc">tramp</span> won't flush the file attributes cache.

<pre class="lisp">     (let (process-file-side-effects)
       ...)
</pre>
   <p>For asynchronous processes, <span class="sc">tramp</span> flushes the file attributes
cache via a process sentinel.  If the caller of
<code>start-file-process</code> knows that there are no file attribute
changes, it should set the process sentinel to the default.  In cases
where the caller defines its own process sentinel, <span class="sc">tramp</span>'s process
sentinel is overwritten.  The caller can still flush the file
attributes cache in its process sentinel with this code:

<pre class="lisp">     (unless (memq (process-status proc) '(run open))
       (dired-uncache remote-directory))
</pre>
   <p><code>remote-directory</code> shall be the root directory, where file
attribute changes can happen during the process lifetime. 
<span class="sc">tramp</span> traverses all subdirectories, starting at this
directory.  Often, it is sufficient to use <code>default-directory</code> of
the process buffer as root directory.

<div class="node">
<a name="Traces-and-Profiles"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Issues">Issues</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Files-directories-and-localnames">Files directories and localnames</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">9 How to Customize Traces</h2>

<p>All <span class="sc">tramp</span> messages are raised with a verbosity level.  The
verbosity level can be any number between 0 and 10.  Only messages with
a verbosity level less than or equal to <code>tramp-verbose</code> are
displayed.

   <p>The verbosity levels are

   <p>&nbsp;0<!-- /@w -->  silent (no <span class="sc">tramp</span> messages at all)
<br>

   &nbsp;1<!-- /@w -->  errors
<br>

   &nbsp;2<!-- /@w -->  warnings
<br>

   &nbsp;3<!-- /@w -->  connection to remote hosts (default verbosity)
<br>

   &nbsp;4<!-- /@w -->  activities
<br>

   &nbsp;5<!-- /@w -->  internal
<br>

   &nbsp;6<!-- /@w -->  sent and received strings
<br>

   &nbsp;7<!-- /@w -->  file caching
<br>

   &nbsp;8<!-- /@w -->  connection properties
<br>

   &nbsp;9<!-- /@w -->  test commands
<br>

   10<!-- /@w -->  traces (huge)

   <p>When <code>tramp-verbose</code> is greater than or equal to 4, the messages
are also written into a <span class="sc">tramp</span> debug buffer.  This debug buffer
is useful for analyzing problems; sending a <span class="sc">tramp</span> bug report
should be done with <code>tramp-verbose</code> set to a verbosity level of at
least 6 (see <a href="#Bug-Reports">Bug Reports</a>).

   <p>The debug buffer is in
Outline Mode. 
That means, you can change the level of messages to be viewed.  If you
want, for example, see only messages up to verbosity level 5, you must
enter <kbd>C-u 6 C-c C-q</kbd>.

   <p><span class="sc">tramp</span> errors are handled internally in order to raise the
verbosity level 1 messages.  When you want to get a Lisp backtrace in
case of an error, you need to set both

<pre class="lisp">     (setq debug-on-error t
           debug-on-signal t)
</pre>
   <p>Sometimes, it might be even necessary to step through <span class="sc">tramp</span>
function call traces.  Such traces are enabled by the following code:

<pre class="lisp">     (require 'trace)
     (dolist (elt (all-completions "tramp-" obarray 'functionp))
       (trace-function-background (intern elt)))
     (untrace-function 'tramp-read-passwd)
     (untrace-function 'tramp-gw-basic-authentication)
</pre>
   <p>The function call traces are inserted in the buffer
<samp><span class="file">*trace-output*</span></samp>.  <code>tramp-read-passwd</code> and
<code>tramp-gw-basic-authentication</code> shall be disabled when the
function call traces are added to <span class="sc">tramp</span>, because both
functions return password strings, which should not be distributed.

<div class="node">
<a name="Issues"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#GNU-Free-Documentation-License">GNU Free Documentation License</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Traces-and-Profiles">Traces and Profiles</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">10 Debatable Issues and What Was Decided</h2>

     <ul>
<li>The uuencode method does not always work.

     <p>Due to the design of <span class="sc">tramp</span>, the encoding and decoding programs
need to read from stdin and write to stdout.  On some systems,
<samp><span class="command">uudecode -o -</span></samp> will read stdin and write the decoded file to
stdout, on other systems <samp><span class="command">uudecode -p</span></samp> does the same thing. 
But some systems have uudecode implementations which cannot do this at
all&mdash;it is not possible to call these uudecode implementations with
suitable parameters so that they write to stdout.

     <p>Of course, this could be circumvented: the <code>begin foo 644</code> line
could be rewritten to put in some temporary file name, then
<samp><span class="command">uudecode</span></samp> could be called, then the temp file could be
printed and deleted.

     <p>But I have decided that this is too fragile to reliably work, so on some
systems you'll have to do without the uuencode methods.

     <li>The <span class="sc">tramp</span> file name syntax differs between Emacs and XEmacs.

     <p>The Emacs maintainers wish to use a unified file name syntax for
Ange-FTP and <span class="sc">tramp</span> so that users don't have to learn a new
syntax.  It is sufficient to learn some extensions to the old syntax.

     <p>For the XEmacs maintainers, the problems caused from using a unified
file name syntax are greater than the gains.  The XEmacs package system
uses EFS for downloading new packages.  So, obviously, EFS has to be
installed from the start.  If the file names were unified, <span class="sc">tramp</span>
would have to be installed from the start, too.

</ul>

<div class="node">
<a name="GNU-Free-Documentation-License"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Function-Index">Function Index</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Issues">Issues</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="appendix">Appendix A GNU Free Documentation License</h2>

<!-- The GNU Free Documentation License. -->
<div align="center">Version 1.3, 3 November 2008</div>

<!-- This file is intended to be included within another document, -->
<!-- hence no sectioning command or @node. -->
<pre class="display">     Copyright &copy; 2000, 2001, 2002, 2007, 2008 Free Software Foundation, Inc.
     <a href="http://fsf.org/">http://fsf.org/</a>
     
     Everyone is permitted to copy and distribute verbatim copies
     of this license document, but changing it is not allowed.
</pre>
     <ol type=1 start=0>
<li>PREAMBLE

     <p>The purpose of this License is to make a manual, textbook, or other
functional and useful document <dfn>free</dfn> in the sense of freedom: to
assure everyone the effective freedom to copy and redistribute it,
with or without modifying it, either commercially or noncommercially. 
Secondarily, this License preserves for the author and publisher a way
to get credit for their work, while not being considered responsible
for modifications made by others.

     <p>This License is a kind of &ldquo;copyleft&rdquo;, which means that derivative
works of the document must themselves be free in the same sense.  It
complements the GNU General Public License, which is a copyleft
license designed for free software.

     <p>We have designed this License in order to use it for manuals for free
software, because free software needs free documentation: a free
program should come with manuals providing the same freedoms that the
software does.  But this License is not limited to software manuals;
it can be used for any textual work, regardless of subject matter or
whether it is published as a printed book.  We recommend this License
principally for works whose purpose is instruction or reference.

     <li>APPLICABILITY AND DEFINITIONS

     <p>This License applies to any manual or other work, in any medium, that
contains a notice placed by the copyright holder saying it can be
distributed under the terms of this License.  Such a notice grants a
world-wide, royalty-free license, unlimited in duration, to use that
work under the conditions stated herein.  The &ldquo;Document&rdquo;, below,
refers to any such manual or work.  Any member of the public is a
licensee, and is addressed as &ldquo;you&rdquo;.  You accept the license if you
copy, modify or distribute the work in a way requiring permission
under copyright law.

     <p>A &ldquo;Modified Version&rdquo; of the Document means any work containing the
Document or a portion of it, either copied verbatim, or with
modifications and/or translated into another language.

     <p>A &ldquo;Secondary Section&rdquo; is a named appendix or a front-matter section
of the Document that deals exclusively with the relationship of the
publishers or authors of the Document to the Document's overall
subject (or to related matters) and contains nothing that could fall
directly within that overall subject.  (Thus, if the Document is in
part a textbook of mathematics, a Secondary Section may not explain
any mathematics.)  The relationship could be a matter of historical
connection with the subject or with related matters, or of legal,
commercial, philosophical, ethical or political position regarding
them.

     <p>The &ldquo;Invariant Sections&rdquo; are certain Secondary Sections whose titles
are designated, as being those of Invariant Sections, in the notice
that says that the Document is released under this License.  If a
section does not fit the above definition of Secondary then it is not
allowed to be designated as Invariant.  The Document may contain zero
Invariant Sections.  If the Document does not identify any Invariant
Sections then there are none.

     <p>The &ldquo;Cover Texts&rdquo; are certain short passages of text that are listed,
as Front-Cover Texts or Back-Cover Texts, in the notice that says that
the Document is released under this License.  A Front-Cover Text may
be at most 5 words, and a Back-Cover Text may be at most 25 words.

     <p>A &ldquo;Transparent&rdquo; copy of the Document means a machine-readable copy,
represented in a format whose specification is available to the
general public, that is suitable for revising the document
straightforwardly with generic text editors or (for images composed of
pixels) generic paint programs or (for drawings) some widely available
drawing editor, and that is suitable for input to text formatters or
for automatic translation to a variety of formats suitable for input
to text formatters.  A copy made in an otherwise Transparent file
format whose markup, or absence of markup, has been arranged to thwart
or discourage subsequent modification by readers is not Transparent. 
An image format is not Transparent if used for any substantial amount
of text.  A copy that is not &ldquo;Transparent&rdquo; is called &ldquo;Opaque&rdquo;.

     <p>Examples of suitable formats for Transparent copies include plain
ASCII without markup, Texinfo input format, LaTeX input
format, SGML or XML using a publicly available
DTD, and standard-conforming simple HTML,
PostScript or PDF designed for human modification.  Examples
of transparent image formats include PNG, XCF and
JPG.  Opaque formats include proprietary formats that can be
read and edited only by proprietary word processors, SGML or
XML for which the DTD and/or processing tools are
not generally available, and the machine-generated HTML,
PostScript or PDF produced by some word processors for
output purposes only.

     <p>The &ldquo;Title Page&rdquo; means, for a printed book, the title page itself,
plus such following pages as are needed to hold, legibly, the material
this License requires to appear in the title page.  For works in
formats which do not have any title page as such, &ldquo;Title Page&rdquo; means
the text near the most prominent appearance of the work's title,
preceding the beginning of the body of the text.

     <p>The &ldquo;publisher&rdquo; means any person or entity that distributes copies
of the Document to the public.

     <p>A section &ldquo;Entitled XYZ&rdquo; means a named subunit of the Document whose
title either is precisely XYZ or contains XYZ in parentheses following
text that translates XYZ in another language.  (Here XYZ stands for a
specific section name mentioned below, such as &ldquo;Acknowledgements&rdquo;,
&ldquo;Dedications&rdquo;, &ldquo;Endorsements&rdquo;, or &ldquo;History&rdquo;.)  To &ldquo;Preserve the Title&rdquo;
of such a section when you modify the Document means that it remains a
section &ldquo;Entitled XYZ&rdquo; according to this definition.

     <p>The Document may include Warranty Disclaimers next to the notice which
states that this License applies to the Document.  These Warranty
Disclaimers are considered to be included by reference in this
License, but only as regards disclaiming warranties: any other
implication that these Warranty Disclaimers may have is void and has
no effect on the meaning of this License.

     <li>VERBATIM COPYING

     <p>You may copy and distribute the Document in any medium, either
commercially or noncommercially, provided that this License, the
copyright notices, and the license notice saying this License applies
to the Document are reproduced in all copies, and that you add no other
conditions whatsoever to those of this License.  You may not use
technical measures to obstruct or control the reading or further
copying of the copies you make or distribute.  However, you may accept
compensation in exchange for copies.  If you distribute a large enough
number of copies you must also follow the conditions in section 3.

     <p>You may also lend copies, under the same conditions stated above, and
you may publicly display copies.

     <li>COPYING IN QUANTITY

     <p>If you publish printed copies (or copies in media that commonly have
printed covers) of the Document, numbering more than 100, and the
Document's license notice requires Cover Texts, you must enclose the
copies in covers that carry, clearly and legibly, all these Cover
Texts: Front-Cover Texts on the front cover, and Back-Cover Texts on
the back cover.  Both covers must also clearly and legibly identify
you as the publisher of these copies.  The front cover must present
the full title with all words of the title equally prominent and
visible.  You may add other material on the covers in addition. 
Copying with changes limited to the covers, as long as they preserve
the title of the Document and satisfy these conditions, can be treated
as verbatim copying in other respects.

     <p>If the required texts for either cover are too voluminous to fit
legibly, you should put the first ones listed (as many as fit
reasonably) on the actual cover, and continue the rest onto adjacent
pages.

     <p>If you publish or distribute Opaque copies of the Document numbering
more than 100, you must either include a machine-readable Transparent
copy along with each Opaque copy, or state in or with each Opaque copy
a computer-network location from which the general network-using
public has access to download using public-standard network protocols
a complete Transparent copy of the Document, free of added material. 
If you use the latter option, you must take reasonably prudent steps,
when you begin distribution of Opaque copies in quantity, to ensure
that this Transparent copy will remain thus accessible at the stated
location until at least one year after the last time you distribute an
Opaque copy (directly or through your agents or retailers) of that
edition to the public.

     <p>It is requested, but not required, that you contact the authors of the
Document well before redistributing any large number of copies, to give
them a chance to provide you with an updated version of the Document.

     <li>MODIFICATIONS

     <p>You may copy and distribute a Modified Version of the Document under
the conditions of sections 2 and 3 above, provided that you release
the Modified Version under precisely this License, with the Modified
Version filling the role of the Document, thus licensing distribution
and modification of the Modified Version to whoever possesses a copy
of it.  In addition, you must do these things in the Modified Version:

          <ol type=A start=1>
<li>Use in the Title Page (and on the covers, if any) a title distinct
from that of the Document, and from those of previous versions
(which should, if there were any, be listed in the History section
of the Document).  You may use the same title as a previous version
if the original publisher of that version gives permission.

          <li>List on the Title Page, as authors, one or more persons or entities
responsible for authorship of the modifications in the Modified
Version, together with at least five of the principal authors of the
Document (all of its principal authors, if it has fewer than five),
unless they release you from this requirement.

          <li>State on the Title page the name of the publisher of the
Modified Version, as the publisher.

          <li>Preserve all the copyright notices of the Document.

          <li>Add an appropriate copyright notice for your modifications
adjacent to the other copyright notices.

          <li>Include, immediately after the copyright notices, a license notice
giving the public permission to use the Modified Version under the
terms of this License, in the form shown in the Addendum below.

          <li>Preserve in that license notice the full lists of Invariant Sections
and required Cover Texts given in the Document's license notice.

          <li>Include an unaltered copy of this License.

          <li>Preserve the section Entitled &ldquo;History&rdquo;, Preserve its Title, and add
to it an item stating at least the title, year, new authors, and
publisher of the Modified Version as given on the Title Page.  If
there is no section Entitled &ldquo;History&rdquo; in the Document, create one
stating the title, year, authors, and publisher of the Document as
given on its Title Page, then add an item describing the Modified
Version as stated in the previous sentence.

          <li>Preserve the network location, if any, given in the Document for
public access to a Transparent copy of the Document, and likewise
the network locations given in the Document for previous versions
it was based on.  These may be placed in the &ldquo;History&rdquo; section. 
You may omit a network location for a work that was published at
least four years before the Document itself, or if the original
publisher of the version it refers to gives permission.

          <li>For any section Entitled &ldquo;Acknowledgements&rdquo; or &ldquo;Dedications&rdquo;, Preserve
the Title of the section, and preserve in the section all the
substance and tone of each of the contributor acknowledgements and/or
dedications given therein.

          <li>Preserve all the Invariant Sections of the Document,
unaltered in their text and in their titles.  Section numbers
or the equivalent are not considered part of the section titles.

          <li>Delete any section Entitled &ldquo;Endorsements&rdquo;.  Such a section
may not be included in the Modified Version.

          <li>Do not retitle any existing section to be Entitled &ldquo;Endorsements&rdquo; or
to conflict in title with any Invariant Section.

          <li>Preserve any Warranty Disclaimers.
          </ol>

     <p>If the Modified Version includes new front-matter sections or
appendices that qualify as Secondary Sections and contain no material
copied from the Document, you may at your option designate some or all
of these sections as invariant.  To do this, add their titles to the
list of Invariant Sections in the Modified Version's license notice. 
These titles must be distinct from any other section titles.

     <p>You may add a section Entitled &ldquo;Endorsements&rdquo;, provided it contains
nothing but endorsements of your Modified Version by various
parties&mdash;for example, statements of peer review or that the text has
been approved by an organization as the authoritative definition of a
standard.

     <p>You may add a passage of up to five words as a Front-Cover Text, and a
passage of up to 25 words as a Back-Cover Text, to the end of the list
of Cover Texts in the Modified Version.  Only one passage of
Front-Cover Text and one of Back-Cover Text may be added by (or
through arrangements made by) any one entity.  If the Document already
includes a cover text for the same cover, previously added by you or
by arrangement made by the same entity you are acting on behalf of,
you may not add another; but you may replace the old one, on explicit
permission from the previous publisher that added the old one.

     <p>The author(s) and publisher(s) of the Document do not by this License
give permission to use their names for publicity for or to assert or
imply endorsement of any Modified Version.

     <li>COMBINING DOCUMENTS

     <p>You may combine the Document with other documents released under this
License, under the terms defined in section 4 above for modified
versions, provided that you include in the combination all of the
Invariant Sections of all of the original documents, unmodified, and
list them all as Invariant Sections of your combined work in its
license notice, and that you preserve all their Warranty Disclaimers.

     <p>The combined work need only contain one copy of this License, and
multiple identical Invariant Sections may be replaced with a single
copy.  If there are multiple Invariant Sections with the same name but
different contents, make the title of each such section unique by
adding at the end of it, in parentheses, the name of the original
author or publisher of that section if known, or else a unique number. 
Make the same adjustment to the section titles in the list of
Invariant Sections in the license notice of the combined work.

     <p>In the combination, you must combine any sections Entitled &ldquo;History&rdquo;
in the various original documents, forming one section Entitled
&ldquo;History&rdquo;; likewise combine any sections Entitled &ldquo;Acknowledgements&rdquo;,
and any sections Entitled &ldquo;Dedications&rdquo;.  You must delete all
sections Entitled &ldquo;Endorsements.&rdquo;

     <li>COLLECTIONS OF DOCUMENTS

     <p>You may make a collection consisting of the Document and other documents
released under this License, and replace the individual copies of this
License in the various documents with a single copy that is included in
the collection, provided that you follow the rules of this License for
verbatim copying of each of the documents in all other respects.

     <p>You may extract a single document from such a collection, and distribute
it individually under this License, provided you insert a copy of this
License into the extracted document, and follow this License in all
other respects regarding verbatim copying of that document.

     <li>AGGREGATION WITH INDEPENDENT WORKS

     <p>A compilation of the Document or its derivatives with other separate
and independent documents or works, in or on a volume of a storage or
distribution medium, is called an &ldquo;aggregate&rdquo; if the copyright
resulting from the compilation is not used to limit the legal rights
of the compilation's users beyond what the individual works permit. 
When the Document is included in an aggregate, this License does not
apply to the other works in the aggregate which are not themselves
derivative works of the Document.

     <p>If the Cover Text requirement of section 3 is applicable to these
copies of the Document, then if the Document is less than one half of
the entire aggregate, the Document's Cover Texts may be placed on
covers that bracket the Document within the aggregate, or the
electronic equivalent of covers if the Document is in electronic form. 
Otherwise they must appear on printed covers that bracket the whole
aggregate.

     <li>TRANSLATION

     <p>Translation is considered a kind of modification, so you may
distribute translations of the Document under the terms of section 4. 
Replacing Invariant Sections with translations requires special
permission from their copyright holders, but you may include
translations of some or all Invariant Sections in addition to the
original versions of these Invariant Sections.  You may include a
translation of this License, and all the license notices in the
Document, and any Warranty Disclaimers, provided that you also include
the original English version of this License and the original versions
of those notices and disclaimers.  In case of a disagreement between
the translation and the original version of this License or a notice
or disclaimer, the original version will prevail.

     <p>If a section in the Document is Entitled &ldquo;Acknowledgements&rdquo;,
&ldquo;Dedications&rdquo;, or &ldquo;History&rdquo;, the requirement (section 4) to Preserve
its Title (section 1) will typically require changing the actual
title.

     <li>TERMINATION

     <p>You may not copy, modify, sublicense, or distribute the Document
except as expressly provided under this License.  Any attempt
otherwise to copy, modify, sublicense, or distribute it is void, and
will automatically terminate your rights under this License.

     <p>However, if you cease all violation of this License, then your license
from a particular copyright holder is reinstated (a) provisionally,
unless and until the copyright holder explicitly and finally
terminates your license, and (b) permanently, if the copyright holder
fails to notify you of the violation by some reasonable means prior to
60 days after the cessation.

     <p>Moreover, your license from a particular copyright holder is
reinstated permanently if the copyright holder notifies you of the
violation by some reasonable means, this is the first time you have
received notice of violation of this License (for any work) from that
copyright holder, and you cure the violation prior to 30 days after
your receipt of the notice.

     <p>Termination of your rights under this section does not terminate the
licenses of parties who have received copies or rights from you under
this License.  If your rights have been terminated and not permanently
reinstated, receipt of a copy of some or all of the same material does
not give you any rights to use it.

     <li>FUTURE REVISIONS OF THIS LICENSE

     <p>The Free Software Foundation may publish new, revised versions
of the GNU Free Documentation License from time to time.  Such new
versions will be similar in spirit to the present version, but may
differ in detail to address new problems or concerns.  See
<a href="http://www.gnu.org/copyleft/">http://www.gnu.org/copyleft/</a>.

     <p>Each version of the License is given a distinguishing version number. 
If the Document specifies that a particular numbered version of this
License &ldquo;or any later version&rdquo; applies to it, you have the option of
following the terms and conditions either of that specified version or
of any later version that has been published (not as a draft) by the
Free Software Foundation.  If the Document does not specify a version
number of this License, you may choose any version ever published (not
as a draft) by the Free Software Foundation.  If the Document
specifies that a proxy can decide which future versions of this
License can be used, that proxy's public statement of acceptance of a
version permanently authorizes you to choose that version for the
Document.

     <li>RELICENSING

     <p>&ldquo;Massive Multiauthor Collaboration Site&rdquo; (or &ldquo;MMC Site&rdquo;) means any
World Wide Web server that publishes copyrightable works and also
provides prominent facilities for anybody to edit those works.  A
public wiki that anybody can edit is an example of such a server.  A
&ldquo;Massive Multiauthor Collaboration&rdquo; (or &ldquo;MMC&rdquo;) contained in the
site means any set of copyrightable works thus published on the MMC
site.

     <p>&ldquo;CC-BY-SA&rdquo; means the Creative Commons Attribution-Share Alike 3.0
license published by Creative Commons Corporation, a not-for-profit
corporation with a principal place of business in San Francisco,
California, as well as future copyleft versions of that license
published by that same organization.

     <p>&ldquo;Incorporate&rdquo; means to publish or republish a Document, in whole or
in part, as part of another Document.

     <p>An MMC is &ldquo;eligible for relicensing&rdquo; if it is licensed under this
License, and if all works that were first published under this License
somewhere other than this MMC, and subsequently incorporated in whole
or in part into the MMC, (1) had no cover texts or invariant sections,
and (2) were thus incorporated prior to November 1, 2008.

     <p>The operator of an MMC Site may republish an MMC contained in the site
under CC-BY-SA on the same site at any time before August 1, 2009,
provided the MMC is eligible for relicensing.

        </ol>

<h3 class="heading">ADDENDUM: How to use this License for your documents</h3>

<p>To use this License in a document you have written, include a copy of
the License in the document and put the following copyright and
license notices just after the title page:

<pre class="smallexample">       Copyright (C)  <var>year</var>  <var>your name</var>.
       Permission is granted to copy, distribute and/or modify this document
       under the terms of the GNU Free Documentation License, Version 1.3
       or any later version published by the Free Software Foundation;
       with no Invariant Sections, no Front-Cover Texts, and no Back-Cover
       Texts.  A copy of the license is included in the section entitled ``GNU
       Free Documentation License''.
</pre>
   <p>If you have Invariant Sections, Front-Cover Texts and Back-Cover Texts,
replace the &ldquo;with<small class="dots">...</small>Texts.&rdquo; line with this:

<pre class="smallexample">         with the Invariant Sections being <var>list their titles</var>, with
         the Front-Cover Texts being <var>list</var>, and with the Back-Cover Texts
         being <var>list</var>.
</pre>
   <p>If you have Invariant Sections without Cover Texts, or some other
combination of the three, merge those two alternatives to suit the
situation.

   <p>If your document contains nontrivial examples of program code, we
recommend releasing these examples in parallel under your choice of
free software license, such as the GNU General Public License,
to permit their use in free software.

<!-- Local Variables: -->
<!-- ispell-local-pdict: "ispell-dict" -->
<!-- End: -->
<div class="node">
<a name="Function-Index"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Variable-Index">Variable Index</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#GNU-Free-Documentation-License">GNU Free Documentation License</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="unnumbered">Function Index</h2>

<ul class="index-fn" compact>
<li><a href="#index-my_002dtramp_002dparse-140"><code>my-tramp-parse</code></a>: <a href="#Customizing-Completion">Customizing Completion</a></li>
<li><a href="#index-tramp_002dbug-204"><code>tramp-bug</code></a>: <a href="#Bug-Reports">Bug Reports</a></li>
<li><a href="#index-tramp_002dcleanup_002dall_002dbuffers-202"><code>tramp-cleanup-all-buffers</code></a>: <a href="#Cleanup-remote-connections">Cleanup remote connections</a></li>
<li><a href="#index-tramp_002dcleanup_002dall_002dconnections-201"><code>tramp-cleanup-all-connections</code></a>: <a href="#Cleanup-remote-connections">Cleanup remote connections</a></li>
<li><a href="#index-tramp_002dcleanup_002dconnection-199"><code>tramp-cleanup-connection</code></a>: <a href="#Cleanup-remote-connections">Cleanup remote connections</a></li>
<li><a href="#index-tramp_002dcleanup_002dthis_002dconnection-200"><code>tramp-cleanup-this-connection</code></a>: <a href="#Cleanup-remote-connections">Cleanup remote connections</a></li>
<li><a href="#index-tramp_002dget_002dcompletion_002dfunction-130"><code>tramp-get-completion-function</code></a>: <a href="#Customizing-Completion">Customizing Completion</a></li>
<li><a href="#index-tramp_002dparse_002dhosts-137"><code>tramp-parse-hosts</code></a>: <a href="#Customizing-Completion">Customizing Completion</a></li>
<li><a href="#index-tramp_002dparse_002dnetrc-139"><code>tramp-parse-netrc</code></a>: <a href="#Customizing-Completion">Customizing Completion</a></li>
<li><a href="#index-tramp_002dparse_002dpasswd-138"><code>tramp-parse-passwd</code></a>: <a href="#Customizing-Completion">Customizing Completion</a></li>
<li><a href="#index-tramp_002dparse_002drhosts-132"><code>tramp-parse-rhosts</code></a>: <a href="#Customizing-Completion">Customizing Completion</a></li>
<li><a href="#index-tramp_002dparse_002dshostkeys-136"><code>tramp-parse-shostkeys</code></a>: <a href="#Customizing-Completion">Customizing Completion</a></li>
<li><a href="#index-tramp_002dparse_002dshosts-133"><code>tramp-parse-shosts</code></a>: <a href="#Customizing-Completion">Customizing Completion</a></li>
<li><a href="#index-tramp_002dset_002dcompletion_002dfunction-131"><code>tramp-set-completion-function</code></a>: <a href="#Customizing-Completion">Customizing Completion</a></li>
   </ul><div class="node">
<a name="Variable-Index"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Concept-Index">Concept Index</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Function-Index">Function Index</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="unnumbered">Variable Index</h2>



<ul class="index-vr" compact>
<li><a href="#index-auth_002dsources-142"><code>auth-sources</code></a>: <a href="#Password-handling">Password handling</a></li>
<li><a href="#index-backup_002ddirectory_002dalist-169"><code>backup-directory-alist</code></a>: <a href="#Auto_002dsave-and-Backup">Auto-save and Backup</a></li>
<li><a href="#index-password_002dcache-144"><code>password-cache</code></a>: <a href="#Password-handling">Password handling</a></li>
<li><a href="#index-password_002dcache_002dexpiry-143"><code>password-cache-expiry</code></a>: <a href="#Password-handling">Password handling</a></li>
<li><a href="#index-shell_002dprompt_002dpattern-156"><code>shell-prompt-pattern</code></a>: <a href="#Remote-shell-setup">Remote shell setup</a></li>
<li><a href="#index-tramp_002dactions_002dbefore_002dshell-163"><code>tramp-actions-before-shell</code></a>: <a href="#Remote-shell-setup">Remote shell setup</a></li>
<li><a href="#index-tramp_002dcompletion_002dfunction_002dalist-129"><code>tramp-completion-function-alist</code></a>: <a href="#Customizing-Completion">Customizing Completion</a></li>
<li><a href="#index-tramp_002dcompletion_002dreread_002ddirectory_002dtimeout-183"><code>tramp-completion-reread-directory-timeout</code></a>: <a href="#File-name-completion">File name completion</a></li>
<li><a href="#index-tramp_002dconnection_002dproperties-147"><code>tramp-connection-properties</code></a>: <a href="#Predefined-connection-information">Predefined connection information</a></li>
<li><a href="#index-tramp_002ddefault_002dhost-116"><code>tramp-default-host</code></a>: <a href="#Default-Host">Default Host</a></li>
<li><a href="#index-tramp_002ddefault_002dhost_002dalist-117"><code>tramp-default-host-alist</code></a>: <a href="#Default-Host">Default Host</a></li>
<li><a href="#index-tramp_002ddefault_002dmethod-110"><code>tramp-default-method</code></a>: <a href="#Default-Method">Default Method</a></li>
<li><a href="#index-tramp_002ddefault_002dmethod_002dalist-111"><code>tramp-default-method-alist</code></a>: <a href="#Default-Method">Default Method</a></li>
<li><a href="#index-tramp_002ddefault_002dproxies_002dalist-120"><code>tramp-default-proxies-alist</code></a>: <a href="#Multi_002dhops">Multi-hops</a></li>
<li><a href="#index-tramp_002ddefault_002dremote_002dpath-149"><code>tramp-default-remote-path</code></a>: <a href="#Remote-programs">Remote programs</a></li>
<li><a href="#index-tramp_002ddefault_002duser_002dalist-114"><code>tramp-default-user-alist</code></a>: <a href="#Default-User">Default User</a></li>
<li><a href="#index-tramp_002dgvfs_002dmethods-101"><code>tramp-gvfs-methods</code></a>: <a href="#GVFS-based-methods">GVFS based methods</a></li>
<li><a href="#index-tramp_002down_002dremote_002dpath-150"><code>tramp-own-remote-path</code></a>: <a href="#Remote-programs">Remote programs</a></li>
<li><a href="#index-tramp_002dpassword_002dprompt_002dregexp-158"><code>tramp-password-prompt-regexp</code></a>: <a href="#Remote-shell-setup">Remote shell setup</a></li>
<li><a href="#index-tramp_002dpersistency_002dfile_002dname-146"><code>tramp-persistency-file-name</code></a>: <a href="#Connection-caching">Connection caching</a></li>
<li><a href="#index-tramp_002dremote_002dpath-148"><code>tramp-remote-path</code></a>: <a href="#Remote-programs">Remote programs</a></li>
<li><a href="#index-tramp_002drestricted_002dshell_002dhosts_002dalist-123"><code>tramp-restricted-shell-hosts-alist</code></a>: <a href="#Multi_002dhops">Multi-hops</a></li>
<li><a href="#index-tramp_002dsave_002dad_002dhoc_002dproxies-186"><code>tramp-save-ad-hoc-proxies</code></a>: <a href="#Ad_002dhoc-multi_002dhops">Ad-hoc multi-hops</a></li>
<li><a href="#index-tramp_002dshell_002dprompt_002dpattern-157"><code>tramp-shell-prompt-pattern</code></a>: <a href="#Remote-shell-setup">Remote shell setup</a></li>
<li><a href="#index-tramp_002dterminal_002dtype-162"><code>tramp-terminal-type</code></a>: <a href="#Remote-shell-setup">Remote shell setup</a></li>
<li><a href="#index-tramp_002dwrong_002dpasswd_002dregexp-159"><code>tramp-wrong-passwd-regexp</code></a>: <a href="#Remote-shell-setup">Remote shell setup</a></li>
   </ul><div class="node">
<a name="Concept-Index"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Variable-Index">Variable Index</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="unnumbered">Concept Index</h2>



<ul class="index-cp" compact>
<li><a href="#index-g_t_0040file_007b_002elogin_007d-file-154"><samp><span class="file">.login</span></samp> file</a>: <a href="#Remote-shell-setup">Remote shell setup</a></li>
<li><a href="#index-g_t_0040file_007b_002eprofile_007d-file-153"><samp><span class="file">.profile</span></samp> file</a>: <a href="#Remote-shell-setup">Remote shell setup</a></li>
<li><a href="#index-adb-method-85">adb method</a>: <a href="#External-methods">External methods</a></li>
<li><a href="#index-afp-method-90">afp method</a>: <a href="#GVFS-based-methods">GVFS based methods</a></li>
<li><a href="#index-android-shell-setup-166">android shell setup</a>: <a href="#Android-shell-setup">Android shell setup</a></li>
<li><a href="#index-auto_002dsave-167">auto-save</a>: <a href="#Auto_002dsave-and-Backup">Auto-save and Backup</a></li>
<li><a href="#index-backup-168">backup</a>: <a href="#Auto_002dsave-and-Backup">Auto-save and Backup</a></li>
<li><a href="#index-base_002d64-encoding-19">base-64 encoding</a>: <a href="#Inline-methods">Inline methods</a></li>
<li><a href="#index-behind-the-scenes-2">behind the scenes</a>: <a href="#Overview">Overview</a></li>
<li><a href="#index-bug-reports-203">bug reports</a>: <a href="#Bug-Reports">Bug Reports</a></li>
<li><a href="#index-caching-145">caching</a>: <a href="#Connection-caching">Connection caching</a></li>
<li><a href="#index-choosing-the-right-method-112">choosing the right method</a>: <a href="#Default-Method">Default Method</a></li>
<li><a href="#index-cleanup-198">cleanup</a>: <a href="#Cleanup-remote-connections">Cleanup remote connections</a></li>
<li><a href="#index-compile-188">compile</a>: <a href="#Remote-processes">Remote processes</a></li>
<li><a href="#index-configuration-8">configuration</a>: <a href="#Configuration">Configuration</a></li>
<li><a href="#index-connection-types_002c-overview-10">connection types, overview</a>: <a href="#Connection-types">Connection types</a></li>
<li><a href="#index-create-your-own-methods-126">create your own methods</a>: <a href="#Customizing-Methods">Customizing Methods</a></li>
<li><a href="#index-customizing-completion-127">customizing completion</a>: <a href="#Customizing-Completion">Customizing Completion</a></li>
<li><a href="#index-customizing-methods-124">customizing methods</a>: <a href="#Customizing-Methods">Customizing Methods</a></li>
<li><a href="#index-Cygwin-and-ssh_002dagent-175">Cygwin and ssh-agent</a>: <a href="#Windows-setup-hints">Windows setup hints</a></li>
<li><a href="#index-Cygwin_002c-issues-170">Cygwin, issues</a>: <a href="#Windows-setup-hints">Windows setup hints</a></li>
<li><a href="#index-dav-method-93">dav method</a>: <a href="#GVFS-based-methods">GVFS based methods</a></li>
<li><a href="#index-davs-method-94">davs method</a>: <a href="#GVFS-based-methods">GVFS based methods</a></li>
<li><a href="#index-dbus-88">dbus</a>: <a href="#GVFS-based-methods">GVFS based methods</a></li>
<li><a href="#index-default-configuration-9">default configuration</a>: <a href="#Configuration">Configuration</a></li>
<li><a href="#index-default-host-115">default host</a>: <a href="#Default-Host">Default Host</a></li>
<li><a href="#index-default-method-109">default method</a>: <a href="#Default-Method">Default Method</a></li>
<li><a href="#index-default-user-113">default user</a>: <a href="#Default-User">Default User</a></li>
<li><a href="#index-details-of-operation-3">details of operation</a>: <a href="#Overview">Overview</a></li>
<li><a href="#index-development-history-7">development history</a>: <a href="#History">History</a></li>
<li><a href="#index-eshell-192">eshell</a>: <a href="#Remote-processes">Remote processes</a></li>
<li><a href="#index-external-methods-12">external methods</a>: <a href="#Connection-types">Connection types</a></li>
<li><a href="#index-external-methods-43">external methods</a>: <a href="#External-methods">External methods</a></li>
<li><a href="#index-FAQ-206">FAQ</a>: <a href="#Frequently-Asked-Questions">Frequently Asked Questions</a></li>
<li><a href="#index-fcp-_0028with-fcp-method_0029-73">fcp (with fcp method)</a>: <a href="#External-methods">External methods</a></li>
<li><a href="#index-fcp-method-71">fcp method</a>: <a href="#External-methods">External methods</a></li>
<li><a href="#index-file-name-completion-181">file name completion</a>: <a href="#File-name-completion">File name completion</a></li>
<li><a href="#index-file-name-examples-180">file name examples</a>: <a href="#File-name-Syntax">File name Syntax</a></li>
<li><a href="#index-file-name-syntax-179">file name syntax</a>: <a href="#File-name-Syntax">File name Syntax</a></li>
<li><a href="#index-frequently-asked-questions-205">frequently asked questions</a>: <a href="#Frequently-Asked-Questions">Frequently Asked Questions</a></li>
<li><a href="#index-fsh-_0028with-fcp-method_0029-72">fsh (with fcp method)</a>: <a href="#External-methods">External methods</a></li>
<li><a href="#index-fsh-method-75">fsh method</a>: <a href="#External-methods">External methods</a></li>
<li><a href="#index-ftp-method-81">ftp method</a>: <a href="#External-methods">External methods</a></li>
<li><a href="#index-gateway-methods-104">gateway methods</a>: <a href="#Gateway-methods">Gateway methods</a></li>
<li><a href="#index-gdb-194">gdb</a>: <a href="#Remote-processes">Remote processes</a></li>
<li><a href="#index-gud-193">gud</a>: <a href="#Remote-processes">Remote processes</a></li>
<li><a href="#index-gvfs-based-methods-87">gvfs based methods</a>: <a href="#GVFS-based-methods">GVFS based methods</a></li>
<li><a href="#index-history-6">history</a>: <a href="#History">History</a></li>
<li><a href="#index-how-it-works-4">how it works</a>: <a href="#Overview">Overview</a></li>
<li><a href="#index-inline-methods-11">inline methods</a>: <a href="#Connection-types">Connection types</a></li>
<li><a href="#index-inline-methods-15">inline methods</a>: <a href="#Inline-methods">Inline methods</a></li>
<li><a href="#index-Kerberos-_0028with-krlogin-method_0029-34">Kerberos (with krlogin method)</a>: <a href="#Inline-methods">Inline methods</a></li>
<li><a href="#index-Kerberos-_0028with-ksu-method_0029-37">Kerberos (with ksu method)</a>: <a href="#Inline-methods">Inline methods</a></li>
<li><a href="#index-krlogin-method-33">krlogin method</a>: <a href="#Inline-methods">Inline methods</a></li>
<li><a href="#index-ksu-method-36">ksu method</a>: <a href="#Inline-methods">Inline methods</a></li>
<li><a href="#index-method-adb-84">method adb</a>: <a href="#External-methods">External methods</a></li>
<li><a href="#index-method-afp-89">method afp</a>: <a href="#GVFS-based-methods">GVFS based methods</a></li>
<li><a href="#index-method-dav-91">method dav</a>: <a href="#GVFS-based-methods">GVFS based methods</a></li>
<li><a href="#index-method-davs-92">method davs</a>: <a href="#GVFS-based-methods">GVFS based methods</a></li>
<li><a href="#index-method-fcp-70">method fcp</a>: <a href="#External-methods">External methods</a></li>
<li><a href="#index-method-fsh-74">method fsh</a>: <a href="#External-methods">External methods</a></li>
<li><a href="#index-method-ftp-80">method ftp</a>: <a href="#External-methods">External methods</a></li>
<li><a href="#index-method-krlogin-32">method krlogin</a>: <a href="#Inline-methods">Inline methods</a></li>
<li><a href="#index-method-ksu-35">method ksu</a>: <a href="#Inline-methods">Inline methods</a></li>
<li><a href="#index-method-nc-76">method nc</a>: <a href="#External-methods">External methods</a></li>
<li><a href="#index-method-obex-95">method obex</a>: <a href="#GVFS-based-methods">GVFS based methods</a></li>
<li><a href="#index-method-plink-38">method plink</a>: <a href="#Inline-methods">Inline methods</a></li>
<li><a href="#index-method-plinkx-40">method plinkx</a>: <a href="#Inline-methods">Inline methods</a></li>
<li><a href="#index-method-pscp-60">method pscp</a>: <a href="#External-methods">External methods</a></li>
<li><a href="#index-method-psftp-65">method psftp</a>: <a href="#External-methods">External methods</a></li>
<li><a href="#index-method-rcp-44">method rcp</a>: <a href="#External-methods">External methods</a></li>
<li><a href="#index-method-rsh-20">method rsh</a>: <a href="#Inline-methods">Inline methods</a></li>
<li><a href="#index-method-rsync-52">method rsync</a>: <a href="#External-methods">External methods</a></li>
<li><a href="#index-method-scp-48">method scp</a>: <a href="#External-methods">External methods</a></li>
<li><a href="#index-method-scpx-56">method scpx</a>: <a href="#External-methods">External methods</a></li>
<li><a href="#index-method-scpx-with-Cygwin-173">method scpx with Cygwin</a>: <a href="#Windows-setup-hints">Windows setup hints</a></li>
<li><a href="#index-method-sftp-97">method sftp</a>: <a href="#GVFS-based-methods">GVFS based methods</a></li>
<li><a href="#index-method-smb-82">method smb</a>: <a href="#External-methods">External methods</a></li>
<li><a href="#index-method-socks-107">method socks</a>: <a href="#Gateway-methods">Gateway methods</a></li>
<li><a href="#index-method-ssh-22">method ssh</a>: <a href="#Inline-methods">Inline methods</a></li>
<li><a href="#index-method-sshx-30">method sshx</a>: <a href="#Inline-methods">Inline methods</a></li>
<li><a href="#index-method-sshx-with-Cygwin-171">method sshx with Cygwin</a>: <a href="#Windows-setup-hints">Windows setup hints</a></li>
<li><a href="#index-method-su-26">method su</a>: <a href="#Inline-methods">Inline methods</a></li>
<li><a href="#index-method-sudo-28">method sudo</a>: <a href="#Inline-methods">Inline methods</a></li>
<li><a href="#index-method-synce-99">method synce</a>: <a href="#GVFS-based-methods">GVFS based methods</a></li>
<li><a href="#index-method-telnet-24">method telnet</a>: <a href="#Inline-methods">Inline methods</a></li>
<li><a href="#index-method-tunnel-105">method tunnel</a>: <a href="#Gateway-methods">Gateway methods</a></li>
<li><a href="#index-methods_002c-external-42">methods, external</a>: <a href="#External-methods">External methods</a></li>
<li><a href="#index-methods_002c-external-14">methods, external</a>: <a href="#Connection-types">Connection types</a></li>
<li><a href="#index-methods_002c-gateway-103">methods, gateway</a>: <a href="#Gateway-methods">Gateway methods</a></li>
<li><a href="#index-methods_002c-gvfs-86">methods, gvfs</a>: <a href="#GVFS-based-methods">GVFS based methods</a></li>
<li><a href="#index-methods_002c-inline-13">methods, inline</a>: <a href="#Connection-types">Connection types</a></li>
<li><a href="#index-methods_002c-inline-16">methods, inline</a>: <a href="#Inline-methods">Inline methods</a></li>
<li><a href="#index-mimencode-18">mimencode</a>: <a href="#Inline-methods">Inline methods</a></li>
<li><a href="#index-multi_002dhop-118">multi-hop</a>: <a href="#Multi_002dhops">Multi-hops</a></li>
<li><a href="#index-multi_002dhop_002c-ad_002dhoc-184">multi-hop, ad-hoc</a>: <a href="#Ad_002dhoc-multi_002dhops">Ad-hoc multi-hops</a></li>
<li><a href="#index-nc-_0028with-nc-method_0029-78">nc (with nc method)</a>: <a href="#External-methods">External methods</a></li>
<li><a href="#index-nc-method-77">nc method</a>: <a href="#External-methods">External methods</a></li>
<li><a href="#index-nc-Unix-command-165">nc Unix command</a>: <a href="#Remote-shell-setup">Remote shell setup</a></li>
<li><a href="#index-obex-method-96">obex method</a>: <a href="#GVFS-based-methods">GVFS based methods</a></li>
<li><a href="#index-obtaining-Tramp-5">obtaining Tramp</a>: <a href="#Obtaining-Tramp">Obtaining Tramp</a></li>
<li><a href="#index-overview-1">overview</a>: <a href="#Overview">Overview</a></li>
<li><a href="#index-passwords-141">passwords</a>: <a href="#Password-handling">Password handling</a></li>
<li><a href="#index-perldb-195">perldb</a>: <a href="#Remote-processes">Remote processes</a></li>
<li><a href="#index-plink-_0028with-pscp-method_0029-63">plink (with pscp method)</a>: <a href="#External-methods">External methods</a></li>
<li><a href="#index-plink-_0028with-psftp-method_0029-68">plink (with psftp method)</a>: <a href="#External-methods">External methods</a></li>
<li><a href="#index-plink-method-39">plink method</a>: <a href="#Inline-methods">Inline methods</a></li>
<li><a href="#index-plinkx-method-41">plinkx method</a>: <a href="#Inline-methods">Inline methods</a></li>
<li><a href="#index-powershell-197">powershell</a>: <a href="#Remote-processes">Remote processes</a></li>
<li><a href="#index-proxy-hosts-119">proxy hosts</a>: <a href="#Multi_002dhops">Multi-hops</a></li>
<li><a href="#index-proxy-hosts_002c-ad_002dhoc-185">proxy hosts, ad-hoc</a>: <a href="#Ad_002dhoc-multi_002dhops">Ad-hoc multi-hops</a></li>
<li><a href="#index-pscp-_0028with-pscp-method_0029-62">pscp (with pscp method)</a>: <a href="#External-methods">External methods</a></li>
<li><a href="#index-pscp-_0028with-psftp-method_0029-67">pscp (with psftp method)</a>: <a href="#External-methods">External methods</a></li>
<li><a href="#index-pscp-method-61">pscp method</a>: <a href="#External-methods">External methods</a></li>
<li><a href="#index-psftp-method-66">psftp method</a>: <a href="#External-methods">External methods</a></li>
<li><a href="#index-PuTTY-_0028with-pscp-method_0029-64">PuTTY (with pscp method)</a>: <a href="#External-methods">External methods</a></li>
<li><a href="#index-PuTTY-_0028with-psftp-method_0029-69">PuTTY (with psftp method)</a>: <a href="#External-methods">External methods</a></li>
<li><a href="#index-rcp-_0028with-rcp-method_0029-46">rcp (with rcp method)</a>: <a href="#External-methods">External methods</a></li>
<li><a href="#index-rcp-method-45">rcp method</a>: <a href="#External-methods">External methods</a></li>
<li><a href="#index-recompile-189">recompile</a>: <a href="#Remote-processes">Remote processes</a></li>
<li><a href="#index-remote-shell-setup-152">remote shell setup</a>: <a href="#Remote-shell-setup">Remote shell setup</a></li>
<li><a href="#index-rsh-_0028with-rcp-method_0029-47">rsh (with rcp method)</a>: <a href="#External-methods">External methods</a></li>
<li><a href="#index-rsh-method-21">rsh method</a>: <a href="#Inline-methods">Inline methods</a></li>
<li><a href="#index-rsync-_0028with-rsync-method_0029-54">rsync (with rsync method)</a>: <a href="#External-methods">External methods</a></li>
<li><a href="#index-rsync-method-53">rsync method</a>: <a href="#External-methods">External methods</a></li>
<li><a href="#index-scp-_0028with-scp-method_0029-50">scp (with scp method)</a>: <a href="#External-methods">External methods</a></li>
<li><a href="#index-scp-_0028with-scpx-method_0029-58">scp (with scpx method)</a>: <a href="#External-methods">External methods</a></li>
<li><a href="#index-scp-method-49">scp method</a>: <a href="#External-methods">External methods</a></li>
<li><a href="#index-scpx-method-57">scpx method</a>: <a href="#External-methods">External methods</a></li>
<li><a href="#index-scpx-method-with-Cygwin-174">scpx method with Cygwin</a>: <a href="#Windows-setup-hints">Windows setup hints</a></li>
<li><a href="#index-selecting-config-files-128">selecting config files</a>: <a href="#Customizing-Completion">Customizing Completion</a></li>
<li><a href="#index-sftp-method-98">sftp method</a>: <a href="#GVFS-based-methods">GVFS based methods</a></li>
<li><a href="#index-shell-190">shell</a>: <a href="#Remote-processes">Remote processes</a></li>
<li><a href="#index-shell-init-files-155">shell init files</a>: <a href="#Remote-shell-setup">Remote shell setup</a></li>
<li><a href="#index-shell_002dcommand-191">shell-command</a>: <a href="#Remote-processes">Remote processes</a></li>
<li><a href="#index-smb-method-83">smb method</a>: <a href="#External-methods">External methods</a></li>
<li><a href="#index-socks-method-108">socks method</a>: <a href="#Gateway-methods">Gateway methods</a></li>
<li><a href="#index-ssh-_0028with-rsync-method_0029-55">ssh (with rsync method)</a>: <a href="#External-methods">External methods</a></li>
<li><a href="#index-ssh-_0028with-scp-method_0029-51">ssh (with scp method)</a>: <a href="#External-methods">External methods</a></li>
<li><a href="#index-ssh-_0028with-scpx-method_0029-59">ssh (with scpx method)</a>: <a href="#External-methods">External methods</a></li>
<li><a href="#index-ssh-method-23">ssh method</a>: <a href="#Inline-methods">Inline methods</a></li>
<li><a href="#index-SSH_005fAUTH_005fSOCK-and-_0040value_007bemacsname_007d-on-Windows-176">SSH_AUTH_SOCK and Emacs on Windows</a>: <a href="#Windows-setup-hints">Windows setup hints</a></li>
<li><a href="#index-sshx-method-31">sshx method</a>: <a href="#Inline-methods">Inline methods</a></li>
<li><a href="#index-sshx-method-with-Cygwin-172">sshx method with Cygwin</a>: <a href="#Windows-setup-hints">Windows setup hints</a></li>
<li><a href="#index-su-method-27">su method</a>: <a href="#Inline-methods">Inline methods</a></li>
<li><a href="#index-sudo-method-29">sudo method</a>: <a href="#Inline-methods">Inline methods</a></li>
<li><a href="#index-synce-method-100">synce method</a>: <a href="#GVFS-based-methods">GVFS based methods</a></li>
<li><a href="#index-telnet-_0028with-nc-method_0029-79">telnet (with nc method)</a>: <a href="#External-methods">External methods</a></li>
<li><a href="#index-telnet-method-25">telnet method</a>: <a href="#Inline-methods">Inline methods</a></li>
<li><a href="#index-tset-Unix-command-161">tset Unix command</a>: <a href="#Remote-shell-setup">Remote shell setup</a></li>
<li><a href="#index-tunnel-method-106">tunnel method</a>: <a href="#Gateway-methods">Gateway methods</a></li>
<li><a href="#index-type_002dahead-178">type-ahead</a>: <a href="#Usage">Usage</a></li>
<li><a href="#index-Unix-command-nc-164">Unix command nc</a>: <a href="#Remote-shell-setup">Remote shell setup</a></li>
<li><a href="#index-Unix-command-tset-160">Unix command tset</a>: <a href="#Remote-shell-setup">Remote shell setup</a></li>
<li><a href="#index-using-non_002dstandard-methods-125">using non-standard methods</a>: <a href="#Customizing-Methods">Customizing Methods</a></li>
<li><a href="#index-using-_0040value_007btramp_007d-177">using <span class="sc">tramp</span></a>: <a href="#Usage">Usage</a></li>
<li><a href="#index-uuencode-17">uuencode</a>: <a href="#Inline-methods">Inline methods</a></li>
<li><a href="#index-winexe-196">winexe</a>: <a href="#Remote-processes">Remote processes</a></li>
   </ul><div class="footnote">
<hr>
<a name="texinfo-footnotes-in-document"></a><h4>Footnotes</h4><p class="footnote"><small>[<a name="fn-1" href="#fnd-1">1</a>]</small> Invoking <samp><span class="command">/bin/sh</span></samp> will fail if your login
shell doesn't recognize &lsquo;<samp><span class="samp">exec /bin/sh</span></samp>&rsquo; as a valid command. 
Maybe you use the Scheme shell <samp><span class="command">scsh</span></samp><small class="dots">...</small></p>

   <p class="footnote"><small>[<a name="fn-2" href="#fnd-2">2</a>]</small> HTTP tunnels are intended for secure SSL/TLS
communication.  Therefore, many proxy server restrict the tunnels to
related target ports.  You might need to run your ssh server on your
target host &lsquo;<samp><span class="samp">host.other.domain</span></samp>&rsquo; on such a port, like 443 (https). 
See <a href="http://savannah.gnu.org/maintenance/CvsFromBehindFirewall">http://savannah.gnu.org/maintenance/CvsFromBehindFirewall</a>
for discussion of ethical issues.</p>

   <hr></div>

</body></html>

<!--

Local Variables:
coding: utf-8
End:

-->
