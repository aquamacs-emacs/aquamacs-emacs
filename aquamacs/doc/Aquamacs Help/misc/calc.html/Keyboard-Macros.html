<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<!-- This file documents Calc, the GNU Emacs calculator, included with
GNU Emacs 25.1.

Copyright (C) 1990-1991, 2001-2016 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being just "GNU GENERAL PUBLIC LICENSE", with the
Front-Cover Texts being "A GNU Manual," and with the Back-Cover
Texts as in (a) below.  A copy of the license is included in the section
entitled "GNU Free Documentation License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual." -->
<!-- Created by GNU Texinfo 5.2, http://www.gnu.org/software/texinfo/ -->

<head>
  <meta name="generator" content=
  "HTML Tidy for Mac OS X (vers 31 October 2006 - Apple Inc. build 15.18.1), see www.w3.org" />

  <title>GNU Emacs Calc Manual: Keyboard Macros</title>
  <meta name="description" content=
  "GNU Emacs Calc Manual: Keyboard Macros" />
  <meta name="keywords" content=
  "GNU Emacs Calc Manual: Keyboard Macros" />
  <meta name="resource-type" content="document" />
  <meta name="distribution" content="global" />
  <meta name="Generator" content="makeinfo" />
  <meta http-equiv="Content-Type" content=
  "text/html; charset=us-ascii" />
  <link href="index.html#Top" rel="start" title="Top" />
  <link href="Key-Index.html#Key-Index" rel="index" title=
  "Key Index" />
  <link href="index.html#SEC_Contents" rel="contents" title=
  "Table of Contents" />
  <link href="Programming.html#Programming" rel="up" title=
  "Programming" />
  <link href="Naming-Keyboard-Macros.html#Naming-Keyboard-Macros"
  rel="next" title="Naming Keyboard Macros" />
  <link href="Creating-User-Keys.html#Creating-User-Keys" rel=
  "prev" title="Creating User Keys" />
  <style type="text/css">
/*<![CDATA[*/
  <!--
  a.summary-letter {text-decoration: none}
  blockquote.smallquotation {font-size: smaller}
  div.display {margin-left: 3.2em}
  div.example {margin-left: 3.2em}
  div.indentedblock {margin-left: 3.2em}
  div.lisp {margin-left: 3.2em}
  div.smalldisplay {margin-left: 3.2em}
  div.smallexample {margin-left: 3.2em}
  div.smallindentedblock {margin-left: 3.2em; font-size: smaller}
  div.smalllisp {margin-left: 3.2em}
  kbd {font-style:oblique}
  pre.display {font-family: inherit}
  pre.format {font-family: inherit}
  pre.menu-comment {font-family: serif}
  pre.menu-preformatted {font-family: serif}
  pre.smalldisplay {font-family: inherit; font-size: smaller}
  pre.smallexample {font-size: smaller}
  pre.smallformat {font-family: inherit; font-size: smaller}
  pre.smalllisp {font-size: smaller}
  span.nocodebreak {white-space:nowrap}
  span.nolinebreak {white-space:nowrap}
  span.roman {font-family:serif; font-weight:normal}
  span.sansserif {font-family:sans-serif; font-weight:normal}
  ul.no-bullet {list-style: none}
  -->
  /*]]>*/
  </style>
  <style type="text/css">
/*<![CDATA[*/
  body {
  background-color: #FFFFFF;
  color: #000000;
  }
  :link { color: #0000FF }
  :visited { color: #800080 }
  :active { color: #FF0000 }
  /*]]>*/
  </style>
</head>

<body lang="en" xml:lang="en">
  <a name="Keyboard-Macros" id="Keyboard-Macros"></a>

  <div class="header">
    <p>Next: <a href="Invocation-Macros.html#Invocation-Macros"
    accesskey="n" rel="next">Invocation Macros</a>, Previous:
    <a href="Creating-User-Keys.html#Creating-User-Keys" accesskey=
    "p" rel="prev">Creating User Keys</a>, Up: <a href=
    "Programming.html#Programming" accesskey="u" rel=
    "up">Programming</a> &nbsp; [<a href="index.html#SEC_Contents"
    title="Table of contents" rel="contents">Contents</a>][<a href=
    "Key-Index.html#Key-Index" title="Index" rel=
    "index">Index</a>]</p>
  </div>
  <hr />
  <a name="Programming-with-Keyboard-Macros" id=
  "Programming-with-Keyboard-Macros"></a>

  <h3 class="section">17.2 Programming with Keyboard
  Macros</h3><a name="index-X" id="index-X"></a> <a name=
  "index-Programming-with-keyboard-macros" id=
  "index-Programming-with-keyboard-macros"></a> <a name=
  "index-Keyboard-macros" id="index-Keyboard-macros"></a>

  <p>The easiest way to &ldquo;program&rdquo; the Emacs Calculator
  is to use standard keyboard macros. Press <kbd><span class=
  "nolinebreak">C-x</span>&nbsp;(</kbd><!-- /@w --> to begin
  recording a macro. From this point on, keystrokes you type will
  be saved away as well as performing their usual functions. Press
  <kbd>C-x )</kbd> to end recording. Press shift-<kbd>X</kbd> (or
  the standard Emacs key sequence <kbd>C-x e</kbd>) to execute your
  keyboard macro by replaying the recorded keystrokes. See <a href=
  "http://www.gnu.org/software/emacs/manual/html_node/emacs/Keyboard-Macros.html#Keyboard-Macros">
  Keyboard Macros</a> in <cite>the Emacs Manual</cite>, for further
  information.</p>

  <p>When you use <kbd>X</kbd> to invoke a keyboard macro, the
  entire macro is treated as a single command by the undo and trail
  features. The stack display buffer is not updated during macro
  execution, but is instead fixed up once the macro completes.
  Thus, commands defined with keyboard macros are convenient and
  efficient. The <kbd>C-x e</kbd> command, on the other hand,
  invokes the keyboard macro with no special treatment: Each
  command in the macro will record its own undo information and
  trail entry, and update the stack buffer accordingly. If your
  macro uses features outside of Calc&rsquo;s control to operate on
  the contents of the Calc stack buffer, or if it includes Undo,
  Redo, or last-arguments commands, you must use <kbd>C-x e</kbd>
  to make sure the buffer and undo list are up-to-date at all
  times. You could also consider using <kbd>K</kbd>
  (<code>calc-keep-args</code>) instead of <kbd>M-<span class=
  "key">RET</span></kbd> (<code>calc-last-args</code>).</p>

  <p>Calc extends the standard Emacs keyboard macros in several
  ways. Keyboard macros can be used to create user-defined
  commands. Keyboard macros can include conditional and iteration
  structures, somewhat analogous to those provided by a traditional
  programmable calculator.</p>

  <table class="menu" border="0" cellspacing="0">
    <tr>
      <td align="left" valign="top">&bull; <a href=
      "Naming-Keyboard-Macros.html#Naming-Keyboard-Macros"
      accesskey="1">Naming Keyboard Macros</a>:</td>

      <td>&nbsp;&nbsp;</td>

      <td align="left" valign="top"></td>
    </tr>

    <tr>
      <td align="left" valign="top">&bull; <a href=
      "Conditionals-in-Macros.html#Conditionals-in-Macros"
      accesskey="2">Conditionals in Macros</a>:</td>

      <td>&nbsp;&nbsp;</td>

      <td align="left" valign="top"></td>
    </tr>

    <tr>
      <td align="left" valign="top">&bull; <a href=
      "Loops-in-Macros.html#Loops-in-Macros" accesskey="3">Loops in
      Macros</a>:</td>

      <td>&nbsp;&nbsp;</td>

      <td align="left" valign="top"></td>
    </tr>

    <tr>
      <td align="left" valign="top">&bull; <a href=
      "Local-Values-in-Macros.html#Local-Values-in-Macros"
      accesskey="4">Local Values in Macros</a>:</td>

      <td>&nbsp;&nbsp;</td>

      <td align="left" valign="top"></td>
    </tr>

    <tr>
      <td align="left" valign="top">&bull; <a href=
      "Queries-in-Macros.html#Queries-in-Macros" accesskey=
      "5">Queries in Macros</a>:</td>

      <td>&nbsp;&nbsp;</td>

      <td align="left" valign="top"></td>
    </tr>
  </table>
  <hr />

  <div class="header">
    <p>Next: <a href="Invocation-Macros.html#Invocation-Macros"
    accesskey="n" rel="next">Invocation Macros</a>, Previous:
    <a href="Creating-User-Keys.html#Creating-User-Keys" accesskey=
    "p" rel="prev">Creating User Keys</a>, Up: <a href=
    "Programming.html#Programming" accesskey="u" rel=
    "up">Programming</a> &nbsp; [<a href="index.html#SEC_Contents"
    title="Table of contents" rel="contents">Contents</a>][<a href=
    "Key-Index.html#Key-Index" title="Index" rel=
    "index">Index</a>]</p>
  </div>
</body>
</html>
