<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<!-- This file documents Calc, the GNU Emacs calculator, included with
GNU Emacs 25.1.

Copyright (C) 1990-1991, 2001-2016 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being just "GNU GENERAL PUBLIC LICENSE", with the
Front-Cover Texts being "A GNU Manual," and with the Back-Cover
Texts as in (a) below.  A copy of the license is included in the section
entitled "GNU Free Documentation License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual." -->
<!-- Created by GNU Texinfo 5.2, http://www.gnu.org/software/texinfo/ -->

<head>
  <meta name="generator" content=
  "HTML Tidy for Mac OS X (vers 31 October 2006 - Apple Inc. build 16.1), see www.w3.org" />

  <title>GNU Emacs Calc Manual: Devices</title>
  <meta name="description" content=
  "GNU Emacs Calc Manual: Devices" />
  <meta name="keywords" content="GNU Emacs Calc Manual: Devices" />
  <meta name="resource-type" content="document" />
  <meta name="distribution" content="global" />
  <meta name="Generator" content="makeinfo" />
  <meta http-equiv="Content-Type" content=
  "text/html; charset=us-ascii" />
  <link href="index.html#Top" rel="start" title="Top" />
  <link href="Key-Index.html#Key-Index" rel="index" title=
  "Key Index" />
  <link href="index.html#SEC_Contents" rel="contents" title=
  "Table of Contents" />
  <link href="Graphics.html#Graphics" rel="up" title="Graphics" />
  <link href="Kill-and-Yank.html#Kill-and-Yank" rel="next" title=
  "Kill and Yank" />
  <link href="Graphics-Options.html#Graphics-Options" rel="prev"
  title="Graphics Options" />
  <style type="text/css">
/*<![CDATA[*/
  <!--
  a.summary-letter {text-decoration: none}
  blockquote.smallquotation {font-size: smaller}
  div.display {margin-left: 3.2em}
  div.example {margin-left: 3.2em}
  div.indentedblock {margin-left: 3.2em}
  div.lisp {margin-left: 3.2em}
  div.smalldisplay {margin-left: 3.2em}
  div.smallexample {margin-left: 3.2em}
  div.smallindentedblock {margin-left: 3.2em; font-size: smaller}
  div.smalllisp {margin-left: 3.2em}
  kbd {font-style:oblique}
  pre.display {font-family: inherit}
  pre.format {font-family: inherit}
  pre.menu-comment {font-family: serif}
  pre.menu-preformatted {font-family: serif}
  pre.smalldisplay {font-family: inherit; font-size: smaller}
  pre.smallexample {font-size: smaller}
  pre.smallformat {font-family: inherit; font-size: smaller}
  pre.smalllisp {font-size: smaller}
  span.nocodebreak {white-space:nowrap}
  span.nolinebreak {white-space:nowrap}
  span.roman {font-family:serif; font-weight:normal}
  span.sansserif {font-family:sans-serif; font-weight:normal}
  ul.no-bullet {list-style: none}
  -->
  /*]]>*/
  </style>
  <style type="text/css">
/*<![CDATA[*/
  body {
  background-color: #FFFFFF;
  color: #000000;
  }
  :link { color: #0000FF }
  :visited { color: #800080 }
  :active { color: #FF0000 }
  /*]]>*/
  </style>
</head>

<body lang="en" xml:lang="en">
  <a name="Devices" id="Devices"></a>

  <div class="header">
    <p>Previous: <a href="Graphics-Options.html#Graphics-Options"
    accesskey="p" rel="prev">Graphics Options</a>, Up: <a href=
    "Graphics.html#Graphics" accesskey="u" rel="up">Graphics</a>
    &nbsp; [<a href="index.html#SEC_Contents" title=
    "Table of contents" rel="contents">Contents</a>][<a href=
    "Key-Index.html#Key-Index" title="Index" rel=
    "index">Index</a>]</p>
  </div>
  <hr />
  <a name="Graphical-Devices" id="Graphical-Devices"></a>

  <h3 class="section">13.5 Graphical Devices</h3><a name=
  "index-g-D" id="index-g-D"></a> <a name=
  "index-calc_002dgraph_002ddevice" id=
  "index-calc_002dgraph_002ddevice"></a>

  <p>The <kbd>g D</kbd> (<code>calc-graph-device</code>) command
  sets the device name (or &ldquo;terminal name&rdquo; in GNUPLOT
  lingo) to be used by <kbd>g p</kbd> commands on this graph. It
  does not affect the permanent default device name. If you enter a
  blank name, the device name reverts to the default. Enter
  &lsquo;<samp>?</samp>&rsquo; to see a list of supported
  devices.</p>

  <p>With a positive numeric prefix argument, <kbd>g D</kbd>
  instead sets the default device name, used by all plots in the
  future which do not override it with a plain <kbd>g D</kbd>
  command. If you enter a blank line this command shows you the
  current default. The special name <code>default</code> signifies
  that Calc should choose <code>x11</code> if the X window system
  is in use (as indicated by the presence of a <code>DISPLAY</code>
  environment variable), <code>windows</code> on MS-Windows, or
  otherwise <code>dumb</code> under GNUPLOT 3.0 and later, or
  <code>postscript</code> under GNUPLOT 2.0. This is the initial
  default value.</p>

  <p>The <code>dumb</code> device is an interface to &ldquo;dumb
  terminals,&rdquo; i.e., terminals with no special graphics
  facilities. It writes a crude picture of the graph composed of
  characters like <code>-</code> and <code>|</code> to a buffer
  called <samp>*Gnuplot Trail*</samp>, which Calc then displays.
  The graph is made the same size as the Emacs screen, which on
  most dumb terminals will be 80x24 characters. The graph is
  displayed in an Emacs &ldquo;recursive edit&rdquo;; type
  <kbd>q</kbd> or <kbd>C-c C-c</kbd> to exit the recursive edit and
  return to Calc. Note that the <code>dumb</code> device is present
  only in GNUPLOT 3.0 and later versions.</p>

  <p>The word <code>dumb</code> may be followed by two numbers
  separated by spaces. These are the desired width and height of
  the graph in characters. Also, the device name <code>big</code>
  is like <code>dumb</code> but creates a graph four times the
  width and height of the Emacs screen. You will then have to
  scroll around to view the entire graph. In the <samp>*Gnuplot
  Trail*</samp> buffer, <tt class="key">SPC</tt>, <tt class=
  "key">DEL</tt>, <kbd>&lt;</kbd>, and <kbd>&gt;</kbd> are defined
  to scroll by one screenful in each of the four directions.</p>

  <p>With a negative numeric prefix argument, <kbd>g D</kbd> sets
  or displays the device name used by <kbd>g P</kbd>
  (<code>calc-graph-print</code>). This is initially
  <code>postscript</code>. If you don&rsquo;t have a PostScript
  printer, you may decide once again to use <code>dumb</code> to
  create a plot on any text-only printer.</p><a name="index-g-O"
  id="index-g-O"></a> <a name="index-calc_002dgraph_002doutput" id=
  "index-calc_002dgraph_002doutput"></a>

  <p>The <kbd>g O</kbd> (<code>calc-graph-output</code>) command
  sets the name of the output file used by GNUPLOT. For some
  devices, notably <code>x11</code> and <code>windows</code>, there
  is no output file and this information is not used. Many other
  &ldquo;devices&rdquo; are really file formats like
  <code>postscript</code>; in these cases the output in the desired
  format goes into the file you name with <kbd>g O</kbd>. Type
  <kbd>g O stdout <span class="key">RET</span></kbd> to set GNUPLOT
  to write to its standard output stream, i.e., to <samp>*Gnuplot
  Trail*</samp>. This is the default setting.</p>

  <p>Another special output name is <code>tty</code>, which means
  that GNUPLOT is going to write graphics commands directly to its
  standard output, which you wish Emacs to pass through to your
  terminal. Tektronix graphics terminals, among other devices,
  operate this way. Calc does this by telling GNUPLOT to write to a
  temporary file, then running a sub-shell executing the command
  &lsquo;<samp>cat tempfile &gt;/dev/tty</samp>&rsquo;. On typical
  Unix systems, this will copy the temporary file directly to the
  terminal, bypassing Emacs entirely. You will have to type
  <kbd>C-l</kbd> to Emacs afterwards to refresh the screen.</p>

  <p>Once again, <kbd>g O</kbd> with a positive or negative prefix
  argument sets the default or printer output file names,
  respectively. In each case you can specify <code>auto</code>,
  which causes Calc to invent a temporary file name for each <kbd>g
  p</kbd> (or <kbd>g P</kbd>) command. This temporary file will be
  deleted once it has been displayed or printed. If the output file
  name is not <code>auto</code>, the file is not automatically
  deleted.</p>

  <p>The default and printer devices and output files can be saved
  permanently by the <kbd>m m</kbd> (<code>calc-save-modes</code>)
  command. The default number of data points (see <kbd>g N</kbd>)
  and the X geometry (see <kbd>g X</kbd>) are also saved. Other
  graph information is <em>not</em> saved; you can save a
  graph&rsquo;s configuration simply by saving the contents of the
  <samp>*Gnuplot Commands*</samp> buffer.</p><a name=
  "index-calc_002dgnuplot_002dplot_002dcommand" id=
  "index-calc_002dgnuplot_002dplot_002dcommand"></a> <a name=
  "index-calc_002dgnuplot_002ddefault_002ddevice" id=
  "index-calc_002dgnuplot_002ddefault_002ddevice"></a> <a name=
  "index-calc_002dgnuplot_002ddefault_002doutput" id=
  "index-calc_002dgnuplot_002ddefault_002doutput"></a> <a name=
  "index-calc_002dgnuplot_002dprint_002dcommand" id=
  "index-calc_002dgnuplot_002dprint_002dcommand"></a> <a name=
  "index-calc_002dgnuplot_002dprint_002ddevice" id=
  "index-calc_002dgnuplot_002dprint_002ddevice"></a> <a name=
  "index-calc_002dgnuplot_002dprint_002doutput" id=
  "index-calc_002dgnuplot_002dprint_002doutput"></a>

  <p>You may wish to configure the default and printer devices and
  output files for the whole system. The relevant Lisp variables
  are <code>calc-gnuplot-default-device</code> and
  <code>-output</code>, and <code>calc-gnuplot-print-device</code>
  and <code>-output</code>. The output file names must be either
  strings as described above, or Lisp expressions which are
  evaluated on the fly to get the output file names.</p>

  <p>Other important Lisp variables are
  <code>calc-gnuplot-plot-command</code> and
  <code>calc-gnuplot-print-command</code>, which give the system
  commands to display or print the output of GNUPLOT, respectively.
  These may be <code>nil</code> if no command is necessary, or
  strings which can include &lsquo;<samp>%s</samp>&rsquo; to
  signify the name of the file to be displayed or printed. Or,
  these variables may contain Lisp expressions which are evaluated
  to display or print the output. These variables are customizable
  (see <a href="Customizing-Calc.html#Customizing-Calc">Customizing
  Calc</a>).</p><a name="index-g-x" id="index-g-x"></a> <a name=
  "index-calc_002dgraph_002ddisplay" id=
  "index-calc_002dgraph_002ddisplay"></a>

  <p>The <kbd>g x</kbd> (<code>calc-graph-display</code>) command
  lets you specify on which X window system display your graphs
  should be drawn. Enter a blank line to see the current display
  name. This command has no effect unless the current device is
  <code>x11</code>.</p><a name="index-g-X" id="index-g-X"></a>
  <a name="index-calc_002dgraph_002dgeometry" id=
  "index-calc_002dgraph_002dgeometry"></a>

  <p>The <kbd>g X</kbd> (<code>calc-graph-geometry</code>) command
  is a similar command for specifying the position and size of the
  X window. The normal value is <code>default</code>, which
  generally means your window manager will let you place the window
  interactively. Entering &lsquo;<samp>800x500+0+0</samp>&rsquo;
  would create an 800-by-500 pixel window in the upper-left corner
  of the screen. This command has no effect if the current device
  is <code>windows</code>.</p>

  <p>The buffer called <samp>*Gnuplot Trail*</samp> holds a
  transcript of the session with GNUPLOT. This shows the commands
  Calc has &ldquo;typed&rdquo; to GNUPLOT and the responses it has
  received. Calc tries to notice when an error message has appeared
  here and display the buffer for you when this happens. You can
  check this buffer yourself if you suspect something has gone
  wrong<a name="DOCF1" href="#FOOT1" id=
  "DOCF1"><sup>1</sup></a>.</p><a name="index-g-C" id=
  "index-g-C"></a> <a name="index-calc_002dgraph_002dcommand" id=
  "index-calc_002dgraph_002dcommand"></a>

  <p>The <kbd>g C</kbd> (<code>calc-graph-command</code>) command
  prompts you to enter any line of text, then simply sends that
  line to the current GNUPLOT process. The <samp>*Gnuplot
  Trail*</samp> buffer looks deceptively like a Shell buffer but
  you can&rsquo;t type commands in it yourself. Instead, you must
  use <kbd>g C</kbd> for this purpose.</p><a name="index-g-v" id=
  "index-g-v"></a> <a name="index-g-V" id="index-g-V"></a> <a name=
  "index-calc_002dgraph_002dview_002dcommands" id=
  "index-calc_002dgraph_002dview_002dcommands"></a> <a name=
  "index-calc_002dgraph_002dview_002dtrail" id=
  "index-calc_002dgraph_002dview_002dtrail"></a>

  <p>The <kbd>g v</kbd> (<code>calc-graph-view-commands</code>) and
  <kbd>g V</kbd> (<code>calc-graph-view-trail</code>) commands
  display the <samp>*Gnuplot Commands*</samp> and <samp>*Gnuplot
  Trail*</samp> buffers, respectively, in another window. This
  happens automatically when Calc thinks there is something you
  will want to see in either of these buffers. If you type <kbd>g
  v</kbd> or <kbd>g V</kbd> when the relevant buffer is already
  displayed, the buffer is hidden again. (Note that on MS-Windows,
  the <samp>*Gnuplot Trail*</samp> buffer will usually show nothing
  of interest, because GNUPLOT&rsquo;s responses are not
  communicated back to Calc.)</p>

  <p>One reason to use <kbd>g v</kbd> is to add your own commands
  to the <samp>*Gnuplot Commands*</samp> buffer. Press <kbd>g
  v</kbd>, then use <kbd>C-x o</kbd> to switch into that window.
  For example, GNUPLOT has &lsquo;<samp>set label</samp>&rsquo; and
  &lsquo;<samp>set arrow</samp>&rsquo; commands that allow you to
  annotate your plots. Since Calc doesn&rsquo;t understand these
  commands, you have to add them to the <samp>*Gnuplot
  Commands*</samp> buffer yourself, then use <kbd>g&nbsp;p</kbd> 
  <!-- /@w --> to replot using these new commands. Note that your
  commands must appear <em>before</em> the <code>plot</code>
  command. To get help on any GNUPLOT feature, type, e.g., <kbd>g C
  help set label</kbd>. You may have to type <kbd>g C <span class=
  "key">RET</span></kbd> a few times to clear the &ldquo;press
  return for more&rdquo; or &ldquo;subtopic of &hellip;&rdquo;
  requests. Note that Calc always sends commands (like
  &lsquo;<samp>set nolabel</samp>&rsquo;) to reset all plotting
  parameters to the defaults before each plot, so to delete a label
  all you need to do is delete the &lsquo;<samp>set
  label</samp>&rsquo; line you added (or comment it out with
  &lsquo;<samp>#</samp>&rsquo;) and then replot with <kbd>g
  p</kbd>.</p><a name="index-g-q" id="index-g-q"></a> <a name=
  "index-calc_002dgraph_002dquit" id=
  "index-calc_002dgraph_002dquit"></a>

  <p>You can use <kbd>g q</kbd> (<code>calc-graph-quit</code>) to
  kill the GNUPLOT process that is running. The next graphing
  command you give will start a fresh GNUPLOT process. The word
  &lsquo;<samp>Graph</samp>&rsquo; appears in the Calc
  window&rsquo;s mode line whenever a GNUPLOT process is currently
  running. The GNUPLOT process is automatically killed when you
  exit Emacs if you haven&rsquo;t killed it manually by
  then.</p><a name="index-g-K" id="index-g-K"></a> <a name=
  "index-calc_002dgraph_002dkill" id=
  "index-calc_002dgraph_002dkill"></a>

  <p>The <kbd>g K</kbd> (<code>calc-graph-kill</code>) command is
  like <kbd>g q</kbd> except that it also views the <samp>*Gnuplot
  Trail*</samp> buffer so that you can see the process being
  killed. This is better if you are killing GNUPLOT because you
  think it has gotten stuck.</p>

  <div class="footnote">
    <hr />

    <h4 class="footnotes-heading">Footnotes</h4>

    <h3><a name="FOOT1" href="#DOCF1" id="FOOT1">(1)</a></h3>

    <p>On MS-Windows, due to the peculiarities of how the Windows
    version of GNUPLOT (called <code>wgnuplot</code>) works, the
    GNUPLOT responses are not communicated back to Calc. Instead,
    you need to look them up in the GNUPLOT command window that is
    displayed as in normal interactive usage of GNUPLOT.</p>
  </div>
  <hr />

  <div class="header">
    <p>Previous: <a href="Graphics-Options.html#Graphics-Options"
    accesskey="p" rel="prev">Graphics Options</a>, Up: <a href=
    "Graphics.html#Graphics" accesskey="u" rel="up">Graphics</a>
    &nbsp; [<a href="index.html#SEC_Contents" title=
    "Table of contents" rel="contents">Contents</a>][<a href=
    "Key-Index.html#Key-Index" title="Index" rel=
    "index">Index</a>]</p>
  </div>
</body>
</html>
