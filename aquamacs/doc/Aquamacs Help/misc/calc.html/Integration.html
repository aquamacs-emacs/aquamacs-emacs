<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<!-- This file documents Calc, the GNU Emacs calculator, included with
GNU Emacs 25.1.

Copyright (C) 1990-1991, 2001-2016 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being just "GNU GENERAL PUBLIC LICENSE", with the
Front-Cover Texts being "A GNU Manual," and with the Back-Cover
Texts as in (a) below.  A copy of the license is included in the section
entitled "GNU Free Documentation License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual." -->
<!-- Created by GNU Texinfo 5.2, http://www.gnu.org/software/texinfo/ -->

<head>
  <meta name="generator" content=
  "HTML Tidy for Mac OS X (vers 31 October 2006 - Apple Inc. build 15.18.1), see www.w3.org" />

  <title>GNU Emacs Calc Manual: Integration</title>
  <meta name="description" content=
  "GNU Emacs Calc Manual: Integration" />
  <meta name="keywords" content=
  "GNU Emacs Calc Manual: Integration" />
  <meta name="resource-type" content="document" />
  <meta name="distribution" content="global" />
  <meta name="Generator" content="makeinfo" />
  <meta http-equiv="Content-Type" content=
  "text/html; charset=us-ascii" />
  <link href="index.html#Top" rel="start" title="Top" />
  <link href="Key-Index.html#Key-Index" rel="index" title=
  "Key Index" />
  <link href="index.html#SEC_Contents" rel="contents" title=
  "Table of Contents" />
  <link href="Calculus.html#Calculus" rel="up" title="Calculus" />
  <link href=
  "Customizing-the-Integrator.html#Customizing-the-Integrator" rel=
  "next" title="Customizing the Integrator" />
  <link href="Differentiation.html#Differentiation" rel="prev"
  title="Differentiation" />
  <style type="text/css">
/*<![CDATA[*/
  <!--
  a.summary-letter {text-decoration: none}
  blockquote.smallquotation {font-size: smaller}
  div.display {margin-left: 3.2em}
  div.example {margin-left: 3.2em}
  div.indentedblock {margin-left: 3.2em}
  div.lisp {margin-left: 3.2em}
  div.smalldisplay {margin-left: 3.2em}
  div.smallexample {margin-left: 3.2em}
  div.smallindentedblock {margin-left: 3.2em; font-size: smaller}
  div.smalllisp {margin-left: 3.2em}
  kbd {font-style:oblique}
  pre.display {font-family: inherit}
  pre.format {font-family: inherit}
  pre.menu-comment {font-family: serif}
  pre.menu-preformatted {font-family: serif}
  pre.smalldisplay {font-family: inherit; font-size: smaller}
  pre.smallexample {font-size: smaller}
  pre.smallformat {font-family: inherit; font-size: smaller}
  pre.smalllisp {font-size: smaller}
  span.nocodebreak {white-space:nowrap}
  span.nolinebreak {white-space:nowrap}
  span.roman {font-family:serif; font-weight:normal}
  span.sansserif {font-family:sans-serif; font-weight:normal}
  ul.no-bullet {list-style: none}
  -->
  /*]]>*/
  </style>
  <style type="text/css">
/*<![CDATA[*/
  body {
  background-color: #FFFFFF;
  color: #000000;
  }
  :link { color: #0000FF }
  :visited { color: #800080 }
  :active { color: #FF0000 }
  /*]]>*/
  </style>
</head>

<body lang="en" xml:lang="en">
  <a name="Integration" id="Integration"></a>

  <div class="header">
    <p>Next: <a href=
    "Customizing-the-Integrator.html#Customizing-the-Integrator"
    accesskey="n" rel="next">Customizing the Integrator</a>,
    Previous: <a href="Differentiation.html#Differentiation"
    accesskey="p" rel="prev">Differentiation</a>, Up: <a href=
    "Calculus.html#Calculus" accesskey="u" rel="up">Calculus</a>
    &nbsp; [<a href="index.html#SEC_Contents" title=
    "Table of contents" rel="contents">Contents</a>][<a href=
    "Key-Index.html#Key-Index" title="Index" rel=
    "index">Index</a>]</p>
  </div>
  <hr />
  <a name="Integration-1" id="Integration-1"></a>

  <h4 class="subsection">10.5.2 Integration</h4><a name="index-a-i"
  id="index-a-i"></a> <a name="index-calc_002dintegral" id=
  "index-calc_002dintegral"></a> <a name="index-integ-1" id=
  "index-integ-1"></a>

  <p>The <kbd>a i</kbd> (<code>calc-integral</code>)
  [<code>integ</code>] command computes the indefinite integral of
  the expression on the top of the stack with respect to a
  prompted-for variable. The integrator is not guaranteed to work
  for all integrable functions, but it is able to integrate several
  large classes of formulas. In particular, any polynomial or
  rational function (a polynomial divided by a polynomial) is
  acceptable. (Rational functions don&rsquo;t have to be in
  explicit quotient form, however;
  &lsquo;<samp>x/(1+x^-2)</samp>&rsquo; is not strictly a quotient
  of polynomials, but it is equivalent to
  &lsquo;<samp>x^3/(x^2+1)</samp>&rsquo;, which is.) Also, square
  roots of terms involving &lsquo;<samp>x</samp>&rsquo; and
  &lsquo;<samp>x^2</samp>&rsquo; may appear in rational functions
  being integrated. Finally, rational functions involving
  trigonometric or hyperbolic functions can be integrated.</p>

  <p>With an argument (<kbd>C-u a i</kbd>), this command will
  compute the definite integral of the expression on top of the
  stack. In this case, the command will again prompt for an
  integration variable, then prompt for a lower limit and an upper
  limit.</p>

  <p>If you use the <code>integ</code> function directly in an
  algebraic formula, you can also write
  &lsquo;<samp>integ(f,x,v)</samp>&rsquo; which expresses the
  resulting indefinite integral in terms of variable <code>v</code>
  instead of <code>x</code>. With four arguments,
  &lsquo;<samp>integ(f(x),x,a,b)</samp>&rsquo; represents a
  definite integral from <code>a</code> to <code>b</code>.</p>

  <p>Please note that the current implementation of Calc&rsquo;s
  integrator sometimes produces results that are significantly more
  complex than they need to be. For example, the integral Calc
  finds for &lsquo;<samp>1/(x+sqrt(x^2+1))</samp>&rsquo; is several
  times more complicated than the answer Mathematica returns for
  the same input, although the two forms are numerically
  equivalent. Also, any indefinite integral should be considered to
  have an arbitrary constant of integration added to it, although
  Calc does not write an explicit constant of integration in its
  result. For example, Calc&rsquo;s solution for
  &lsquo;<samp>1/(1+tan(x))</samp>&rsquo; differs from the solution
  given in the <em>CRC Math Tables</em> by a constant factor of
  &lsquo;<samp>pi i / 2</samp>&rsquo;, due to a different choice of
  constant of integration.</p>

  <p>The Calculator remembers all the integrals it has done. If
  conditions change in a way that would invalidate the old
  integrals, say, a switch from Degrees to Radians mode, then they
  will be thrown out. If you suspect this is not happening when it
  should, use the <code>calc-flush-caches</code> command; see
  <a href="Caches.html#Caches">Caches</a>.</p><a name=
  "index-IntegLimit" id="index-IntegLimit"></a>

  <p>Calc normally will pursue integration by substitution or
  integration by parts up to 3 nested times before abandoning an
  approach as fruitless. If the integrator is taking too long, you
  can lower this limit by storing a number (like 2) in the variable
  <code>IntegLimit</code>. (The <kbd>s I</kbd> command is a
  convenient way to edit <code>IntegLimit</code>.) If this variable
  has no stored value or does not contain a nonnegative integer, a
  limit of 3 is used. The lower this limit is, the greater the
  chance that Calc will be unable to integrate a function it could
  otherwise handle. Raising this limit allows the Calculator to
  solve more integrals, though the time it takes may grow
  exponentially. You can monitor the integrator&rsquo;s actions by
  creating an Emacs buffer called <samp>*Trace*</samp>. If such a
  buffer exists, the <kbd>a i</kbd> command will write a log of its
  actions there.</p>

  <p>If you want to manipulate integrals in a purely symbolic way,
  you can set the integration nesting limit to 0 to prevent all but
  fast table-lookup solutions of integrals. You might then wish to
  define rewrite rules for integration by parts, various kinds of
  substitutions, and so on. See <a href=
  "Rewrite-Rules.html#Rewrite-Rules">Rewrite Rules</a>.</p>
  <hr />

  <div class="header">
    <p>Next: <a href=
    "Customizing-the-Integrator.html#Customizing-the-Integrator"
    accesskey="n" rel="next">Customizing the Integrator</a>,
    Previous: <a href="Differentiation.html#Differentiation"
    accesskey="p" rel="prev">Differentiation</a>, Up: <a href=
    "Calculus.html#Calculus" accesskey="u" rel="up">Calculus</a>
    &nbsp; [<a href="index.html#SEC_Contents" title=
    "Table of contents" rel="contents">Contents</a>][<a href=
    "Key-Index.html#Key-Index" title="Index" rel=
    "index">Index</a>]</p>
  </div>
</body>
</html>
