<html lang="en">
<head>
<title>Misc File Ops - GNU Emacs Manual</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="GNU Emacs Manual">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="Files.html#Files" title="Files">
<link rel="prev" href="Diff-Mode.html#Diff-Mode" title="Diff Mode">
<link rel="next" href="Compressed-Files.html#Compressed-Files" title="Compressed Files">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
This is the Sixteenth edition of the `GNU Emacs Manual',

updated for Emacs version 23.2.50.

Copyright (C) 1985, 1986, 1987, 1993, 1994, 1995, 1996, 1997,
1998, 1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009,
2010  Free Software Foundation, Inc.

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.3 or any later version published by the Free Software
     Foundation; with the Invariant Sections being ``The GNU
     Manifesto,'' ``Distribution'' and ``GNU GENERAL PUBLIC LICENSE,''
     with the Front-Cover texts being ``A GNU Manual,'' and with the
     Back-Cover Texts as in (a) below.  A copy of the license is
     included in the section entitled ``GNU Free Documentation
     License.''

     (a) The FSF's Back-Cover Text is: ``You have the freedom to copy
     and modify this GNU manual.  Buying copies from the FSF supports
     it in developing GNU and promoting software freedom.''
   -->
<meta http-equiv="Content-Style-Type" content="text/css">

<link rel="stylesheet" href="aquamacs.css" type="text/css" /></head>
<body>
<div class="node">
<a name="Misc-File-Ops"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="Compressed-Files.html#Compressed-Files">Compressed Files</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="Diff-Mode.html#Diff-Mode">Diff Mode</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Files.html#Files">Files</a>
<hr>
</div>

<h3 class="section">22.11 Miscellaneous File Operations</h3>

<p>Emacs has commands for performing many other operations on files. 
All operate on one file; they do not accept wildcard file names.

   <p><a name="index-view_002dfile-964"></a><a name="index-viewing-965"></a><a name="index-View-mode-966"></a><a name="index-mode_002c-View-967"></a>  <kbd>M-x view-file</kbd> allows you to scan or read a file by sequential
screenfuls.  It reads a file name argument using the minibuffer.  After
reading the file into an Emacs buffer, <code>view-file</code> displays the
beginning.  You can then type &lt;SPC&gt; to scroll forward one windowful,
or &lt;DEL&gt; to scroll backward.  Various other commands are provided
for moving around in the file, but none for changing it; type <kbd>?</kbd>
while viewing for a list of them.  They are mostly the same as normal
Emacs cursor motion commands.  To exit from viewing, type <kbd>q</kbd>. 
The commands for viewing are defined by a special minor mode called View
mode.

   <p>A related command, <kbd>M-x view-buffer</kbd>, views a buffer already present
in Emacs.  See <a href="Misc-Buffer.html#Misc-Buffer">Misc Buffer</a>.

   <p><a name="index-C_002dx-i-968"></a><a name="index-insert_002dfile-969"></a>  <kbd>M-x insert-file</kbd> (also <kbd>C-x i</kbd>) inserts a copy of the
contents of the specified file into the current buffer at point,
leaving point unchanged before the contents.  The position after the
inserted contents is added to the mark ring, without activating the
mark (see <a href="Mark-Ring.html#Mark-Ring">Mark Ring</a>).

   <p><a name="index-insert_002dfile_002dliterally-970"></a>  <kbd>M-x insert-file-literally</kbd> is like <kbd>M-x insert-file</kbd>,
except the file is inserted &ldquo;literally&rdquo;: it is treated as a sequence
of <acronym>ASCII</acronym> characters with no special encoding or conversion,
similar to the <kbd>M-x find-file-literally</kbd> command
(see <a href="Visiting.html#Visiting">Visiting</a>).

   <p><a name="index-write_002dregion-971"></a>  <kbd>M-x write-region</kbd> is the inverse of <kbd>M-x insert-file</kbd>; it
copies the contents of the region into the specified file.  <kbd>M-x
append-to-file</kbd> adds the text of the region to the end of the
specified file.  See <a href="Accumulating-Text.html#Accumulating-Text">Accumulating Text</a>.  The variable
<code>write-region-inhibit-fsync</code> applies to these commands, as well
as saving files; see <a href="Customize-Save.html#Customize-Save">Customize Save</a>.

   <p><a name="index-delete_002dfile-972"></a><a name="index-deletion-_0028of-files_0029-973"></a><a name="index-delete_002dby_002dmoving_002dto_002dtrash-974"></a>  <kbd>M-x delete-file</kbd> deletes the specified file, like the <code>rm</code>
command in the shell.  If you are deleting many files in one
directory, it may be more convenient to use Dired rather than
<code>delete-file</code>.  See <a href="Dired.html#Dired">Dired</a>.

   <p><a name="index-trash-975"></a><a name="index-recycle-bin-976"></a>  On some systems, there is a facility called the &ldquo;Trash&rdquo; (or
&ldquo;Recycle Bin&rdquo;); &ldquo;deleting&rdquo; a file normally means moving it into
the Trash, and you can bring the file back from the Trash if you later
change your mind.  By default, Emacs does <em>not</em> use the Trash for
file deletion&mdash;when Emacs deletes a file, it is gone forever.  You
can tell Emacs to use the Trash by changing the variable
<code>delete-by-moving-to-trash</code> to <code>t</code>.  This applies to file
deletion via <kbd>M-x delete-file</kbd>, as well as <kbd>M-x
delete-directory</kbd> (see <a href="Directories.html#Directories">Directories</a>) and file deletion in Dired
(see <a href="Dired-Deletion.html#Dired-Deletion">Dired Deletion</a>).  In addition, you can explicitly move a file
into the Trash with the command <kbd>M-x move-file-to-trash</kbd>.

   <p><a name="index-rename_002dfile-977"></a>  <kbd>M-x rename-file</kbd> reads two file names <var>old</var> and <var>new</var> using
the minibuffer, then renames file <var>old</var> as <var>new</var>.  If the file name
<var>new</var> already exists, you must confirm with <kbd>yes</kbd> or renaming is not
done; this is because renaming causes the old meaning of the name <var>new</var>
to be lost.  If <var>old</var> and <var>new</var> are on different file systems, the
file <var>old</var> is copied and deleted.

   <p>If the argument <var>new</var> is just a directory name, the real new
name is in that directory, with the same non-directory component as
<var>old</var>.  For example, <kbd>M-x rename-file RET ~/foo RET /tmp RET</kbd>
renames <samp><span class="file">~/foo</span></samp> to <samp><span class="file">/tmp/foo</span></samp>.  The same rule applies to all
the remaining commands in this section.  All of them ask for
confirmation when the new file name already exists, too.

   <p><a name="index-add_002dname_002dto_002dfile-978"></a><a name="index-hard-links-_0028creation_0029-979"></a>  The similar command <kbd>M-x add-name-to-file</kbd> is used to add an
additional name to an existing file without removing its old name. 
The new name is created as a &ldquo;hard link&rdquo; to the existing file. 
The new name must belong on the same file system that the file is on. 
On MS-Windows, this command works only if the file resides in an NTFS
file system.  On MS-DOS, it works by copying the file.

   <p><a name="index-copy_002dfile-980"></a><a name="index-copy_002ddirectory-981"></a><a name="index-copying-files-982"></a>  <kbd>M-x copy-file</kbd> reads the file <var>old</var> and writes a new file
named <var>new</var> with the same contents.  <kbd>M-x copy-directory</kbd> does
the same for directories, by recursive copying all files and
subdirectories.

   <p><a name="index-make_002dsymbolic_002dlink-983"></a><a name="index-symbolic-links-_0028creation_0029-984"></a>  <kbd>M-x make-symbolic-link</kbd> reads two file names <var>target</var> and
<var>linkname</var>, then creates a symbolic link named <var>linkname</var>,
which points at <var>target</var>.  The effect is that future attempts to
open file <var>linkname</var> will refer to whatever file is named
<var>target</var> at the time the opening is done, or will get an error if
the name <var>target</var> is nonexistent at that time.  This command does
not expand the argument <var>target</var>, so that it allows you to specify
a relative name as the target of the link.

   <p>Not all systems support symbolic links; on systems that don't
support them, this command is not defined.

   <p><a name="index-set_002dfile_002dmodes-985"></a><a name="index-file-modes-986"></a><a name="index-file-permissions-987"></a>  <kbd>M-x set-file-modes</kbd> reads a file name followed by a <dfn>file
mode</dfn>, and applies that file mode to the specified file.  File modes,
also called <dfn>file permissions</dfn>, determine whether a file can be
read, written to, or executed, and by whom.  This command reads file
modes using the same symbolic or octal format accepted by the
<samp><span class="command">chmod</span></samp> command; for instance, &lsquo;<samp><span class="samp">u+x</span></samp>&rsquo; means to add
execution permission for the user who owns the file.  It has no effect
on operating systems that do not support file modes.  <code>chmod</code> is a
convenience alias for this function.

   </body></html>

